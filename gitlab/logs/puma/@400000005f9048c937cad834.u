2020-10-21_13:29:48.36178 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"Puma starting in cluster mode..."}
2020-10-21_13:29:48.36185 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:29:48.36185 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:29:48.36185 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"* Environment: production"}
2020-10-21_13:29:48.36186 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"* Process workers: 2"}
2020-10-21_13:29:48.36186 {"timestamp":"2020-10-21T13:29:48.250Z","pid":464,"message":"* Preloading application"}
2020-10-21_13:30:12.97177 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:30:14.08863 {"timestamp":"2020-10-21T13:30:14.088Z","pid":464,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:30:14.09203 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:30:14.09212 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:30:14.09212   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:30:14.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:30:14.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:30:14.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:30:14.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:30:14.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:30:14.09214   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:30:14.09214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:30:14.09214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:30:14.09214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:30:14.09214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:30:14.09215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:30:14.09216   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:30:14.09216   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:30:14.09216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:30:14.09216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:30:14.09217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:30:14.09217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:30:14.09217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:30:14.09217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:30:14.09217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:30:14.09218   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:30:14.09219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:30:14.09220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:30:14.09220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:30:14.09220   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:30:14.09220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:14.09221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:30:14.09221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:30:14.09221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:14.09221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:30:14.09222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:30:14.09222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:30:14.09223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:30:14.09223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:30:14.09223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:30:14.09223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:30:14.09223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:30:14.09224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:30:14.09225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:30:14.09225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:30:14.09225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:30:14.09225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:30:14.09225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:30:14.09226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:30:14.09226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:30:14.09226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:30:14.09226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:30:14.09226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:30:14.09227   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:30:14.09228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:30:14.09228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:30:14.09228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:30:14.09228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:30:14.09229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:30:14.09229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:30:14.09229   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:30:14.09229   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:30:14.09229   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:30:14.09230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:30:14.09230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:30:14.09230   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:30:14.09231   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:30:14.09231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:30:14.09231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:30:14.09232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:30:14.09232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:30:14.09232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:30:14.09232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:30:14.09232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:30:14.09233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:30:14.09233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:30:14.09235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:30:14.09236   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:30:14.09236   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:30:14.82912 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"Puma starting in cluster mode..."}
2020-10-21_13:30:14.82921 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:30:14.82927 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:30:14.82933 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"* Environment: production"}
2020-10-21_13:30:14.82963 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"* Process workers: 2"}
2020-10-21_13:30:14.82969 {"timestamp":"2020-10-21T13:30:14.829Z","pid":786,"message":"* Preloading application"}
2020-10-21_13:30:28.23262 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:30:29.24561 {"timestamp":"2020-10-21T13:30:29.245Z","pid":786,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:30:29.24563 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:30:29.24564 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:30:29.24564   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:30:29.24564   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:30:29.24564   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:30:29.24564   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:30:29.24565   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:30:29.24565   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:30:29.24565   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:30:29.24565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:30:29.24565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:30:29.24566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:30:29.24567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:30:29.24567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:30:29.24567   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:30:29.24567   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:30:29.24568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:30:29.24568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:30:29.24568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:30:29.24568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:30:29.24568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:30:29.24569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:30:29.24570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:30:29.24570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:30:29.24570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:30:29.24570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:30:29.24570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:30:29.24571   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:30:29.24571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:29.24571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:30:29.24572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:30:29.24572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:29.24572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:30:29.24573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:30:29.24573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:30:29.24573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:30:29.24574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:30:29.24574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:30:29.24574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:30:29.24575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:30:29.24575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:30:29.24575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:30:29.24576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:30:29.24576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:30:29.24576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:30:29.24576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:30:29.24576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:30:29.24577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:30:29.24577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:30:29.24578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:30:29.24578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:30:29.24578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:30:29.24578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:30:29.24579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:30:29.24579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:30:29.24579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:30:29.24579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:30:29.24579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:30:29.24580   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:30:29.24580   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:30:29.24580   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:30:29.24581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:30:29.24581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:30:29.24581   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:30:29.24582   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:30:29.24582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:30:29.24582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:30:29.24582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:30:29.24583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:30:29.24583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:30:29.24583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:30:29.24583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:30:29.24584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:30:29.24584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:30:29.24585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:30:29.24585   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:30:29.24585   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:30:30.05950 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"Puma starting in cluster mode..."}
2020-10-21_13:30:30.05952 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:30:30.05953 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:30:30.05954 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"* Environment: production"}
2020-10-21_13:30:30.05954 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"* Process workers: 2"}
2020-10-21_13:30:30.05955 {"timestamp":"2020-10-21T13:30:30.059Z","pid":984,"message":"* Preloading application"}
2020-10-21_13:30:43.78936 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:30:44.49113 {"timestamp":"2020-10-21T13:30:44.490Z","pid":984,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:30:44.49130 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:30:44.49131 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:30:44.49132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:30:44.49132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:30:44.49132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:30:44.49132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:30:44.49132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:30:44.49133   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:30:44.49133   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:30:44.49133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:30:44.49133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:30:44.49133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:30:44.49134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:30:44.49134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:30:44.49135   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:30:44.49136   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:30:44.49136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:30:44.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:30:44.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:30:44.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:30:44.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:30:44.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:30:44.49138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:30:44.49138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:30:44.49139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:30:44.49139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:30:44.49139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:30:44.49140   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:30:44.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:44.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:30:44.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:30:44.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:30:44.49141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:30:44.49142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:30:44.49142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:30:44.49142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:30:44.49142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:30:44.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:30:44.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:30:44.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:30:44.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:30:44.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:30:44.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:30:44.49145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:30:44.49145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:30:44.49145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:30:44.49146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:30:44.49146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:30:44.49146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:30:44.49146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:30:44.49146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:30:44.49147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:30:44.49148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:30:44.49148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:30:44.49148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:30:44.49148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:30:44.49148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:30:44.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:30:44.49149   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:30:44.49149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:30:44.49149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:30:44.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:30:44.49150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:30:44.49150   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:30:44.49151   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:30:44.49151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:30:44.49151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:30:44.49151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:30:44.49152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:30:44.49152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:30:44.49152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:30:44.49152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:30:44.49152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:30:44.49153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:30:44.49154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:30:44.49154   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:30:44.49154   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:30:45.44456 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"Puma starting in cluster mode..."}
2020-10-21_13:30:45.44458 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:30:45.44460 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:30:45.44460 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"* Environment: production"}
2020-10-21_13:30:45.44460 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"* Process workers: 2"}
2020-10-21_13:30:45.44461 {"timestamp":"2020-10-21T13:30:45.444Z","pid":1322,"message":"* Preloading application"}
2020-10-21_13:31:01.38760 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:31:02.42544 {"timestamp":"2020-10-21T13:31:02.425Z","pid":1322,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:31:02.42555 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:31:02.42556 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:31:02.42556   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:31:02.42557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:31:02.42557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:31:02.42557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:31:02.42557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:31:02.42558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:31:02.42558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:31:02.42558   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:31:02.42558   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:31:02.42558   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:31:02.42559   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:31:02.42559   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:31:02.42560   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:31:02.42560   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:31:02.42561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:31:02.42561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:31:02.42561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:31:02.42561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:31:02.42562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:31:02.42562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:31:02.42562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:31:02.42562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:31:02.42563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:31:02.42564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:31:02.42565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:31:02.42565   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:31:02.42565   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:02.42565   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:31:02.42566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:31:02.42566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:02.42566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:31:02.42567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:31:02.42567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:31:02.42567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:31:02.42568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:31:02.42568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:31:02.42568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:31:02.42568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:31:02.42569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:31:02.42570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:31:02.42570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:31:02.42570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:31:02.42570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:31:02.42570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:31:02.42571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:31:02.42571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:31:02.42571   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:31:02.42571   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:31:02.42572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:31:02.42572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:31:02.42573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:31:02.42573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:31:02.42573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:31:02.42573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:31:02.42574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:31:02.42574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:31:02.42574   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:31:02.42574   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:31:02.42575   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:31:02.42575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:31:02.42575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:31:02.42575   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:31:02.42576   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:31:02.42576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:31:02.42577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:31:02.42577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:31:02.42577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:31:02.42577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:31:02.42578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:31:02.42578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:31:02.42578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:31:02.42578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:31:02.42579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:31:02.42580   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:31:02.42580   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:31:03.51239 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"Puma starting in cluster mode..."}
2020-10-21_13:31:03.51241 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:31:03.51242 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:31:03.51242 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"* Environment: production"}
2020-10-21_13:31:03.51242 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"* Process workers: 2"}
2020-10-21_13:31:03.51243 {"timestamp":"2020-10-21T13:31:03.512Z","pid":1857,"message":"* Preloading application"}
2020-10-21_13:31:17.67642 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:31:18.24379 {"timestamp":"2020-10-21T13:31:18.243Z","pid":1857,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:31:18.24383 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:31:18.24415 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:31:18.24417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:31:18.24418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:31:18.24419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:31:18.24419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:31:18.24419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:31:18.24420   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:31:18.24420   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:31:18.24420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:31:18.24420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:31:18.24421   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:31:18.24421   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:31:18.24421   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:31:18.24422   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:31:18.24422   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:31:18.24423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:31:18.24423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:31:18.24423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:31:18.24428   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:31:18.24429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:31:18.24429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:31:18.24429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:31:18.24429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:31:18.24431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:31:18.24431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:31:18.24431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:31:18.24431   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:31:18.24431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:18.24432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:31:18.24432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:31:18.24432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:18.24432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:31:18.24451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:31:18.24451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:31:18.24452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:31:18.24452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:31:18.24452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:31:18.24453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:31:18.24453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:31:18.24453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:31:18.24454   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:31:18.24455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:31:18.24455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:31:18.24455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:31:18.24455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:31:18.24455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:31:18.24456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:31:18.24456   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:31:18.24456   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:31:18.24456   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:31:18.24457   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:31:18.24462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:31:18.24462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:31:18.24463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:31:18.24463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:31:18.24463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:31:18.24463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:31:18.24463   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:31:18.24464   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:31:18.24464   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:31:18.24464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:31:18.24464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:31:18.24465   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:31:18.24466   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:31:18.24466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:31:18.24466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:31:18.24466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:31:18.24482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:31:18.24484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:31:18.24485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:31:18.24485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:31:18.24485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:31:18.24486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:31:18.24487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:31:18.24487   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:31:18.24487   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:31:18.89134 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"Puma starting in cluster mode..."}
2020-10-21_13:31:18.89143 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:31:18.89149 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:31:18.89156 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"* Environment: production"}
2020-10-21_13:31:18.89166 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"* Process workers: 2"}
2020-10-21_13:31:18.89175 {"timestamp":"2020-10-21T13:31:18.891Z","pid":2329,"message":"* Preloading application"}
2020-10-21_13:31:32.88389 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:31:33.82467 {"timestamp":"2020-10-21T13:31:33.824Z","pid":2329,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:31:33.82480 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:31:33.82507 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:31:33.82508   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:31:33.82508   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:31:33.82508   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:31:33.82508   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:31:33.82509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:31:33.82509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:31:33.82509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:31:33.82509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:31:33.82510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:31:33.82510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:31:33.82510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:31:33.82510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:31:33.82511   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:31:33.82512   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:31:33.82512   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:31:33.82513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:31:33.82513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:31:33.82513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:31:33.82514   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:31:33.82514   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:31:33.82514   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:31:33.82514   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:31:33.82515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:31:33.82516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:31:33.82516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:31:33.82516   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:31:33.82516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:33.82517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:31:33.82517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:31:33.82517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:33.82517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:31:33.82518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:31:33.82519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:31:33.82519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:31:33.82519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:31:33.82519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:31:33.82519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:31:33.82520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:31:33.82520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:31:33.82521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:31:33.82521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:31:33.82521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:31:33.82522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:31:33.82522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:31:33.82523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:31:33.82523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:31:33.82523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:31:33.82524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:31:33.82524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:31:33.82524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:31:33.82525   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:31:33.82525   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:31:33.82525   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:31:33.82526   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:31:33.82526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:31:33.82526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:31:33.82526   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:31:33.82527   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:31:33.82527   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:31:33.82527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:31:33.82527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:31:33.82528   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:31:33.82528   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:31:33.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:31:33.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:31:33.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:31:33.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:31:33.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:31:33.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:31:33.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:31:33.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:31:33.82531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:31:33.82541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:31:33.82548   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:31:33.82549   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:31:34.73377 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"Puma starting in cluster mode..."}
2020-10-21_13:31:34.73380 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:31:34.73381 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:31:34.73381 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"* Environment: production"}
2020-10-21_13:31:34.73382 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"* Process workers: 2"}
2020-10-21_13:31:34.73383 {"timestamp":"2020-10-21T13:31:34.733Z","pid":2773,"message":"* Preloading application"}
2020-10-21_13:31:47.24046 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:31:48.12465 {"timestamp":"2020-10-21T13:31:48.124Z","pid":2773,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:31:48.12492 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:31:48.12503 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:31:48.12504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:31:48.12504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:31:48.12504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:31:48.12505   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:31:48.12505   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:31:48.12505   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:31:48.12505   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:31:48.12506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:31:48.12506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:31:48.12506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:31:48.12506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:31:48.12507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:31:48.12508   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:31:48.12508   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:31:48.12508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:31:48.12509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:31:48.12509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:31:48.12509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:31:48.12510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:31:48.12510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:31:48.12510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:31:48.12510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:31:48.12511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:31:48.12512   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:31:48.12512   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:31:48.12512   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:31:48.12513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:48.12514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:31:48.12514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:31:48.12514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:31:48.12514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:31:48.12515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:31:48.12516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:31:48.12516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:31:48.12516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:31:48.12516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:31:48.12517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:31:48.12517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:31:48.12517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:31:48.12518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:31:48.12518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:31:48.12519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:31:48.12519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:31:48.12519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:31:48.12519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:31:48.12520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:31:48.12520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:31:48.12520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:31:48.12520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:31:48.12521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:31:48.12522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:31:48.12522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:31:48.12522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:31:48.12522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:31:48.12522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:31:48.12523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:31:48.12523   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:31:48.12523   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:31:48.12524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:31:48.12524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:31:48.12524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:31:48.12524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:31:48.12525   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:31:48.12526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:31:48.12526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:31:48.12526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:31:48.12526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:31:48.12527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:31:48.12527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:31:48.12527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:31:48.12527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:31:48.12528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:31:48.12529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:31:48.12529   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:31:48.12529   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:31:48.99445 {"timestamp":"2020-10-21T13:31:48.994Z","pid":3218,"message":"Puma starting in cluster mode..."}
2020-10-21_13:31:48.99459 {"timestamp":"2020-10-21T13:31:48.994Z","pid":3218,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:31:48.99481 {"timestamp":"2020-10-21T13:31:48.994Z","pid":3218,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:31:48.99489 {"timestamp":"2020-10-21T13:31:48.994Z","pid":3218,"message":"* Environment: production"}
2020-10-21_13:31:48.99505 {"timestamp":"2020-10-21T13:31:48.994Z","pid":3218,"message":"* Process workers: 2"}
2020-10-21_13:31:48.99520 {"timestamp":"2020-10-21T13:31:48.995Z","pid":3218,"message":"* Preloading application"}
2020-10-21_13:32:01.68290 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:32:02.80391 {"timestamp":"2020-10-21T13:32:02.803Z","pid":3218,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:32:02.80416 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:32:02.80432 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:32:02.80432   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:32:02.80433   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:32:02.80433   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:32:02.80433   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:32:02.80434   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:32:02.80434   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:32:02.80435   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:32:02.80435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:32:02.80435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:32:02.80435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:32:02.80436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:32:02.80436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:32:02.80437   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:32:02.80437   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:32:02.80437   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:32:02.80438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:32:02.80438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:32:02.80438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:32:02.80438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:32:02.80439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:32:02.80439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:32:02.80439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:32:02.80440   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:32:02.80440   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:32:02.80441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:32:02.80441   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:32:02.80441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:02.80441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:32:02.80442   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:32:02.80442   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:02.80442   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:32:02.80443   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:32:02.80443   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:32:02.80444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:32:02.80444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:32:02.80444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:32:02.80445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:32:02.80445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:32:02.80445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:32:02.80446   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:32:02.80446   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:32:02.80447   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:32:02.80447   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:32:02.80447   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:32:02.80447   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:32:02.80447   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:32:02.80448   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:32:02.80448   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:32:02.80448   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:32:02.80448   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:32:02.80449   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:32:02.80450   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:32:02.80450   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:32:02.80450   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:32:02.80450   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:32:02.80451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:32:02.80451   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:32:02.80451   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:32:02.80451   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:32:02.80451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:32:02.80452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:32:02.80452   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:32:02.80453   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:32:02.80453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:32:02.80453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:32:02.80454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:32:02.80454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:32:02.80454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:32:02.80454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:32:02.80455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:32:02.80455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:32:02.80455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:32:02.80484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:32:02.80484   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:32:02.80484   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:32:03.69497 {"timestamp":"2020-10-21T13:32:03.694Z","pid":3676,"message":"Puma starting in cluster mode..."}
2020-10-21_13:32:03.69514 {"timestamp":"2020-10-21T13:32:03.695Z","pid":3676,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:32:03.69525 {"timestamp":"2020-10-21T13:32:03.695Z","pid":3676,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:32:03.69538 {"timestamp":"2020-10-21T13:32:03.695Z","pid":3676,"message":"* Environment: production"}
2020-10-21_13:32:03.69550 {"timestamp":"2020-10-21T13:32:03.695Z","pid":3676,"message":"* Process workers: 2"}
2020-10-21_13:32:03.69565 {"timestamp":"2020-10-21T13:32:03.695Z","pid":3676,"message":"* Preloading application"}
2020-10-21_13:32:17.36256 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:32:18.00026 {"timestamp":"2020-10-21T13:32:18.000Z","pid":3676,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:32:18.00030 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:32:18.00041 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:32:18.00045   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:32:18.00046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:32:18.00046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:32:18.00046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:32:18.00046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:32:18.00046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:32:18.00047   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:32:18.00047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:32:18.00047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:32:18.00047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:32:18.00047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:32:18.00048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:32:18.00049   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:32:18.00049   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:32:18.00049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:32:18.00050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:32:18.00050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:32:18.00055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:32:18.00055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:32:18.00055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:32:18.00056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:32:18.00056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:32:18.00069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:32:18.00069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:32:18.00070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:32:18.00070   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:32:18.00070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:18.00070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:32:18.00071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:32:18.00071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:18.00071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:32:18.00072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:32:18.00073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:32:18.00073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:32:18.00073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:32:18.00073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:32:18.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:32:18.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:32:18.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:32:18.00075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:32:18.00075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:32:18.00076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:32:18.00076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:32:18.00076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:32:18.00076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:32:18.00077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:32:18.00079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:32:18.00079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:32:18.00080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:32:18.00080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:32:18.00081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:32:18.00081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:32:18.00081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:32:18.00082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:32:18.00082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:32:18.00082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:32:18.00082   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:32:18.00082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:32:18.00090   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:32:18.00093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:32:18.00094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:32:18.00094   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:32:18.00095   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:32:18.00095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:32:18.00095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:32:18.00096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:32:18.00096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:32:18.00096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:32:18.00096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:32:18.00097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:32:18.00097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:32:18.00097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:32:18.00098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:32:18.00098   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:32:18.00099   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:32:18.65082 {"timestamp":"2020-10-21T13:32:18.650Z","pid":4121,"message":"Puma starting in cluster mode..."}
2020-10-21_13:32:18.65100 {"timestamp":"2020-10-21T13:32:18.650Z","pid":4121,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:32:18.65109 {"timestamp":"2020-10-21T13:32:18.651Z","pid":4121,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:32:18.65124 {"timestamp":"2020-10-21T13:32:18.651Z","pid":4121,"message":"* Environment: production"}
2020-10-21_13:32:18.65142 {"timestamp":"2020-10-21T13:32:18.651Z","pid":4121,"message":"* Process workers: 2"}
2020-10-21_13:32:18.65158 {"timestamp":"2020-10-21T13:32:18.651Z","pid":4121,"message":"* Preloading application"}
2020-10-21_13:32:31.94908 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:32:32.66150 {"timestamp":"2020-10-21T13:32:32.661Z","pid":4121,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:32:32.66176 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:32:32.66177 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:32:32.66177   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:32:32.66178   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:32:32.66178   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:32:32.66178   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:32:32.66178   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:32:32.66179   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:32:32.66179   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:32:32.66179   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:32:32.66179   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:32:32.66180   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:32:32.66180   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:32:32.66180   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:32:32.66181   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:32:32.66182   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:32:32.66182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:32:32.66182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:32:32.66183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:32:32.66183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:32:32.66183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:32:32.66183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:32:32.66184   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:32:32.66185   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:32:32.66185   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:32:32.66185   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:32:32.66186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:32:32.66186   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:32:32.66186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:32.66187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:32:32.66188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:32:32.66188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:32.66189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:32:32.66189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:32:32.66189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:32:32.66190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:32:32.66190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:32:32.66190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:32:32.66190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:32:32.66191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:32:32.66191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:32:32.66192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:32:32.66192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:32:32.66192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:32:32.66193   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:32:32.66193   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:32:32.66193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:32:32.66193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:32:32.66194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:32:32.66194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:32:32.66194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:32:32.66195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:32:32.66195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:32:32.66196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:32:32.66226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:32:32.66227   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:32:32.66227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:32:32.66227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:32:32.66227   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:32:32.66228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:32:32.66228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:32:32.66229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:32:32.66229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:32:32.66230   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:32:32.66230   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:32:32.66231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:32:32.66231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:32:32.66231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:32:32.66231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:32:32.66232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:32:32.66232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:32:32.66232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:32:32.66232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:32:32.66233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:32:32.66234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:32:32.66234   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:32:32.66234   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:32:33.40210 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"Puma starting in cluster mode..."}
2020-10-21_13:32:33.40212 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:32:33.40213 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:32:33.40213 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"* Environment: production"}
2020-10-21_13:32:33.40214 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"* Process workers: 2"}
2020-10-21_13:32:33.40215 {"timestamp":"2020-10-21T13:32:33.402Z","pid":4549,"message":"* Preloading application"}
2020-10-21_13:32:46.21739 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:32:47.16905 {"timestamp":"2020-10-21T13:32:47.168Z","pid":4549,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:32:47.16926 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:32:47.16957 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:32:47.16959   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:32:47.16960   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:32:47.16960   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:32:47.16960   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:32:47.16961   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:32:47.16961   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:32:47.16961   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:32:47.16972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:32:47.16973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:32:47.16973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:32:47.16973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:32:47.16973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:32:47.16978   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:32:47.16978   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:32:47.16979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:32:47.16979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:32:47.16979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:32:47.16979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:32:47.16980   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:32:47.16980   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:32:47.16980   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:32:47.16980   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:32:47.16990   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:32:47.16991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:32:47.16991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:32:47.16992   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:32:47.16992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:47.16992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:32:47.16992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:32:47.16993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:32:47.16993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:32:47.16994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:32:47.16994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:32:47.16995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:32:47.16995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:32:47.16995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:32:47.16995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:32:47.16996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:32:47.16997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:32:47.16998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:32:47.17004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:32:47.17006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:32:47.17007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:32:47.17007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:32:47.17007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:32:47.17007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:32:47.17008   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:32:47.17012   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:32:47.17013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:32:47.17013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:32:47.17014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:32:47.17015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:32:47.17015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:32:47.17015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:32:47.17015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:32:47.17016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:32:47.17016   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:32:47.17016   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:32:47.17016   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:32:47.17016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:32:47.17017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:32:47.17017   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:32:47.17018   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:32:47.17018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:32:47.17018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:32:47.17019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:32:47.17019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:32:47.17019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:32:47.17019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:32:47.17020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:32:47.17027   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:32:47.17028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:32:47.17033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:32:47.17033   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:32:47.17033   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:32:48.04115 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"Puma starting in cluster mode..."}
2020-10-21_13:32:48.04118 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:32:48.04119 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:32:48.04119 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"* Environment: production"}
2020-10-21_13:32:48.04139 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"* Process workers: 2"}
2020-10-21_13:32:48.04174 {"timestamp":"2020-10-21T13:32:48.041Z","pid":4981,"message":"* Preloading application"}
2020-10-21_13:33:00.90390 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:33:01.78104 {"timestamp":"2020-10-21T13:33:01.780Z","pid":4981,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:33:01.78145 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:33:01.78162 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:33:01.78163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:33:01.78163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:33:01.78163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:33:01.78164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:33:01.78164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:33:01.78164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:33:01.78164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:33:01.78165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:33:01.78165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:33:01.78165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:33:01.78165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:33:01.78165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:33:01.78167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:33:01.78167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:33:01.78167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:33:01.78167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:33:01.78168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:33:01.78168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:33:01.78169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:33:01.78169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:33:01.78169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:33:01.78170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:33:01.78171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:33:01.78171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:33:01.78171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:33:01.78171   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:33:01.78172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:01.78172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:33:01.78172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:33:01.78172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:01.78173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:33:01.78174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:33:01.78174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:33:01.78174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:33:01.78174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:33:01.78175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:33:01.78175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:33:01.78175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:33:01.78175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:33:01.78176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:33:01.78177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:33:01.78177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:33:01.78177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:33:01.78177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:33:01.78178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:33:01.78178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:33:01.78178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:33:01.78178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:33:01.78179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:33:01.78179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:33:01.78180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:33:01.78180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:33:01.78181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:33:01.78181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:33:01.78181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:33:01.78181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:33:01.78182   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:33:01.78182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:33:01.78182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:33:01.78182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:33:01.78183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:33:01.78183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:33:01.78184   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:33:01.78184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:33:01.78184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:33:01.78184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:33:01.78185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:33:01.78185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:33:01.78185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:33:01.78185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:33:01.78186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:33:01.78186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:33:01.78187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:33:01.78187   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:33:01.78188   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:33:02.75341 {"timestamp":"2020-10-21T13:33:02.753Z","pid":5439,"message":"Puma starting in cluster mode..."}
2020-10-21_13:33:02.75369 {"timestamp":"2020-10-21T13:33:02.753Z","pid":5439,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:33:02.75391 {"timestamp":"2020-10-21T13:33:02.753Z","pid":5439,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:33:02.75412 {"timestamp":"2020-10-21T13:33:02.754Z","pid":5439,"message":"* Environment: production"}
2020-10-21_13:33:02.75432 {"timestamp":"2020-10-21T13:33:02.754Z","pid":5439,"message":"* Process workers: 2"}
2020-10-21_13:33:02.75452 {"timestamp":"2020-10-21T13:33:02.754Z","pid":5439,"message":"* Preloading application"}
2020-10-21_13:33:16.62571 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:33:17.29978 {"timestamp":"2020-10-21T13:33:17.299Z","pid":5439,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:33:17.30009 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:33:17.30023 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:33:17.30024   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:33:17.30024   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:33:17.30024   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:33:17.30024   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:33:17.30025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:33:17.30025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:33:17.30025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:33:17.30025   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:33:17.30026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:33:17.30026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:33:17.30026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:33:17.30026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:33:17.30027   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:33:17.30028   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:33:17.30028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:33:17.30028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:33:17.30028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:33:17.30028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:33:17.30029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:33:17.30029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:33:17.30029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:33:17.30029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:33:17.30030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:33:17.30031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:33:17.30031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:33:17.30031   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:33:17.30031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:17.30032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:33:17.30032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:33:17.30033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:17.30033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:33:17.30034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:33:17.30034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:33:17.30034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:33:17.30035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:33:17.30035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:33:17.30035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:33:17.30035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:33:17.30036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:33:17.30037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:33:17.30037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:33:17.30037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:33:17.30037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:33:17.30038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:33:17.30038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:33:17.30038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:33:17.30038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:33:17.30038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:33:17.30039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:33:17.30039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:33:17.30040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:33:17.30040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:33:17.30040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:33:17.30040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:33:17.30041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:33:17.30041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:33:17.30041   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:33:17.30041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:33:17.30042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:33:17.30042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:33:17.30042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:33:17.30042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:33:17.30043   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:33:17.30044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:33:17.30044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:33:17.30044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:33:17.30044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:33:17.30045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:33:17.30045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:33:17.30045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:33:17.30045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:33:17.30046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:33:17.30047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:33:17.30047   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:33:17.30047   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:33:17.96047 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"Puma starting in cluster mode..."}
2020-10-21_13:33:17.96049 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:33:17.96050 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:33:17.96050 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"* Environment: production"}
2020-10-21_13:33:17.96050 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"* Process workers: 2"}
2020-10-21_13:33:17.96050 {"timestamp":"2020-10-21T13:33:17.960Z","pid":5894,"message":"* Preloading application"}
2020-10-21_13:33:31.35023 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:33:32.07414 {"timestamp":"2020-10-21T13:33:32.074Z","pid":5894,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:33:32.07450 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:33:32.07468 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:33:32.07469   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:33:32.07469   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:33:32.07469   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:33:32.07469   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:33:32.07470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:33:32.07470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:33:32.07470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:33:32.07470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:33:32.07470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:33:32.07471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:33:32.07472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:33:32.07472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:33:32.07473   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:33:32.07473   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:33:32.07474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:33:32.07474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:33:32.07474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:33:32.07474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:33:32.07475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:33:32.07475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:33:32.07475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:33:32.07475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:33:32.07476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:33:32.07476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:33:32.07477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:33:32.07477   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:33:32.07477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:32.07477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:33:32.07478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:33:32.07478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:32.07478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:33:32.07486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:33:32.07507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:33:32.07507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:33:32.07508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:33:32.07508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:33:32.07508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:33:32.07508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:33:32.07509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:33:32.07510   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:33:32.07511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:33:32.07511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:33:32.07511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:33:32.07511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:33:32.07512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:33:32.07519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:33:32.07519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:33:32.07520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:33:32.07520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:33:32.07534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:33:32.07536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:33:32.07536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:33:32.07536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:33:32.07537   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:33:32.07537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:33:32.07537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:33:32.07537   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:33:32.07538   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:33:32.07545   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:33:32.07545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:33:32.07559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:33:32.07559   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:33:32.07560   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:33:32.07561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:33:32.07561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:33:32.07561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:33:32.07561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:33:32.07561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:33:32.07568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:33:32.07569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:33:32.07569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:33:32.07581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:33:32.07582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:33:32.07583   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:33:32.07583   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:33:32.99124 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"Puma starting in cluster mode..."}
2020-10-21_13:33:32.99146 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:33:32.99154 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:33:32.99171 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"* Environment: production"}
2020-10-21_13:33:32.99186 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"* Process workers: 2"}
2020-10-21_13:33:32.99201 {"timestamp":"2020-10-21T13:33:32.991Z","pid":6326,"message":"* Preloading application"}
2020-10-21_13:33:45.44352 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:33:46.29011 {"timestamp":"2020-10-21T13:33:46.289Z","pid":6326,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:33:46.29038 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:33:46.29059 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:33:46.29062   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:33:46.29063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:33:46.29063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:33:46.29064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:33:46.29064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:33:46.29064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:33:46.29064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:33:46.29065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:33:46.29065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:33:46.29065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:33:46.29065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:33:46.29075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:33:46.29081   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:33:46.29082   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:33:46.29082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:33:46.29082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:33:46.29082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:33:46.29083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:33:46.29083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:33:46.29083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:33:46.29084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:33:46.29095   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:33:46.29097   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:33:46.29097   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:33:46.29097   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:33:46.29097   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:33:46.29098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:46.29098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:33:46.29103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:33:46.29103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:33:46.29103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:33:46.29105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:33:46.29105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:33:46.29105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:33:46.29105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:33:46.29106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:33:46.29106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:33:46.29106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:33:46.29109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:33:46.29110   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:33:46.29114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:33:46.29114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:33:46.29114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:33:46.29114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:33:46.29115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:33:46.29115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:33:46.29115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:33:46.29115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:33:46.29116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:33:46.29116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:33:46.29117   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:33:46.29118   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:33:46.29134   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:33:46.29137   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:33:46.29138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:33:46.29138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:33:46.29138   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:33:46.29139   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:33:46.29139   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:33:46.29139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:33:46.29139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:33:46.29139   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:33:46.29144   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:33:46.29144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:33:46.29147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:33:46.29147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:33:46.29148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:33:46.29148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:33:46.29148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:33:46.29148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:33:46.29149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:33:46.29149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:33:46.29166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:33:46.29167   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:33:46.29167   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:33:47.19248 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"Puma starting in cluster mode..."}
2020-10-21_13:33:47.19252 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:33:47.19253 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:33:47.19254 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"* Environment: production"}
2020-10-21_13:33:47.19254 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"* Process workers: 2"}
2020-10-21_13:33:47.19265 {"timestamp":"2020-10-21T13:33:47.192Z","pid":6765,"message":"* Preloading application"}
2020-10-21_13:34:03.62055 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:34:04.45553 {"timestamp":"2020-10-21T13:34:04.455Z","pid":6765,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:34:04.45591 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:34:04.45606 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:34:04.45607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:34:04.45607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:34:04.45607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:34:04.45607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:34:04.45608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:34:04.45608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:34:04.45608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:34:04.45608   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:34:04.45609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:34:04.45609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:34:04.45609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:34:04.45609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:34:04.45610   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:34:04.45611   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:34:04.45611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:34:04.45611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:34:04.45611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:34:04.45612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:34:04.45612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:34:04.45612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:34:04.45612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:34:04.45612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:34:04.45613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:34:04.45614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:34:04.45614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:34:04.45614   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:34:04.45614   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:04.45615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:34:04.45615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:34:04.45615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:04.45616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:34:04.45617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:34:04.45617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:34:04.45617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:34:04.45618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:34:04.45618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:34:04.45618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:34:04.45618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:34:04.45619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:34:04.45620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:34:04.45620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:34:04.45620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:34:04.45620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:34:04.45621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:34:04.45621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:34:04.45621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:34:04.45621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:34:04.45621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:34:04.45622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:34:04.45622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:34:04.45623   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:34:04.45623   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:34:04.45623   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:34:04.45624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:34:04.45624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:34:04.45624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:34:04.45624   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:34:04.45624   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:34:04.45625   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:34:04.45625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:34:04.45625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:34:04.45625   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:34:04.45626   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:34:04.45627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:34:04.45627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:34:04.45627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:34:04.45627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:34:04.45628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:34:04.45628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:34:04.45628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:34:04.45628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:34:04.45629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:34:04.45630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:34:04.45630   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:34:04.45630   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:34:05.35139 {"timestamp":"2020-10-21T13:34:05.351Z","pid":7293,"message":"Puma starting in cluster mode..."}
2020-10-21_13:34:05.35166 {"timestamp":"2020-10-21T13:34:05.351Z","pid":7293,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:34:05.35185 {"timestamp":"2020-10-21T13:34:05.351Z","pid":7293,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:34:05.35205 {"timestamp":"2020-10-21T13:34:05.352Z","pid":7293,"message":"* Environment: production"}
2020-10-21_13:34:05.35223 {"timestamp":"2020-10-21T13:34:05.352Z","pid":7293,"message":"* Process workers: 2"}
2020-10-21_13:34:05.35242 {"timestamp":"2020-10-21T13:34:05.352Z","pid":7293,"message":"* Preloading application"}
2020-10-21_13:34:18.89284 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:34:19.49123 {"timestamp":"2020-10-21T13:34:19.491Z","pid":7293,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:34:19.49127 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:34:19.49128 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:34:19.49129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:34:19.49130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:34:19.49130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:34:19.49130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:34:19.49130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:34:19.49130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:34:19.49131   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:34:19.49131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:34:19.49131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:34:19.49131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:34:19.49131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:34:19.49132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:34:19.49133   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:34:19.49134   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:34:19.49134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:34:19.49134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:34:19.49134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:34:19.49135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:34:19.49135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:34:19.49135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:34:19.49135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:34:19.49135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:34:19.49136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:34:19.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:34:19.49137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:34:19.49137   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:34:19.49137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:19.49138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:34:19.49138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:34:19.49138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:19.49138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:34:19.49139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:34:19.49139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:34:19.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:34:19.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:34:19.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:34:19.49140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:34:19.49141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:34:19.49141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:34:19.49142   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:34:19.49142   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:34:19.49142   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:34:19.49143   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:34:19.49143   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:34:19.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:34:19.49143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:34:19.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:34:19.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:34:19.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:34:19.49144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:34:19.49145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:34:19.49145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:34:19.49146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:34:19.49146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:34:19.49146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:34:19.49146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:34:19.49146   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:34:19.49147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:34:19.49147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:34:19.49147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:34:19.49147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:34:19.49148   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:34:19.49149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:34:19.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:34:19.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:34:19.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:34:19.49149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:34:19.49150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:34:19.49150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:34:19.49150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:34:19.49150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:34:19.49153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:34:19.49154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:34:19.49155   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:34:19.49155   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:34:20.14659 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"Puma starting in cluster mode..."}
2020-10-21_13:34:20.14663 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:34:20.14664 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:34:20.14664 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"* Environment: production"}
2020-10-21_13:34:20.14664 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"* Process workers: 2"}
2020-10-21_13:34:20.14665 {"timestamp":"2020-10-21T13:34:20.146Z","pid":7737,"message":"* Preloading application"}
2020-10-21_13:34:34.26731 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:34:34.96387 {"timestamp":"2020-10-21T13:34:34.963Z","pid":7737,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:34:34.96413 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:34:34.96417 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:34:34.96428   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:34:34.96428   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:34:34.96429   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:34:34.96429   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:34:34.96430   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:34:34.96430   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:34:34.96430   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:34:34.96446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:34:34.96510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:34:34.96512   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:34:34.96513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:34:34.96513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:34:34.96514   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:34:34.96515   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:34:34.96515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:34:34.96529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:34:34.96531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:34:34.96531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:34:34.96532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:34:34.96532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:34:34.96532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:34:34.96546   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:34:34.96560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:34:34.96573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:34:34.96583   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:34:34.96584   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:34:34.96584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:34.96584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:34:34.96584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:34:34.96585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:34.96601   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:34:34.96610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:34:34.96611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:34:34.96611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:34:34.96611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:34:34.96612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:34:34.96612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:34:34.96612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:34:34.96612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:34:34.96628   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:34:34.96637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:34:34.96638   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:34:34.96638   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:34:34.96638   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:34:34.96639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:34:34.96639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:34:34.96639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:34:34.96639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:34:34.96639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:34:34.96656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:34:34.96665   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:34:34.96666   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:34:34.96678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:34:34.96679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:34:34.96679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:34:34.96679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:34:34.96680   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:34:34.96680   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:34:34.96680   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:34:34.96680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:34:34.96694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:34:34.96705   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:34:34.96705   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:34:34.96706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:34:34.96706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:34:34.96706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:34:34.96706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:34:34.96706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:34:34.96707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:34:34.96707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:34:34.96707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:34:34.96722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:34:34.96735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:34:34.96744   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:34:34.96745   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:34:35.85434 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"Puma starting in cluster mode..."}
2020-10-21_13:34:35.85438 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:34:35.85439 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:34:35.85440 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"* Environment: production"}
2020-10-21_13:34:35.85463 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"* Process workers: 2"}
2020-10-21_13:34:35.85464 {"timestamp":"2020-10-21T13:34:35.854Z","pid":8188,"message":"* Preloading application"}
2020-10-21_13:34:48.70071 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:34:49.53306 {"timestamp":"2020-10-21T13:34:49.532Z","pid":8188,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:34:49.53330 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:34:49.53340 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:34:49.53341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:34:49.53370   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:34:49.53373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:34:49.53374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:34:49.53374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:34:49.53375   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:34:49.53375   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:34:49.53375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:34:49.53389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:34:49.53395   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:34:49.53411   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:34:49.53426   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:34:49.53442   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:34:49.53458   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:34:49.53473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:34:49.53489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:34:49.53503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:34:49.53518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:34:49.53532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:34:49.53547   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:34:49.53562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:34:49.53577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:34:49.53593   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:34:49.53608   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:34:49.53623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:34:49.53638   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:34:49.53653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:49.53684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:34:49.53690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:34:49.53705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:34:49.53721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:34:49.53738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:34:49.53754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:34:49.53771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:34:49.53786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:34:49.53802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:34:49.53817   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:34:49.53833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:34:49.53848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:34:49.53867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:34:49.53883   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:34:49.53898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:34:49.53913   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:34:49.53928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:34:49.53943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:34:49.53959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:34:49.53976   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:34:49.53991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:34:49.54007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:34:49.54023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:34:49.54040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:34:49.54057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:34:49.54057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:34:49.54058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:34:49.54058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:34:49.54058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:34:49.54058   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:34:49.54059   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:34:49.54059   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:34:49.54059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:34:49.54059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:34:49.54059   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:34:49.54061   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:34:49.54061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:34:49.54061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:34:49.54077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:34:49.54080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:34:49.54081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:34:49.54081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:34:49.54081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:34:49.54081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:34:49.54082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:34:49.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:34:49.54085   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:34:49.54085   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:34:50.46149 {"timestamp":"2020-10-21T13:34:50.461Z","pid":8628,"message":"Puma starting in cluster mode..."}
2020-10-21_13:34:50.46183 {"timestamp":"2020-10-21T13:34:50.461Z","pid":8628,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:34:50.46211 {"timestamp":"2020-10-21T13:34:50.462Z","pid":8628,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:34:50.46232 {"timestamp":"2020-10-21T13:34:50.462Z","pid":8628,"message":"* Environment: production"}
2020-10-21_13:34:50.46254 {"timestamp":"2020-10-21T13:34:50.462Z","pid":8628,"message":"* Process workers: 2"}
2020-10-21_13:34:50.46277 {"timestamp":"2020-10-21T13:34:50.462Z","pid":8628,"message":"* Preloading application"}
2020-10-21_13:35:04.47830 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:35:05.28463 {"timestamp":"2020-10-21T13:35:05.284Z","pid":8628,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:35:05.28502 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:35:05.28523 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:35:05.28524   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:35:05.28524   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:35:05.28524   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:35:05.28524   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:35:05.28525   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:35:05.28525   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:35:05.28525   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:35:05.28525   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:35:05.28526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:35:05.28526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:35:05.28526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:35:05.28526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:35:05.28528   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:35:05.28529   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:35:05.28529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:35:05.28529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:35:05.28529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:35:05.28530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:35:05.28530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:35:05.28530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:35:05.28530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:35:05.28531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:35:05.28532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:35:05.28532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:35:05.28532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:35:05.28532   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:35:05.28533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:05.28533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:35:05.28533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:35:05.28533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:05.28534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:35:05.28535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:35:05.28535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:35:05.28535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:35:05.28535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:35:05.28536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:35:05.28536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:35:05.28536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:35:05.28536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:35:05.28537   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:35:05.28538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:35:05.28538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:35:05.28538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:35:05.28539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:35:05.28539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:35:05.28539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:35:05.28539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:35:05.28540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:35:05.28540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:35:05.28540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:35:05.28541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:35:05.28541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:35:05.28542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:35:05.28542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:35:05.28542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:35:05.28542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:35:05.28542   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:35:05.28543   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:35:05.28543   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:35:05.28543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:35:05.28543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:35:05.28544   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:35:05.28545   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:35:05.28545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:35:05.28545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:35:05.28545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:35:05.28546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:35:05.28546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:35:05.28546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:35:05.28546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:35:05.28546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:35:05.28547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:35:05.28548   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:35:05.28548   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:35:05.28548   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:35:06.22278 {"timestamp":"2020-10-21T13:35:06.222Z","pid":9109,"message":"Puma starting in cluster mode..."}
2020-10-21_13:35:06.22306 {"timestamp":"2020-10-21T13:35:06.223Z","pid":9109,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:35:06.22323 {"timestamp":"2020-10-21T13:35:06.223Z","pid":9109,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:35:06.22338 {"timestamp":"2020-10-21T13:35:06.223Z","pid":9109,"message":"* Environment: production"}
2020-10-21_13:35:06.22353 {"timestamp":"2020-10-21T13:35:06.223Z","pid":9109,"message":"* Process workers: 2"}
2020-10-21_13:35:06.22370 {"timestamp":"2020-10-21T13:35:06.223Z","pid":9109,"message":"* Preloading application"}
2020-10-21_13:35:19.79324 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:35:20.48882 {"timestamp":"2020-10-21T13:35:20.488Z","pid":9109,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:35:20.48918 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:35:20.48934 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:35:20.48935   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:35:20.48935   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:35:20.48936   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:35:20.48936   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:35:20.48936   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:35:20.48936   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:35:20.48936   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:35:20.48937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:35:20.48937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:35:20.48937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:35:20.48937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:35:20.48938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:35:20.48939   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:35:20.48939   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:35:20.48939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:35:20.48940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:35:20.48940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:35:20.48940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:35:20.48940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:35:20.48940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:35:20.48941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:35:20.48941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:35:20.48942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:35:20.48942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:35:20.48943   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:35:20.48944   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:35:20.48944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:20.48944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:35:20.48944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:35:20.48945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:20.48945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:35:20.48946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:35:20.48946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:35:20.48946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:35:20.48947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:35:20.48947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:35:20.48947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:35:20.48947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:35:20.48948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:35:20.48949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:35:20.48949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:35:20.48949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:35:20.48949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:35:20.48950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:35:20.48950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:35:20.48950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:35:20.48950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:35:20.48951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:35:20.48951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:35:20.48951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:35:20.48952   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:35:20.48952   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:35:20.48953   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:35:20.48953   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:35:20.48953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:35:20.48954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:35:20.48954   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:35:20.48954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:35:20.48954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:35:20.48955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:35:20.48955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:35:20.48955   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:35:20.48956   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:35:20.48956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:35:20.48957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:35:20.48957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:35:20.48957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:35:20.48957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:35:20.48958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:35:20.48958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:35:20.48958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:35:20.48958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:35:20.48959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:35:20.48960   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:35:20.48960   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:35:21.20257 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"Puma starting in cluster mode..."}
2020-10-21_13:35:21.20259 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:35:21.20260 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:35:21.20260 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"* Environment: production"}
2020-10-21_13:35:21.20260 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"* Process workers: 2"}
2020-10-21_13:35:21.20260 {"timestamp":"2020-10-21T13:35:21.202Z","pid":9563,"message":"* Preloading application"}
2020-10-21_13:35:35.04639 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:35:35.96195 {"timestamp":"2020-10-21T13:35:35.961Z","pid":9563,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:35:35.96218 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:35:35.96219 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:35:35.96219   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:35:35.96220   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:35:35.96220   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:35:35.96221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:35:35.96221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:35:35.96221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:35:35.96221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:35:35.96222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:35:35.96222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:35:35.96222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:35:35.96222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:35:35.96222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:35:35.96224   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:35:35.96224   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:35:35.96224   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:35:35.96224   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:35:35.96224   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:35:35.96225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:35:35.96225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:35:35.96225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:35:35.96225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:35:35.96226   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:35:35.96227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:35:35.96227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:35:35.96227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:35:35.96227   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:35:35.96228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:35.96228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:35:35.96228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:35:35.96228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:35.96229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:35:35.96230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:35:35.96230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:35:35.96230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:35:35.96231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:35:35.96231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:35:35.96231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:35:35.96231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:35:35.96231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:35:35.96232   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:35:35.96233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:35:35.96233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:35:35.96233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:35:35.96233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:35:35.96234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:35:35.96234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:35:35.96234   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:35:35.96234   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:35:35.96235   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:35:35.96236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:35:35.96236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:35:35.96236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:35:35.96236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:35:35.96236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:35:35.96237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:35:35.96237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:35:35.96237   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:35:35.96237   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:35:35.96237   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:35:35.96238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:35:35.96238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:35:35.96239   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:35:35.96239   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:35:35.96239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:35:35.96240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:35:35.96240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:35:35.96240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:35:35.96241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:35:35.96241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:35:35.96241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:35:35.96241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:35:35.96241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:35:35.96243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:35:35.96243   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:35:35.96243   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:35:36.91341 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"Puma starting in cluster mode..."}
2020-10-21_13:35:36.91344 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:35:36.91344 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:35:36.91344 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"* Environment: production"}
2020-10-21_13:35:36.91345 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"* Process workers: 2"}
2020-10-21_13:35:36.91346 {"timestamp":"2020-10-21T13:35:36.913Z","pid":10005,"message":"* Preloading application"}
2020-10-21_13:35:49.49012 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:35:50.37586 {"timestamp":"2020-10-21T13:35:50.375Z","pid":10005,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:35:50.37606 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:35:50.37617 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:35:50.37617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:35:50.37618   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:35:50.37618   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:35:50.37618   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:35:50.37619   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:35:50.37619   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:35:50.37619   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:35:50.37619   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:35:50.37619   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:35:50.37620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:35:50.37620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:35:50.37620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:35:50.37621   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:35:50.37621   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:35:50.37622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:35:50.37623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:35:50.37623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:35:50.37623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:35:50.37623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:35:50.37624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:35:50.37624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:35:50.37624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:35:50.37625   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:35:50.37625   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:35:50.37626   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:35:50.37626   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:35:50.37626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:50.37626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:35:50.37627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:35:50.37627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:35:50.37627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:35:50.37630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:35:50.37630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:35:50.37630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:35:50.37631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:35:50.37631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:35:50.37631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:35:50.37631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:35:50.37632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:35:50.37633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:35:50.37633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:35:50.37633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:35:50.37633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:35:50.37634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:35:50.37634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:35:50.37634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:35:50.37635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:35:50.37635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:35:50.37635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:35:50.37635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:35:50.37636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:35:50.37637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:35:50.37637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:35:50.37637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:35:50.37637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:35:50.37637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:35:50.37638   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:35:50.37638   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:35:50.37638   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:35:50.37638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:35:50.37639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:35:50.37639   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:35:50.37640   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:35:50.37640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:35:50.37640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:35:50.37640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:35:50.37641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:35:50.37641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:35:50.37641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:35:50.37641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:35:50.37642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:35:50.37642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:35:50.37643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:35:50.37643   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:35:50.37643   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:35:51.19232 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"Puma starting in cluster mode..."}
2020-10-21_13:35:51.19244 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:35:51.19253 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:35:51.19261 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"* Environment: production"}
2020-10-21_13:35:51.19272 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"* Process workers: 2"}
2020-10-21_13:35:51.19281 {"timestamp":"2020-10-21T13:35:51.192Z","pid":10455,"message":"* Preloading application"}
2020-10-21_13:36:04.71833 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:36:05.56141 {"timestamp":"2020-10-21T13:36:05.561Z","pid":10455,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:36:05.56234 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:36:05.56253 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:36:05.56254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:36:05.56254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:36:05.56254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:36:05.56255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:36:05.56255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:36:05.56255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:36:05.56255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:36:05.56256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:36:05.56256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:36:05.56256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:36:05.56256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:36:05.56257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:36:05.56258   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:36:05.56258   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:36:05.56258   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:36:05.56259   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:36:05.56259   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:36:05.56259   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:36:05.56259   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:36:05.56260   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:36:05.56260   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:36:05.56260   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:36:05.56261   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:36:05.56261   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:36:05.56262   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:36:05.56263   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:36:05.56263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:05.56263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:36:05.56263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:36:05.56264   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:05.56264   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:36:05.56265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:36:05.56265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:36:05.56265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:36:05.56266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:36:05.56266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:36:05.56266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:36:05.56266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:36:05.56267   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:36:05.56268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:36:05.56268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:36:05.56268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:36:05.56269   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:36:05.56269   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:36:05.56269   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:36:05.56269   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:36:05.56269   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:36:05.56270   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:36:05.56270   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:36:05.56270   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:36:05.56271   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:36:05.56271   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:36:05.56272   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:36:05.56272   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:36:05.56272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:36:05.56272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:36:05.56273   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:36:05.56273   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:36:05.56273   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:36:05.56274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:36:05.56274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:36:05.56274   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:36:05.56275   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:36:05.56275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:36:05.56275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:36:05.56276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:36:05.56276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:36:05.56276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:36:05.56276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:36:05.56277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:36:05.56277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:36:05.56277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:36:05.56278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:36:05.56279   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:36:05.56279   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:36:06.37906 {"timestamp":"2020-10-21T13:36:06.378Z","pid":10911,"message":"Puma starting in cluster mode..."}
2020-10-21_13:36:06.37934 {"timestamp":"2020-10-21T13:36:06.379Z","pid":10911,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:36:06.37947 {"timestamp":"2020-10-21T13:36:06.379Z","pid":10911,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:36:06.37970 {"timestamp":"2020-10-21T13:36:06.379Z","pid":10911,"message":"* Environment: production"}
2020-10-21_13:36:06.37983 {"timestamp":"2020-10-21T13:36:06.379Z","pid":10911,"message":"* Process workers: 2"}
2020-10-21_13:36:06.38004 {"timestamp":"2020-10-21T13:36:06.379Z","pid":10911,"message":"* Preloading application"}
2020-10-21_13:36:20.08570 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:36:20.68007 {"timestamp":"2020-10-21T13:36:20.679Z","pid":10911,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:36:20.68012 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:36:20.68025 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:36:20.68033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:36:20.68034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:36:20.68034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:36:20.68034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:36:20.68035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:36:20.68036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:36:20.68036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:36:20.68036   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:36:20.68052   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:36:20.68068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:36:20.68072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:36:20.68073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:36:20.68074   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:36:20.68074   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:36:20.68074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:36:20.68074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:36:20.68075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:36:20.68075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:36:20.68075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:36:20.68075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:36:20.68076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:36:20.68076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:36:20.68077   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:36:20.68077   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:36:20.68077   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:36:20.68077   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:36:20.68078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:20.68078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:36:20.68078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:36:20.68078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:20.68079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:36:20.68080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:36:20.68080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:36:20.68080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:36:20.68080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:36:20.68081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:36:20.68081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:36:20.68082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:36:20.68082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:36:20.68083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:36:20.68083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:36:20.68083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:36:20.68083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:36:20.68084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:36:20.68084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:36:20.68084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:36:20.68084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:36:20.68085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:36:20.68085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:36:20.68085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:36:20.68086   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:36:20.68086   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:36:20.68086   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:36:20.68087   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:36:20.68087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:36:20.68087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:36:20.68087   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:36:20.68088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:36:20.68088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:36:20.68088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:36:20.68088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:36:20.68088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:36:20.68089   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:36:20.68090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:36:20.68090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:36:20.68090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:36:20.68090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:36:20.68090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:36:20.68091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:36:20.68091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:36:20.68091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:36:20.68092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:36:20.68093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:36:20.68093   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:36:20.68093   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:36:21.35980 {"timestamp":"2020-10-21T13:36:21.359Z","pid":11365,"message":"Puma starting in cluster mode..."}
2020-10-21_13:36:21.36005 {"timestamp":"2020-10-21T13:36:21.360Z","pid":11365,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:36:21.36017 {"timestamp":"2020-10-21T13:36:21.360Z","pid":11365,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:36:21.36029 {"timestamp":"2020-10-21T13:36:21.360Z","pid":11365,"message":"* Environment: production"}
2020-10-21_13:36:21.36040 {"timestamp":"2020-10-21T13:36:21.360Z","pid":11365,"message":"* Process workers: 2"}
2020-10-21_13:36:21.36052 {"timestamp":"2020-10-21T13:36:21.360Z","pid":11365,"message":"* Preloading application"}
2020-10-21_13:36:35.07909 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:36:35.69823 {"timestamp":"2020-10-21T13:36:35.698Z","pid":11365,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:36:35.69852 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:36:35.69856 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:36:35.69869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:36:35.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:36:35.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:36:35.69881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:36:35.69881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:36:35.69881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:36:35.69881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:36:35.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:36:35.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:36:35.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:36:35.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:36:35.69899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:36:35.69914   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:36:35.69918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:36:35.69929   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:36:35.69930   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:36:35.69931   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:36:35.69931   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:36:35.69931   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:36:35.69931   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:36:35.69948   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:36:35.69950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:36:35.69950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:36:35.69950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:36:35.69950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:36:35.69964   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:36:35.69974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:35.69975   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:36:35.69975   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:36:35.69976   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:35.69977   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:36:35.69992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:36:35.70002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:36:35.70002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:36:35.70003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:36:35.70003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:36:35.70003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:36:35.70003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:36:35.70004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:36:35.70019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:36:35.70029   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:36:35.70030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:36:35.70030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:36:35.70030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:36:35.70031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:36:35.70031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:36:35.70032   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:36:35.70047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:36:35.70058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:36:35.70059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:36:35.70059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:36:35.70060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:36:35.70060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:36:35.70060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:36:35.70075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:36:35.70076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:36:35.70076   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:36:35.70077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:36:35.70077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:36:35.70077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:36:35.70077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:36:35.70078   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:36:35.70079   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:36:35.70079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:36:35.70079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:36:35.70079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:36:35.70080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:36:35.70080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:36:35.70080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:36:35.70080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:36:35.70081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:36:35.70081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:36:35.70082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:36:35.70082   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:36:35.70082   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:36:36.52915 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"Puma starting in cluster mode..."}
2020-10-21_13:36:36.52919 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:36:36.52919 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:36:36.52920 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"* Environment: production"}
2020-10-21_13:36:36.52922 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"* Process workers: 2"}
2020-10-21_13:36:36.52950 {"timestamp":"2020-10-21T13:36:36.529Z","pid":11795,"message":"* Preloading application"}
2020-10-21_13:36:49.59405 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:36:50.35591 {"timestamp":"2020-10-21T13:36:50.355Z","pid":11795,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:36:50.35621 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:36:50.35635 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:36:50.35639   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:36:50.35640   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:36:50.35641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:36:50.35641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:36:50.35641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:36:50.35641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:36:50.35642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:36:50.35642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:36:50.35642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:36:50.35642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:36:50.35650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:36:50.35654   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:36:50.35655   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:36:50.35656   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:36:50.35656   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:36:50.35656   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:36:50.35657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:36:50.35657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:36:50.35657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:36:50.35657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:36:50.35658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:36:50.35658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:36:50.35659   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:36:50.35659   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:36:50.35660   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:36:50.35660   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:36:50.35667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:50.35675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:36:50.35676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:36:50.35676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:36:50.35677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:36:50.35678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:36:50.35678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:36:50.35678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:36:50.35679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:36:50.35679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:36:50.35679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:36:50.35679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:36:50.35680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:36:50.35681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:36:50.35681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:36:50.35681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:36:50.35681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:36:50.35682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:36:50.35682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:36:50.35682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:36:50.35682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:36:50.35682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:36:50.35690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:36:50.35691   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:36:50.35695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:36:50.35696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:36:50.35696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:36:50.35696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:36:50.35696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:36:50.35697   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:36:50.35697   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:36:50.35697   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:36:50.35697   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:36:50.35698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:36:50.35698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:36:50.35699   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:36:50.35700   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:36:50.35700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:36:50.35700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:36:50.35701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:36:50.35701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:36:50.35701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:36:50.35701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:36:50.35702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:36:50.35702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:36:50.35702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:36:50.35711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:36:50.35712   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:36:50.35712   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:36:51.22493 {"timestamp":"2020-10-21T13:36:51.224Z","pid":12246,"message":"Puma starting in cluster mode..."}
2020-10-21_13:36:51.22516 {"timestamp":"2020-10-21T13:36:51.225Z","pid":12246,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:36:51.22535 {"timestamp":"2020-10-21T13:36:51.225Z","pid":12246,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:36:51.22552 {"timestamp":"2020-10-21T13:36:51.225Z","pid":12246,"message":"* Environment: production"}
2020-10-21_13:36:51.22555 {"timestamp":"2020-10-21T13:36:51.225Z","pid":12246,"message":"* Process workers: 2"}
2020-10-21_13:36:51.22567 {"timestamp":"2020-10-21T13:36:51.225Z","pid":12246,"message":"* Preloading application"}
2020-10-21_13:37:04.60421 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:37:05.34361 {"timestamp":"2020-10-21T13:37:05.343Z","pid":12246,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:37:05.34397 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:37:05.34416 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:37:05.34418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:37:05.34419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:37:05.34419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:37:05.34419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:37:05.34420   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:37:05.34420   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:37:05.34425   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:37:05.34429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:37:05.34433   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:37:05.34433   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:37:05.34434   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:37:05.34434   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:37:05.34436   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:37:05.34436   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:37:05.34436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:37:05.34437   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:37:05.34452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:37:05.34452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:37:05.34453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:37:05.34453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:37:05.34453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:37:05.34453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:37:05.34454   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:37:05.34455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:37:05.34455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:37:05.34455   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:37:05.34455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:05.34456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:37:05.34456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:37:05.34456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:05.34456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:37:05.34463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:37:05.34464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:37:05.34464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:37:05.34464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:37:05.34464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:37:05.34465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:37:05.34495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:37:05.34495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:37:05.34497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:37:05.34497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:37:05.34497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:37:05.34497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:37:05.34498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:37:05.34498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:37:05.34498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:37:05.34498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:37:05.34498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:37:05.34499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:37:05.34499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:37:05.34504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:37:05.34504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:37:05.34504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:37:05.34504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:37:05.34505   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:37:05.34505   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:37:05.34505   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:37:05.34505   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:37:05.34520   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:37:05.34522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:37:05.34523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:37:05.34523   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:37:05.34524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:37:05.34524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:37:05.34524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:37:05.34525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:37:05.34525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:37:05.34525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:37:05.34525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:37:05.34526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:37:05.34526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:37:05.34527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:37:05.34528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:37:05.34528   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:37:05.34528   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:37:06.19000 {"timestamp":"2020-10-21T13:37:06.189Z","pid":12718,"message":"Puma starting in cluster mode..."}
2020-10-21_13:37:06.19003 {"timestamp":"2020-10-21T13:37:06.189Z","pid":12718,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:37:06.19005 {"timestamp":"2020-10-21T13:37:06.189Z","pid":12718,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:37:06.19005 {"timestamp":"2020-10-21T13:37:06.190Z","pid":12718,"message":"* Environment: production"}
2020-10-21_13:37:06.19029 {"timestamp":"2020-10-21T13:37:06.190Z","pid":12718,"message":"* Process workers: 2"}
2020-10-21_13:37:06.19031 {"timestamp":"2020-10-21T13:37:06.190Z","pid":12718,"message":"* Preloading application"}
2020-10-21_13:37:20.36618 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:37:20.99360 {"timestamp":"2020-10-21T13:37:20.993Z","pid":12718,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:37:20.99386 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:37:20.99388 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:37:20.99388   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:37:20.99389   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:37:20.99389   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:37:20.99389   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:37:20.99389   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:37:20.99390   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:37:20.99390   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:37:20.99390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:37:20.99390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:37:20.99390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:37:20.99391   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:37:20.99411   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:37:20.99412   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:37:20.99413   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:37:20.99413   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:37:20.99432   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:37:20.99433   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:37:20.99433   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:37:20.99434   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:37:20.99435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:37:20.99455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:37:20.99469   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:37:20.99481   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:37:20.99493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:37:20.99495   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:37:20.99495   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:37:20.99496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:20.99496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:37:20.99496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:37:20.99496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:20.99522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:37:20.99524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:37:20.99524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:37:20.99524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:37:20.99525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:37:20.99525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:37:20.99525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:37:20.99525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:37:20.99525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:37:20.99550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:37:20.99562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:37:20.99575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:37:20.99587   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:37:20.99600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:37:20.99613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:37:20.99625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:37:20.99637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:37:20.99649   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:37:20.99662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:37:20.99669   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:37:20.99689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:37:20.99763   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:37:20.99765   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:37:20.99766   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:37:20.99766   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:37:20.99766   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:37:20.99767   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:37:20.99767   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:37:20.99767   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:37:20.99767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:37:20.99768   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:37:20.99787   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:37:20.99788   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:37:20.99788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:37:20.99788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:37:20.99788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:37:20.99789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:37:20.99789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:37:20.99789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:37:20.99789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:37:20.99806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:37:20.99826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:37:20.99839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:37:20.99861   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:37:20.99863   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:37:21.67192 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"Puma starting in cluster mode..."}
2020-10-21_13:37:21.67195 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:37:21.67196 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:37:21.67196 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"* Environment: production"}
2020-10-21_13:37:21.67196 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"* Process workers: 2"}
2020-10-21_13:37:21.67196 {"timestamp":"2020-10-21T13:37:21.671Z","pid":13166,"message":"* Preloading application"}
2020-10-21_13:37:35.20990 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:37:36.10377 {"timestamp":"2020-10-21T13:37:36.103Z","pid":13166,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:37:36.10412 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:37:36.10415 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:37:36.10416   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:37:36.10416   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:37:36.10416   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:37:36.10417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:37:36.10417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:37:36.10431   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:37:36.10443   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:37:36.10444   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:37:36.10444   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:37:36.10458   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:37:36.10460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:37:36.10461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:37:36.10462   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:37:36.10462   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:37:36.10463   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:37:36.10469   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:37:36.10470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:37:36.10470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:37:36.10470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:37:36.10471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:37:36.10471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:37:36.10471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:37:36.10472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:37:36.10473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:37:36.10473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:37:36.10473   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:37:36.10473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:36.10473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:37:36.10475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:37:36.10475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:36.10475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:37:36.10476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:37:36.10477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:37:36.10477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:37:36.10477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:37:36.10477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:37:36.10478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:37:36.10478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:37:36.10478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:37:36.10479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:37:36.10479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:37:36.10480   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:37:36.10480   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:37:36.10480   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:37:36.10480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:37:36.10481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:37:36.10481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:37:36.10481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:37:36.10481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:37:36.10481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:37:36.10482   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:37:36.10483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:37:36.10483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:37:36.10483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:37:36.10483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:37:36.10483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:37:36.10484   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:37:36.10484   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:37:36.10484   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:37:36.10484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:37:36.10485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:37:36.10485   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:37:36.10486   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:37:36.10486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:37:36.10487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:37:36.10487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:37:36.10494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:37:36.10494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:37:36.10494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:37:36.10495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:37:36.10526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:37:36.10526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:37:36.10535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:37:36.10540   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:37:36.10540   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:37:36.93101 {"timestamp":"2020-10-21T13:37:36.930Z","pid":13619,"message":"Puma starting in cluster mode..."}
2020-10-21_13:37:36.93105 {"timestamp":"2020-10-21T13:37:36.930Z","pid":13619,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:37:36.93106 {"timestamp":"2020-10-21T13:37:36.931Z","pid":13619,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:37:36.93107 {"timestamp":"2020-10-21T13:37:36.931Z","pid":13619,"message":"* Environment: production"}
2020-10-21_13:37:36.93107 {"timestamp":"2020-10-21T13:37:36.931Z","pid":13619,"message":"* Process workers: 2"}
2020-10-21_13:37:36.93129 {"timestamp":"2020-10-21T13:37:36.931Z","pid":13619,"message":"* Preloading application"}
2020-10-21_13:37:49.90600 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:37:50.68104 {"timestamp":"2020-10-21T13:37:50.680Z","pid":13619,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:37:50.68140 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:37:50.68169 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:37:50.68170   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:37:50.68170   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:37:50.68171   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:37:50.68171   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:37:50.68171   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:37:50.68172   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:37:50.68172   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:37:50.68172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:37:50.68174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:37:50.68174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:37:50.68174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:37:50.68175   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:37:50.68176   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:37:50.68177   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:37:50.68177   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:37:50.68177   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:37:50.68178   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:37:50.68178   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:37:50.68178   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:37:50.68179   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:37:50.68179   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:37:50.68179   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:37:50.68181   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:37:50.68181   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:37:50.68181   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:37:50.68182   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:37:50.68182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:50.68182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:37:50.68183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:37:50.68183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:37:50.68184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:37:50.68185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:37:50.68185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:37:50.68186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:37:50.68186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:37:50.68186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:37:50.68187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:37:50.68187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:37:50.68188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:37:50.68189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:37:50.68190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:37:50.68190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:37:50.68190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:37:50.68191   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:37:50.68191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:37:50.68191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:37:50.68192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:37:50.68192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:37:50.68192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:37:50.68193   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:37:50.68194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:37:50.68194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:37:50.68195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:37:50.68195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:37:50.68195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:37:50.68196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:37:50.68196   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:37:50.68196   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:37:50.68197   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:37:50.68197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:37:50.68197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:37:50.68198   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:37:50.68199   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:37:50.68199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:37:50.68199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:37:50.68200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:37:50.68200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:37:50.68200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:37:50.68201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:37:50.68201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:37:50.68201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:37:50.68202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:37:50.68204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:37:50.68204   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:37:50.68204   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:37:51.53547 {"timestamp":"2020-10-21T13:37:51.535Z","pid":14053,"message":"Puma starting in cluster mode..."}
2020-10-21_13:37:51.53642 {"timestamp":"2020-10-21T13:37:51.536Z","pid":14053,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:37:51.53658 {"timestamp":"2020-10-21T13:37:51.536Z","pid":14053,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:37:51.53674 {"timestamp":"2020-10-21T13:37:51.536Z","pid":14053,"message":"* Environment: production"}
2020-10-21_13:37:51.53695 {"timestamp":"2020-10-21T13:37:51.536Z","pid":14053,"message":"* Process workers: 2"}
2020-10-21_13:37:51.53710 {"timestamp":"2020-10-21T13:37:51.537Z","pid":14053,"message":"* Preloading application"}
2020-10-21_13:38:04.72467 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:38:05.50594 {"timestamp":"2020-10-21T13:38:05.505Z","pid":14053,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:38:05.50611 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:38:05.50619 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:38:05.50619   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:38:05.50620   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:38:05.50620   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:38:05.50620   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:38:05.50620   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:38:05.50621   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:38:05.50621   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:38:05.50621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:38:05.50621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:38:05.50621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:38:05.50622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:38:05.50622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:38:05.50623   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:38:05.50623   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:38:05.50624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:38:05.50624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:38:05.50624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:38:05.50624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:38:05.50625   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:38:05.50625   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:38:05.50626   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:38:05.50627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:38:05.50627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:38:05.50628   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:38:05.50628   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:38:05.50628   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:38:05.50628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:05.50629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:38:05.50629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:38:05.50629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:05.50630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:38:05.50630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:38:05.50631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:38:05.50631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:38:05.50631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:38:05.50631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:38:05.50632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:38:05.50632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:38:05.50632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:38:05.50633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:38:05.50633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:38:05.50634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:38:05.50634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:38:05.50634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:38:05.50634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:38:05.50635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:38:05.50635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:38:05.50635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:38:05.50635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:38:05.50636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:38:05.50637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:38:05.50637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:38:05.50637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:38:05.50637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:38:05.50638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:38:05.50638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:38:05.50638   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:38:05.50638   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:38:05.50639   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:38:05.50639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:38:05.50639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:38:05.50640   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:38:05.50640   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:38:05.50641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:38:05.50641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:38:05.50641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:38:05.50641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:38:05.50642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:38:05.50642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:38:05.50642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:38:05.50642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:38:05.50643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:38:05.50644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:38:05.50644   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:38:05.50644   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:38:06.42009 {"timestamp":"2020-10-21T13:38:06.420Z","pid":14511,"message":"Puma starting in cluster mode..."}
2020-10-21_13:38:06.42041 {"timestamp":"2020-10-21T13:38:06.420Z","pid":14511,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:38:06.42063 {"timestamp":"2020-10-21T13:38:06.420Z","pid":14511,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:38:06.42084 {"timestamp":"2020-10-21T13:38:06.420Z","pid":14511,"message":"* Environment: production"}
2020-10-21_13:38:06.42105 {"timestamp":"2020-10-21T13:38:06.421Z","pid":14511,"message":"* Process workers: 2"}
2020-10-21_13:38:06.42126 {"timestamp":"2020-10-21T13:38:06.421Z","pid":14511,"message":"* Preloading application"}
2020-10-21_13:38:20.52973 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:38:21.11592 {"timestamp":"2020-10-21T13:38:21.115Z","pid":14511,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:38:21.11678 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:38:21.11681 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:38:21.11682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:38:21.11682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:38:21.11682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:38:21.11683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:38:21.11683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:38:21.11683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:38:21.11683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:38:21.11684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:38:21.11684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:38:21.11684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:38:21.11684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:38:21.11684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:38:21.11686   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:38:21.11686   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:38:21.11686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:38:21.11686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:38:21.11687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:38:21.11687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:38:21.11687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:38:21.11687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:38:21.11688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:38:21.11688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:38:21.11689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:38:21.11689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:38:21.11689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:38:21.11689   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:38:21.11690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:21.11690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:38:21.11690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:38:21.11690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:21.11692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:38:21.11692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:38:21.11693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:38:21.11693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:38:21.11693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:38:21.11693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:38:21.11694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:38:21.11694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:38:21.11694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:38:21.11695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:38:21.11695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:38:21.11695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:38:21.11696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:38:21.11696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:38:21.11696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:38:21.11696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:38:21.11697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:38:21.11697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:38:21.11697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:38:21.11698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:38:21.11698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:38:21.11698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:38:21.11699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:38:21.11699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:38:21.11699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:38:21.11699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:38:21.11700   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:38:21.11700   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:38:21.11700   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:38:21.11700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:38:21.11700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:38:21.11701   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:38:21.11702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:38:21.11702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:38:21.11718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:38:21.11718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:38:21.11718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:38:21.11719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:38:21.11719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:38:21.11719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:38:21.11719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:38:21.11720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:38:21.11721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:38:21.11721   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:38:21.11721   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:38:21.77486 {"timestamp":"2020-10-21T13:38:21.774Z","pid":14961,"message":"Puma starting in cluster mode..."}
2020-10-21_13:38:21.77504 {"timestamp":"2020-10-21T13:38:21.774Z","pid":14961,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:38:21.77523 {"timestamp":"2020-10-21T13:38:21.775Z","pid":14961,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:38:21.77546 {"timestamp":"2020-10-21T13:38:21.775Z","pid":14961,"message":"* Environment: production"}
2020-10-21_13:38:21.77561 {"timestamp":"2020-10-21T13:38:21.775Z","pid":14961,"message":"* Process workers: 2"}
2020-10-21_13:38:21.77586 {"timestamp":"2020-10-21T13:38:21.775Z","pid":14961,"message":"* Preloading application"}
2020-10-21_13:38:35.26125 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:38:36.29935 {"timestamp":"2020-10-21T13:38:36.299Z","pid":14961,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:38:36.30005 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:38:36.30014 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:38:36.30015   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:38:36.30015   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:38:36.30015   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:38:36.30015   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:38:36.30016   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:38:36.30016   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:38:36.30016   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:38:36.30016   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:38:36.30017   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:38:36.30017   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:38:36.30035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:38:36.30043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:38:36.30045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:38:36.30045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:38:36.30045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:38:36.30057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:38:36.30058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:38:36.30058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:38:36.30058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:38:36.30058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:38:36.30059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:38:36.30065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:38:36.30066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:38:36.30066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:38:36.30066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:38:36.30118   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:38:36.30120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:36.30121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:38:36.30121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:38:36.30121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:36.30123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:38:36.30130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:38:36.30131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:38:36.30131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:38:36.30131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:38:36.30131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:38:36.30132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:38:36.30132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:38:36.30136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:38:36.30152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:38:36.30160   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:38:36.30161   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:38:36.30161   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:38:36.30161   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:38:36.30161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:38:36.30162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:38:36.30162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:38:36.30166   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:38:36.30173   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:38:36.30175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:38:36.30175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:38:36.30175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:38:36.30175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:38:36.30176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:38:36.30180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:38:36.30180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:38:36.30180   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:38:36.30181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:38:36.30181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:38:36.30181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:38:36.30181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:38:36.30201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:38:36.30208   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:38:36.30209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:38:36.30209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:38:36.30209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:38:36.30210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:38:36.30210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:38:36.30210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:38:36.30210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:38:36.30214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:38:36.30215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:38:36.30216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:38:36.30217   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:38:36.30217   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:38:37.17562 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"Puma starting in cluster mode..."}
2020-10-21_13:38:37.17566 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:38:37.17567 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:38:37.17568 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"* Environment: production"}
2020-10-21_13:38:37.17589 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"* Process workers: 2"}
2020-10-21_13:38:37.17593 {"timestamp":"2020-10-21T13:38:37.175Z","pid":15403,"message":"* Preloading application"}
2020-10-21_13:38:50.25100 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:38:50.92711 {"timestamp":"2020-10-21T13:38:50.926Z","pid":15403,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:38:50.92741 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:38:50.92755 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:38:50.92769   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:38:50.92794   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:38:50.92797   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:38:50.92797   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:38:50.92797   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:38:50.92798   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:38:50.92798   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:38:50.92798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:38:50.92798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:38:50.92799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:38:50.92799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:38:50.92822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:38:50.92836   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:38:50.92849   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:38:50.92862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:38:50.92867   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:38:50.92868   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:38:50.92868   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:38:50.92868   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:38:50.92869   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:38:50.92869   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:38:50.92871   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:38:50.92871   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:38:50.92872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:38:50.92872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:38:50.92872   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:38:50.92872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:50.92873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:38:50.92873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:38:50.92873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:38:50.92874   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:38:50.92875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:38:50.92875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:38:50.92909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:38:50.92922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:38:50.92934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:38:50.92948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:38:50.92960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:38:50.92965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:38:50.92991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:38:50.92997   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:38:50.92997   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:38:50.93018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:38:50.93030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:38:50.93042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:38:50.93054   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:38:50.93067   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:38:50.93079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:38:50.93091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:38:50.93113   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:38:50.93114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:38:50.93114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:38:50.93116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:38:50.93116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:38:50.93116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:38:50.93117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:38:50.93117   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:38:50.93118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:38:50.93118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:38:50.93118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:38:50.93118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:38:50.93149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:38:50.93149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:38:50.93150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:38:50.93150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:38:50.93151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:38:50.93151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:38:50.93173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:38:50.93175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:38:50.93176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:38:50.93176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:38:50.93176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:38:50.93198   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:38:50.93199   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:38:50.93199   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:38:51.85699 {"timestamp":"2020-10-21T13:38:51.856Z","pid":15844,"message":"Puma starting in cluster mode..."}
2020-10-21_13:38:51.85730 {"timestamp":"2020-10-21T13:38:51.857Z","pid":15844,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:38:51.85753 {"timestamp":"2020-10-21T13:38:51.857Z","pid":15844,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:38:51.85771 {"timestamp":"2020-10-21T13:38:51.857Z","pid":15844,"message":"* Environment: production"}
2020-10-21_13:38:51.85789 {"timestamp":"2020-10-21T13:38:51.857Z","pid":15844,"message":"* Process workers: 2"}
2020-10-21_13:38:51.85807 {"timestamp":"2020-10-21T13:38:51.858Z","pid":15844,"message":"* Preloading application"}
2020-10-21_13:39:05.13577 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:39:06.02248 {"timestamp":"2020-10-21T13:39:06.022Z","pid":15844,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:39:06.02285 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:39:06.02303 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:39:06.02304   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:39:06.02305   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:39:06.02305   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:39:06.02305   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:39:06.02305   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:39:06.02305   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:39:06.02306   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:39:06.02306   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:39:06.02306   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:39:06.02306   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:39:06.02307   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:39:06.02307   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:39:06.02308   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:39:06.02308   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:39:06.02309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:39:06.02309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:39:06.02309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:39:06.02309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:39:06.02310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:39:06.02310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:39:06.02310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:39:06.02310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:39:06.02311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:39:06.02312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:39:06.02312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:39:06.02312   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:39:06.02312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:06.02313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:39:06.02313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:39:06.02313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:06.02313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:39:06.02315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:39:06.02315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:39:06.02316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:39:06.02316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:39:06.02316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:39:06.02316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:39:06.02317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:39:06.02317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:39:06.02318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:39:06.02318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:39:06.02318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:39:06.02319   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:39:06.02319   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:39:06.02319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:39:06.02319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:39:06.02320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:39:06.02320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:39:06.02320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:39:06.02320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:39:06.02321   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:39:06.02321   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:39:06.02322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:39:06.02322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:39:06.02322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:39:06.02322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:39:06.02323   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:39:06.02323   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:39:06.02323   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:39:06.02323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:39:06.02324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:39:06.02324   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:39:06.02325   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:39:06.02325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:39:06.02325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:39:06.02326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:39:06.02326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:39:06.02326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:39:06.02327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:39:06.02327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:39:06.02327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:39:06.02327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:39:06.02329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:39:06.02329   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:39:06.02329   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:39:06.88569 {"timestamp":"2020-10-21T13:39:06.885Z","pid":16300,"message":"Puma starting in cluster mode..."}
2020-10-21_13:39:06.88601 {"timestamp":"2020-10-21T13:39:06.885Z","pid":16300,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:39:06.88622 {"timestamp":"2020-10-21T13:39:06.886Z","pid":16300,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:39:06.88645 {"timestamp":"2020-10-21T13:39:06.886Z","pid":16300,"message":"* Environment: production"}
2020-10-21_13:39:06.88666 {"timestamp":"2020-10-21T13:39:06.886Z","pid":16300,"message":"* Process workers: 2"}
2020-10-21_13:39:06.88687 {"timestamp":"2020-10-21T13:39:06.886Z","pid":16300,"message":"* Preloading application"}
2020-10-21_13:39:21.21858 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:39:21.83387 {"timestamp":"2020-10-21T13:39:21.833Z","pid":16300,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:39:21.83403 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:39:21.83404 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:39:21.83416   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:39:21.83417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:39:21.83417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:39:21.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:39:21.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:39:21.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:39:21.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:39:21.83418   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:39:21.83419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:39:21.83419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:39:21.83419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:39:21.83419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:39:21.83421   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:39:21.83421   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:39:21.83422   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:39:21.83422   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:39:21.83422   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:39:21.83422   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:39:21.83423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:39:21.83423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:39:21.83423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:39:21.83424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:39:21.83424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:39:21.83425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:39:21.83425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:39:21.83425   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:39:21.83425   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:21.83426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:39:21.83426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:39:21.83426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:21.83427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:39:21.83427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:39:21.83427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:39:21.83428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:39:21.83428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:39:21.83428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:39:21.83428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:39:21.83429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:39:21.83429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:39:21.83430   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:39:21.83430   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:39:21.83431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:39:21.83431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:39:21.83431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:39:21.83431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:39:21.83432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:39:21.83432   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:39:21.83432   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:39:21.83432   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:39:21.83433   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:39:21.83433   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:39:21.83434   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:39:21.83434   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:39:21.83434   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:39:21.83434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:39:21.83434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:39:21.83435   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:39:21.83435   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:39:21.83435   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:39:21.83435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:39:21.83436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:39:21.83437   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:39:21.83437   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:39:21.83437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:39:21.83437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:39:21.83437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:39:21.83438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:39:21.83438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:39:21.83438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:39:21.83438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:39:21.83439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:39:21.83439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:39:21.83463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:39:21.83463   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:39:21.83463   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:39:22.48938 {"timestamp":"2020-10-21T13:39:22.489Z","pid":16757,"message":"Puma starting in cluster mode..."}
2020-10-21_13:39:22.48954 {"timestamp":"2020-10-21T13:39:22.489Z","pid":16757,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:39:22.48976 {"timestamp":"2020-10-21T13:39:22.489Z","pid":16757,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:39:22.48986 {"timestamp":"2020-10-21T13:39:22.489Z","pid":16757,"message":"* Environment: production"}
2020-10-21_13:39:22.49005 {"timestamp":"2020-10-21T13:39:22.489Z","pid":16757,"message":"* Process workers: 2"}
2020-10-21_13:39:22.49014 {"timestamp":"2020-10-21T13:39:22.490Z","pid":16757,"message":"* Preloading application"}
2020-10-21_13:39:36.28466 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:39:37.26228 {"timestamp":"2020-10-21T13:39:37.262Z","pid":16757,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:39:37.26262 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:39:37.26272 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:39:37.26279   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:39:37.26280   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:39:37.26280   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:39:37.26280   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:39:37.26281   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:39:37.26281   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:39:37.26281   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:39:37.26281   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:39:37.26282   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:39:37.26282   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:39:37.26282   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:39:37.26282   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:39:37.26295   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:39:37.26295   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:39:37.26295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:39:37.26295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:39:37.26296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:39:37.26296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:39:37.26296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:39:37.26297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:39:37.26297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:39:37.26297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:39:37.26298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:39:37.26299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:39:37.26304   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:39:37.26304   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:39:37.26305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:37.26305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:39:37.26320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:39:37.26320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:37.26321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:39:37.26322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:39:37.26322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:39:37.26322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:39:37.26323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:39:37.26323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:39:37.26323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:39:37.26323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:39:37.26324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:39:37.26325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:39:37.26325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:39:37.26325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:39:37.26325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:39:37.26330   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:39:37.26345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:39:37.26346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:39:37.26346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:39:37.26346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:39:37.26346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:39:37.26346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:39:37.26348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:39:37.26348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:39:37.26348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:39:37.26348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:39:37.26349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:39:37.26349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:39:37.26349   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:39:37.26350   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:39:37.26350   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:39:37.26350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:39:37.26350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:39:37.26351   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:39:37.26352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:39:37.26352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:39:37.26352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:39:37.26352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:39:37.26352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:39:37.26353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:39:37.26353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:39:37.26353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:39:37.26353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:39:37.26354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:39:37.26355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:39:37.26355   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:39:37.26355   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:39:38.12687 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"Puma starting in cluster mode..."}
2020-10-21_13:39:38.12690 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:39:38.12691 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:39:38.12691 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"* Environment: production"}
2020-10-21_13:39:38.12691 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"* Process workers: 2"}
2020-10-21_13:39:38.12692 {"timestamp":"2020-10-21T13:39:38.126Z","pid":17221,"message":"* Preloading application"}
2020-10-21_13:39:50.86897 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:39:51.75723 {"timestamp":"2020-10-21T13:39:51.757Z","pid":17221,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:39:51.75749 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:39:51.75765 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:39:51.75767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:39:51.75767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:39:51.75767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:39:51.75767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:39:51.75768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:39:51.75768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:39:51.75768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:39:51.75768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:39:51.75768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:39:51.75769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:39:51.75769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:39:51.75769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:39:51.75770   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:39:51.75771   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:39:51.75771   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:39:51.75771   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:39:51.75771   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:39:51.75772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:39:51.75772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:39:51.75772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:39:51.75772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:39:51.75772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:39:51.75774   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:39:51.75774   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:39:51.75774   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:39:51.75774   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:39:51.75774   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:51.75775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:39:51.75775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:39:51.75775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:39:51.75775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:39:51.75776   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:39:51.75777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:39:51.75777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:39:51.75778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:39:51.75778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:39:51.75778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:39:51.75778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:39:51.75778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:39:51.75780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:39:51.75780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:39:51.75780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:39:51.75788   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:39:51.75794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:39:51.75795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:39:51.75795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:39:51.75796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:39:51.75796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:39:51.75796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:39:51.75796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:39:51.75797   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:39:51.75798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:39:51.75798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:39:51.75798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:39:51.75798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:39:51.75799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:39:51.75799   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:39:51.75799   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:39:51.75799   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:39:51.75800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:39:51.75800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:39:51.75800   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:39:51.75801   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:39:51.75801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:39:51.75801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:39:51.75802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:39:51.75802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:39:51.75803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:39:51.75803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:39:51.75803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:39:51.75803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:39:51.75804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:39:51.75805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:39:51.75805   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:39:51.75805   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:39:52.59444 {"timestamp":"2020-10-21T13:39:52.594Z","pid":17650,"message":"Puma starting in cluster mode..."}
2020-10-21_13:39:52.59462 {"timestamp":"2020-10-21T13:39:52.594Z","pid":17650,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:39:52.59473 {"timestamp":"2020-10-21T13:39:52.594Z","pid":17650,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:39:52.59486 {"timestamp":"2020-10-21T13:39:52.594Z","pid":17650,"message":"* Environment: production"}
2020-10-21_13:39:52.59499 {"timestamp":"2020-10-21T13:39:52.594Z","pid":17650,"message":"* Process workers: 2"}
2020-10-21_13:39:52.59513 {"timestamp":"2020-10-21T13:39:52.595Z","pid":17650,"message":"* Preloading application"}
2020-10-21_13:40:05.83811 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:40:06.67725 {"timestamp":"2020-10-21T13:40:06.677Z","pid":17650,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:40:06.67749 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:40:06.67765 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:40:06.67766   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:40:06.67767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:40:06.67767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:40:06.67767   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:40:06.67768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:40:06.67768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:40:06.67768   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:40:06.67769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:40:06.67769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:40:06.67770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:40:06.67770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:40:06.67770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:40:06.67772   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:40:06.67773   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:40:06.67774   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:40:06.67774   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:40:06.67775   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:40:06.67775   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:40:06.67775   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:40:06.67776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:40:06.67776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:40:06.67776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:40:06.67778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:40:06.67778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:40:06.67778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:40:06.67779   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:40:06.67779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:06.67779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:40:06.67780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:40:06.67780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:06.67781   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:40:06.67782   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:40:06.67782   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:40:06.67783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:40:06.67783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:40:06.67783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:40:06.67784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:40:06.67784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:40:06.67784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:40:06.67786   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:40:06.67786   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:40:06.67786   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:40:06.67787   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:40:06.67788   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:40:06.67788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:40:06.67788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:40:06.67789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:40:06.67789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:40:06.67789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:40:06.67790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:40:06.67791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:40:06.67791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:40:06.67792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:40:06.67792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:40:06.67792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:40:06.67793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:40:06.67793   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:40:06.67793   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:40:06.67794   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:40:06.67794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:40:06.67794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:40:06.67795   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:40:06.67796   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:40:06.67796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:40:06.67797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:40:06.67797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:40:06.67797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:40:06.67798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:40:06.67798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:40:06.67798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:40:06.67799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:40:06.67799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:40:06.67801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:40:06.67801   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:40:06.67801   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:40:07.55418 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"Puma starting in cluster mode..."}
2020-10-21_13:40:07.55432 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:40:07.55459 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:40:07.55472 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"* Environment: production"}
2020-10-21_13:40:07.55483 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"* Process workers: 2"}
2020-10-21_13:40:07.55495 {"timestamp":"2020-10-21T13:40:07.554Z","pid":18107,"message":"* Preloading application"}
2020-10-21_13:40:22.01793 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:40:22.58526 {"timestamp":"2020-10-21T13:40:22.585Z","pid":18107,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:40:22.58535 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:40:22.58559 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:40:22.58560   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:40:22.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:40:22.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:40:22.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:40:22.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:40:22.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:40:22.58562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:40:22.58562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:40:22.58562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:40:22.58562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:40:22.58563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:40:22.58563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:40:22.58564   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:40:22.58564   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:40:22.58564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:40:22.58565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:40:22.58565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:40:22.58565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:40:22.58565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:40:22.58565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:40:22.58566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:40:22.58566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:40:22.58567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:40:22.58567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:40:22.58568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:40:22.58568   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:40:22.58569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:22.58569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:40:22.58569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:40:22.58569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:22.58570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:40:22.58571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:40:22.58571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:40:22.58571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:40:22.58571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:40:22.58571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:40:22.58572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:40:22.58572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:40:22.58572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:40:22.58573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:40:22.58573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:40:22.58574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:40:22.58574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:40:22.58574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:40:22.58574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:40:22.58575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:40:22.58575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:40:22.58575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:40:22.58575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:40:22.58575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:40:22.58576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:40:22.58577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:40:22.58577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:40:22.58577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:40:22.58577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:40:22.58577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:40:22.58578   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:40:22.58578   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:40:22.58578   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:40:22.58579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:40:22.58579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:40:22.58579   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:40:22.58580   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:40:22.58580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:40:22.58580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:40:22.58581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:40:22.58581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:40:22.58581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:40:22.58581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:40:22.58583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:40:22.58584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:40:22.58584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:40:22.58585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:40:22.58585   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:40:22.58586   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:40:23.24994 {"timestamp":"2020-10-21T13:40:23.249Z","pid":18575,"message":"Puma starting in cluster mode..."}
2020-10-21_13:40:23.25003 {"timestamp":"2020-10-21T13:40:23.250Z","pid":18575,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:40:23.25012 {"timestamp":"2020-10-21T13:40:23.250Z","pid":18575,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:40:23.25021 {"timestamp":"2020-10-21T13:40:23.250Z","pid":18575,"message":"* Environment: production"}
2020-10-21_13:40:23.25040 {"timestamp":"2020-10-21T13:40:23.250Z","pid":18575,"message":"* Process workers: 2"}
2020-10-21_13:40:23.25056 {"timestamp":"2020-10-21T13:40:23.250Z","pid":18575,"message":"* Preloading application"}
2020-10-21_13:40:37.14554 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:40:37.90617 {"timestamp":"2020-10-21T13:40:37.905Z","pid":18575,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:40:37.90622 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:40:37.90639 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:40:37.90644   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:40:37.90645   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:40:37.90647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:40:37.90647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:40:37.90647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:40:37.90650   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:40:37.90651   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:40:37.90651   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:40:37.90651   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:40:37.90652   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:40:37.90652   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:40:37.90652   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:40:37.90654   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:40:37.90655   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:40:37.90655   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:40:37.90655   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:40:37.90656   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:40:37.90656   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:40:37.90666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:40:37.90667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:40:37.90667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:40:37.90668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:40:37.90674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:40:37.90674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:40:37.90674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:40:37.90675   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:40:37.90675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:37.90675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:40:37.90676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:40:37.90676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:37.90676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:40:37.90678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:40:37.90678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:40:37.90679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:40:37.90680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:40:37.90680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:40:37.90681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:40:37.90681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:40:37.90681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:40:37.90683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:40:37.90683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:40:37.90683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:40:37.90684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:40:37.90684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:40:37.90684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:40:37.90685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:40:37.90685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:40:37.90685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:40:37.90686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:40:37.90686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:40:37.90688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:40:37.90698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:40:37.90703   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:40:37.90704   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:40:37.90704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:40:37.90704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:40:37.90705   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:40:37.90705   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:40:37.90705   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:40:37.90706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:40:37.90706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:40:37.90706   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:40:37.90708   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:40:37.90708   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:40:37.90708   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:40:37.90709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:40:37.90709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:40:37.90709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:40:37.90710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:40:37.90711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:40:37.90711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:40:37.90711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:40:37.90713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:40:37.90713   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:40:37.90714   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:40:38.80807 {"timestamp":"2020-10-21T13:40:38.807Z","pid":19023,"message":"Puma starting in cluster mode..."}
2020-10-21_13:40:38.80812 {"timestamp":"2020-10-21T13:40:38.808Z","pid":19023,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:40:38.80825 {"timestamp":"2020-10-21T13:40:38.808Z","pid":19023,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:40:38.80856 {"timestamp":"2020-10-21T13:40:38.808Z","pid":19023,"message":"* Environment: production"}
2020-10-21_13:40:38.80872 {"timestamp":"2020-10-21T13:40:38.808Z","pid":19023,"message":"* Process workers: 2"}
2020-10-21_13:40:38.80916 {"timestamp":"2020-10-21T13:40:38.809Z","pid":19023,"message":"* Preloading application"}
2020-10-21_13:40:52.18938 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:40:53.09144 {"timestamp":"2020-10-21T13:40:53.091Z","pid":19023,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:40:53.09176 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:40:53.09194 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:40:53.09195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:40:53.09195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:40:53.09196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:40:53.09196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:40:53.09196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:40:53.09196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:40:53.09197   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:40:53.09197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:40:53.09197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:40:53.09197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:40:53.09198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:40:53.09198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:40:53.09199   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:40:53.09199   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:40:53.09200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:40:53.09201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:40:53.09201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:40:53.09201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:40:53.09202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:40:53.09202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:40:53.09202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:40:53.09202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:40:53.09203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:40:53.09204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:40:53.09204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:40:53.09204   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:40:53.09204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:53.09205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:40:53.09205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:40:53.09205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:40:53.09205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:40:53.09206   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:40:53.09207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:40:53.09207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:40:53.09207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:40:53.09207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:40:53.09208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:40:53.09208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:40:53.09208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:40:53.09209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:40:53.09209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:40:53.09210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:40:53.09210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:40:53.09210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:40:53.09210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:40:53.09211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:40:53.09211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:40:53.09211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:40:53.09211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:40:53.09212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:40:53.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:40:53.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:40:53.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:40:53.09213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:40:53.09214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:40:53.09214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:40:53.09214   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:40:53.09214   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:40:53.09215   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:40:53.09215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:40:53.09215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:40:53.09215   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:40:53.09216   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:40:53.09216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:40:53.09217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:40:53.09217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:40:53.09217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:40:53.09217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:40:53.09218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:40:53.09218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:40:53.09218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:40:53.09218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:40:53.09219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:40:53.09220   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:40:53.09220   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:40:53.97924 {"timestamp":"2020-10-21T13:40:53.979Z","pid":19479,"message":"Puma starting in cluster mode..."}
2020-10-21_13:40:53.98136 {"timestamp":"2020-10-21T13:40:53.981Z","pid":19479,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:40:53.98159 {"timestamp":"2020-10-21T13:40:53.981Z","pid":19479,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:40:53.98180 {"timestamp":"2020-10-21T13:40:53.981Z","pid":19479,"message":"* Environment: production"}
2020-10-21_13:40:53.98201 {"timestamp":"2020-10-21T13:40:53.981Z","pid":19479,"message":"* Process workers: 2"}
2020-10-21_13:40:53.98222 {"timestamp":"2020-10-21T13:40:53.982Z","pid":19479,"message":"* Preloading application"}
2020-10-21_13:41:07.30462 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:41:08.09593 {"timestamp":"2020-10-21T13:41:08.095Z","pid":19479,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:41:08.09632 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:41:08.09658 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:41:08.09659   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:41:08.09660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:41:08.09660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:41:08.09660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:41:08.09661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:41:08.09661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:41:08.09661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:41:08.09662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:41:08.09662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:41:08.09662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:41:08.09663   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:41:08.09663   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:41:08.09665   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:41:08.09665   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:41:08.09665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:41:08.09666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:41:08.09666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:41:08.09666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:41:08.09667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:41:08.09667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:41:08.09667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:41:08.09668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:41:08.09669   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:41:08.09669   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:41:08.09670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:41:08.09670   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:41:08.09671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:08.09672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:41:08.09672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:41:08.09672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:08.09673   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:41:08.09674   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:41:08.09675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:41:08.09675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:41:08.09675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:41:08.09676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:41:08.09676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:41:08.09676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:41:08.09677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:41:08.09678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:41:08.09678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:41:08.09679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:41:08.09679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:41:08.09679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:41:08.09680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:41:08.09680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:41:08.09680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:41:08.09681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:41:08.09681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:41:08.09681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:41:08.09683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:41:08.09683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:41:08.09683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:41:08.09684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:41:08.09684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:41:08.09684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:41:08.09685   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:41:08.09685   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:41:08.09686   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:41:08.09686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:41:08.09686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:41:08.09687   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:41:08.09688   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:41:08.09688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:41:08.09689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:41:08.09689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:41:08.09689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:41:08.09690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:41:08.09690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:41:08.09690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:41:08.09691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:41:08.09691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:41:08.09693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:41:08.09693   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:41:08.09693   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:41:09.00818 {"timestamp":"2020-10-21T13:41:09.008Z","pid":19935,"message":"Puma starting in cluster mode..."}
2020-10-21_13:41:09.00847 {"timestamp":"2020-10-21T13:41:09.008Z","pid":19935,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:41:09.00867 {"timestamp":"2020-10-21T13:41:09.008Z","pid":19935,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:41:09.00926 {"timestamp":"2020-10-21T13:41:09.009Z","pid":19935,"message":"* Environment: production"}
2020-10-21_13:41:09.00947 {"timestamp":"2020-10-21T13:41:09.009Z","pid":19935,"message":"* Process workers: 2"}
2020-10-21_13:41:09.00965 {"timestamp":"2020-10-21T13:41:09.009Z","pid":19935,"message":"* Preloading application"}
2020-10-21_13:41:23.01889 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:41:23.73741 {"timestamp":"2020-10-21T13:41:23.737Z","pid":19935,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:41:23.73772 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:41:23.73787 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:41:23.73791   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:41:23.73792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:41:23.73792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:41:23.73792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:41:23.73793   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:41:23.73793   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:41:23.73794   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:41:23.73794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:41:23.73794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:41:23.73794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:41:23.73794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:41:23.73795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:41:23.73796   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:41:23.73796   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:41:23.73796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:41:23.73797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:41:23.73797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:41:23.73797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:41:23.73797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:41:23.73798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:41:23.73798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:41:23.73798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:41:23.73799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:41:23.73799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:41:23.73799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:41:23.73800   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:41:23.73800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:23.73800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:41:23.73800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:41:23.73801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:23.73801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:41:23.73802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:41:23.73802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:41:23.73802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:41:23.73803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:41:23.73803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:41:23.73803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:41:23.73804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:41:23.73804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:41:23.73805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:41:23.73805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:41:23.73805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:41:23.73805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:41:23.73806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:41:23.73806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:41:23.73806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:41:23.73806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:41:23.73807   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:41:23.73807   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:41:23.73807   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:41:23.73808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:41:23.73808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:41:23.73808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:41:23.73809   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:41:23.73809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:41:23.73809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:41:23.73809   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:41:23.73810   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:41:23.73810   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:41:23.73810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:41:23.73810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:41:23.73810   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:41:23.73811   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:41:23.73812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:41:23.73812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:41:23.73812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:41:23.73812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:41:23.73813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:41:23.73813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:41:23.73814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:41:23.73814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:41:23.73814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:41:23.73815   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:41:23.73816   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:41:23.73816   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:41:24.42724 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"Puma starting in cluster mode..."}
2020-10-21_13:41:24.42733 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:41:24.42748 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:41:24.42759 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"* Environment: production"}
2020-10-21_13:41:24.42772 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"* Process workers: 2"}
2020-10-21_13:41:24.42789 {"timestamp":"2020-10-21T13:41:24.427Z","pid":20388,"message":"* Preloading application"}
2020-10-21_13:41:37.77821 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:41:38.69158 {"timestamp":"2020-10-21T13:41:38.691Z","pid":20388,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:41:38.69187 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:41:38.69189 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:41:38.69189   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:41:38.69189   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:41:38.69190   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:41:38.69190   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:41:38.69190   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:41:38.69190   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:41:38.69191   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:41:38.69191   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:41:38.69191   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:41:38.69191   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:41:38.69201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:41:38.69208   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:41:38.69209   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:41:38.69209   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:41:38.69210   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:41:38.69210   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:41:38.69210   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:41:38.69211   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:41:38.69211   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:41:38.69212   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:41:38.69212   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:41:38.69229   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:41:38.69241   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:41:38.69241   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:41:38.69242   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:41:38.69257   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:41:38.69267   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:38.69275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:41:38.69275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:41:38.69275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:38.69276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:41:38.69277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:41:38.69277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:41:38.69277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:41:38.69277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:41:38.69278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:41:38.69278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:41:38.69278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:41:38.69278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:41:38.69279   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:41:38.69279   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:41:38.69280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:41:38.69280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:41:38.69280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:41:38.69280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:41:38.69281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:41:38.69281   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:41:38.69282   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:41:38.69282   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:41:38.69283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:41:38.69283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:41:38.69283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:41:38.69283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:41:38.69284   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:41:38.69284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:41:38.69284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:41:38.69284   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:41:38.69285   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:41:38.69285   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:41:38.69285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:41:38.69285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:41:38.69286   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:41:38.69286   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:41:38.69287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:41:38.69287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:41:38.69287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:41:38.69287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:41:38.69288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:41:38.69288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:41:38.69288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:41:38.69288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:41:38.69288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:41:38.69290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:41:38.69290   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:41:38.69290   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:41:39.53812 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"Puma starting in cluster mode..."}
2020-10-21_13:41:39.53816 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:41:39.53817 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:41:39.53817 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"* Environment: production"}
2020-10-21_13:41:39.53831 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"* Process workers: 2"}
2020-10-21_13:41:39.53840 {"timestamp":"2020-10-21T13:41:39.538Z","pid":20835,"message":"* Preloading application"}
2020-10-21_13:41:52.22953 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:41:53.11565 {"timestamp":"2020-10-21T13:41:53.115Z","pid":20835,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:41:53.11608 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:41:53.11633 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:41:53.11645   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:41:53.11653   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:41:53.11654   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:41:53.11685   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:41:53.11686   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:41:53.11687   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:41:53.11687   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:41:53.11695   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:41:53.11703   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:41:53.11704   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:41:53.11705   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:41:53.11705   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:41:53.11723   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:41:53.11745   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:41:53.11752   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:41:53.11769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:41:53.11778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:41:53.11792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:41:53.11799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:41:53.11808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:41:53.11815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:41:53.11829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:41:53.11845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:41:53.11860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:41:53.11869   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:41:53.11876   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:41:53.11886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:53.11902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:41:53.11909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:41:53.11924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:41:53.11938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:41:53.11955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:41:53.11971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:41:53.11979   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:41:53.11980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:41:53.11980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:41:53.11985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:41:53.11994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:41:53.11995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:41:53.12001   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:41:53.12002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:41:53.12002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:41:53.12002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:41:53.12003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:41:53.12022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:41:53.12033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:41:53.12038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:41:53.12038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:41:53.12047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:41:53.12048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:41:53.12072   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:41:53.12073   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:41:53.12073   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:41:53.12073   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:41:53.12074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:41:53.12074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:41:53.12074   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:41:53.12075   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:41:53.12075   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:41:53.12075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:41:53.12076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:41:53.12077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:41:53.12078   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:41:53.12079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:41:53.12079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:41:53.12079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:41:53.12080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:41:53.12080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:41:53.12080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:41:53.12081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:41:53.12081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:41:53.12081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:41:53.12105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:41:53.12115   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:41:53.12120   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:41:54.07086 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"Puma starting in cluster mode..."}
2020-10-21_13:41:54.07089 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:41:54.07090 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:41:54.07090 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"* Environment: production"}
2020-10-21_13:41:54.07090 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"* Process workers: 2"}
2020-10-21_13:41:54.07091 {"timestamp":"2020-10-21T13:41:54.070Z","pid":21266,"message":"* Preloading application"}
2020-10-21_13:42:07.33970 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:42:08.32608 {"timestamp":"2020-10-21T13:42:08.325Z","pid":21266,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:42:08.32647 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:42:08.32668 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:42:08.32673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:42:08.32688   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:42:08.32689   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:42:08.32689   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:42:08.32689   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:42:08.32689   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:42:08.32690   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:42:08.32692   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:42:08.32693   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:42:08.32693   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:42:08.32693   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:42:08.32694   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:42:08.32695   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:42:08.32695   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:42:08.32695   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:42:08.32696   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:42:08.32696   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:42:08.32696   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:42:08.32699   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:42:08.32705   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:42:08.32706   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:42:08.32706   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:42:08.32707   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:42:08.32707   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:42:08.32708   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:42:08.32708   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:42:08.32708   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:08.32708   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:42:08.32709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:42:08.32709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:08.32709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:42:08.32710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:42:08.32710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:42:08.32711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:42:08.32711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:42:08.32711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:42:08.32711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:42:08.32712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:42:08.32712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:42:08.32713   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:42:08.32714   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:42:08.32714   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:42:08.32714   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:42:08.32714   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:42:08.32715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:42:08.32715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:42:08.32715   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:42:08.32715   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:42:08.32716   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:42:08.32716   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:42:08.32747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:42:08.32748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:42:08.32754   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:42:08.32755   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:42:08.32755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:42:08.32755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:42:08.32755   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:42:08.32756   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:42:08.32756   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:42:08.32756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:42:08.32756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:42:08.32757   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:42:08.32758   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:42:08.32758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:42:08.32758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:42:08.32758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:42:08.32759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:42:08.32759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:42:08.32759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:42:08.32759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:42:08.32760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:42:08.32760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:42:08.32766   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:42:08.32767   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:42:08.32767   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:42:09.33090 {"timestamp":"2020-10-21T13:42:09.330Z","pid":21737,"message":"Puma starting in cluster mode..."}
2020-10-21_13:42:09.33094 {"timestamp":"2020-10-21T13:42:09.330Z","pid":21737,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:42:09.33096 {"timestamp":"2020-10-21T13:42:09.330Z","pid":21737,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:42:09.33096 {"timestamp":"2020-10-21T13:42:09.330Z","pid":21737,"message":"* Environment: production"}
2020-10-21_13:42:09.33096 {"timestamp":"2020-10-21T13:42:09.330Z","pid":21737,"message":"* Process workers: 2"}
2020-10-21_13:42:09.33122 {"timestamp":"2020-10-21T13:42:09.331Z","pid":21737,"message":"* Preloading application"}
2020-10-21_13:42:23.39288 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:42:24.07618 {"timestamp":"2020-10-21T13:42:24.076Z","pid":21737,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:42:24.07648 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:42:24.07667 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:42:24.07667   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:42:24.07685   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:42:24.07685   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:42:24.07685   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:42:24.07686   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:42:24.07686   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:42:24.07686   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:42:24.07686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:42:24.07687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:42:24.07687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:42:24.07687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:42:24.07687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:42:24.07688   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:42:24.07689   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:42:24.07689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:42:24.07689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:42:24.07697   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:42:24.07697   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:42:24.07698   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:42:24.07698   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:42:24.07699   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:42:24.07699   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:42:24.07700   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:42:24.07700   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:42:24.07701   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:42:24.07701   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:42:24.07701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:24.07701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:42:24.07702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:42:24.07702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:24.07702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:42:24.07703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:42:24.07703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:42:24.07704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:42:24.07704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:42:24.07704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:42:24.07704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:42:24.07705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:42:24.07705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:42:24.07706   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:42:24.07706   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:42:24.07706   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:42:24.07706   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:42:24.07707   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:42:24.07707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:42:24.07707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:42:24.07707   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:42:24.07708   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:42:24.07708   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:42:24.07708   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:42:24.07709   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:42:24.07710   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:42:24.07710   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:42:24.07710   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:42:24.07710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:42:24.07710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:42:24.07711   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:42:24.07711   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:42:24.07711   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:42:24.07711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:42:24.07712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:42:24.07712   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:42:24.07713   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:42:24.07713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:42:24.07713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:42:24.07713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:42:24.07714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:42:24.07714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:42:24.07714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:42:24.07714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:42:24.07715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:42:24.07715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:42:24.07716   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:42:24.07716   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:42:24.07716   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:42:24.74835 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"Puma starting in cluster mode..."}
2020-10-21_13:42:24.74837 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:42:24.74837 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:42:24.74838 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"* Environment: production"}
2020-10-21_13:42:24.74838 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"* Process workers: 2"}
2020-10-21_13:42:24.74838 {"timestamp":"2020-10-21T13:42:24.748Z","pid":22176,"message":"* Preloading application"}
2020-10-21_13:42:38.26433 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:42:39.26171 {"timestamp":"2020-10-21T13:42:39.261Z","pid":22176,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:42:39.26200 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:42:39.26215 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:42:39.26216   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:42:39.26217   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:42:39.26217   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:42:39.26217   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:42:39.26217   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:42:39.26218   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:42:39.26218   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:42:39.26218   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:42:39.26218   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:42:39.26219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:42:39.26219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:42:39.26219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:42:39.26220   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:42:39.26220   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:42:39.26221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:42:39.26221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:42:39.26221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:42:39.26221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:42:39.26222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:42:39.26222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:42:39.26222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:42:39.26222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:42:39.26223   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:42:39.26224   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:42:39.26224   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:42:39.26224   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:42:39.26224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:39.26225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:42:39.26225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:42:39.26226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:39.26226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:42:39.26227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:42:39.26227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:42:39.26228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:42:39.26228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:42:39.26228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:42:39.26228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:42:39.26229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:42:39.26229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:42:39.26230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:42:39.26230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:42:39.26230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:42:39.26231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:42:39.26231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:42:39.26231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:42:39.26231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:42:39.26231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:42:39.26232   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:42:39.26232   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:42:39.26232   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:42:39.26233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:42:39.26233   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:42:39.26234   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:42:39.26234   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:42:39.26234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:42:39.26234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:42:39.26235   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:42:39.26235   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:42:39.26235   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:42:39.26235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:42:39.26235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:42:39.26236   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:42:39.26237   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:42:39.26237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:42:39.26237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:42:39.26238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:42:39.26238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:42:39.26238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:42:39.26238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:42:39.26239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:42:39.26239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:42:39.26239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:42:39.26240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:42:39.26240   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:42:39.26241   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:42:40.11656 {"timestamp":"2020-10-21T13:42:40.116Z","pid":22632,"message":"Puma starting in cluster mode..."}
2020-10-21_13:42:40.11686 {"timestamp":"2020-10-21T13:42:40.116Z","pid":22632,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:42:40.11703 {"timestamp":"2020-10-21T13:42:40.116Z","pid":22632,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:42:40.11715 {"timestamp":"2020-10-21T13:42:40.117Z","pid":22632,"message":"* Environment: production"}
2020-10-21_13:42:40.11724 {"timestamp":"2020-10-21T13:42:40.117Z","pid":22632,"message":"* Process workers: 2"}
2020-10-21_13:42:40.11739 {"timestamp":"2020-10-21T13:42:40.117Z","pid":22632,"message":"* Preloading application"}
2020-10-21_13:42:52.96452 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:42:53.96199 {"timestamp":"2020-10-21T13:42:53.956Z","pid":22632,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:42:53.96235 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:42:53.96251 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:42:53.96253   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:42:53.96254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:42:53.96254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:42:53.96254   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:42:53.96255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:42:53.96255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:42:53.96255   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:42:53.96255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:42:53.96256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:42:53.96260   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:42:53.96261   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:42:53.96261   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:42:53.96262   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:42:53.96263   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:42:53.96273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:42:53.96275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:42:53.96276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:42:53.96276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:42:53.96277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:42:53.96277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:42:53.96277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:42:53.96277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:42:53.96281   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:42:53.96281   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:42:53.96282   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:42:53.96283   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:42:53.96283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:53.96284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:42:53.96284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:42:53.96284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:42:53.96284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:42:53.96289   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:42:53.96290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:42:53.96290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:42:53.96290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:42:53.96290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:42:53.96291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:42:53.96291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:42:53.96291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:42:53.96293   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:42:53.96293   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:42:53.96293   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:42:53.96308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:42:53.96309   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:42:53.96309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:42:53.96310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:42:53.96310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:42:53.96310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:42:53.96310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:42:53.96310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:42:53.96312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:42:53.96312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:42:53.96312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:42:53.96312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:42:53.96312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:42:53.96313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:42:53.96313   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:42:53.96313   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:42:53.96313   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:42:53.96314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:42:53.96314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:42:53.96314   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:42:53.96320   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:42:53.96320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:42:53.96320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:42:53.96320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:42:53.96321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:42:53.96321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:42:53.96321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:42:53.96321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:42:53.96322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:42:53.96322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:42:53.96323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:42:53.96324   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:42:53.96339   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:42:54.79288 {"timestamp":"2020-10-21T13:42:54.792Z","pid":23064,"message":"Puma starting in cluster mode..."}
2020-10-21_13:42:54.79469 {"timestamp":"2020-10-21T13:42:54.794Z","pid":23064,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:42:54.79489 {"timestamp":"2020-10-21T13:42:54.794Z","pid":23064,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:42:54.79506 {"timestamp":"2020-10-21T13:42:54.794Z","pid":23064,"message":"* Environment: production"}
2020-10-21_13:42:54.79518 {"timestamp":"2020-10-21T13:42:54.795Z","pid":23064,"message":"* Process workers: 2"}
2020-10-21_13:42:54.79533 {"timestamp":"2020-10-21T13:42:54.795Z","pid":23064,"message":"* Preloading application"}
2020-10-21_13:43:08.19488 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:43:08.97227 {"timestamp":"2020-10-21T13:43:08.972Z","pid":23064,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:43:08.97254 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:43:08.97282 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:43:08.97283   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:43:08.97283   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:43:08.97284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:43:08.97284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:43:08.97284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:43:08.97284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:43:08.97284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:43:08.97292   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:43:08.97292   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:43:08.97293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:43:08.97293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:43:08.97293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:43:08.97307   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:43:08.97307   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:43:08.97308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:43:08.97308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:43:08.97308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:43:08.97308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:43:08.97308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:43:08.97309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:43:08.97310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:43:08.97310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:43:08.97318   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:43:08.97318   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:43:08.97319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:43:08.97319   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:43:08.97319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:08.97319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:43:08.97320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:43:08.97320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:08.97320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:43:08.97335   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:43:08.97336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:43:08.97336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:43:08.97336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:43:08.97336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:43:08.97336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:43:08.97337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:43:08.97337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:43:08.97344   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:43:08.97345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:43:08.97345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:43:08.97358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:43:08.97358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:43:08.97359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:43:08.97359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:43:08.97359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:43:08.97359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:43:08.97360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:43:08.97360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:43:08.97367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:43:08.97368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:43:08.97368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:43:08.97368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:43:08.97368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:43:08.97369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:43:08.97369   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:43:08.97369   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:43:08.97369   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:43:08.97369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:43:08.97370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:43:08.97370   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:43:08.97371   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:43:08.97371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:43:08.97372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:43:08.97372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:43:08.97372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:43:08.97372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:43:08.97372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:43:08.97373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:43:08.97373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:43:08.97373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:43:08.97374   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:43:08.97375   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:43:08.97375   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:43:09.90464 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"Puma starting in cluster mode..."}
2020-10-21_13:43:09.90478 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:43:09.90484 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:43:09.90490 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"* Environment: production"}
2020-10-21_13:43:09.90495 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"* Process workers: 2"}
2020-10-21_13:43:09.90507 {"timestamp":"2020-10-21T13:43:09.904Z","pid":23525,"message":"* Preloading application"}
2020-10-21_13:43:24.03023 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:43:24.70315 {"timestamp":"2020-10-21T13:43:24.703Z","pid":23525,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:43:24.70347 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:43:24.70357 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:43:24.70357   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:43:24.70358   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:43:24.70358   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:43:24.70358   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:43:24.70358   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:43:24.70359   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:43:24.70359   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:43:24.70359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:43:24.70359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:43:24.70359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:43:24.70360   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:43:24.70360   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:43:24.70376   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:43:24.70377   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:43:24.70377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:43:24.70377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:43:24.70377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:43:24.70378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:43:24.70378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:43:24.70378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:43:24.70378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:43:24.70379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:43:24.70380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:43:24.70380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:43:24.70380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:43:24.70380   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:43:24.70381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:24.70381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:43:24.70381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:43:24.70381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:24.70382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:43:24.70383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:43:24.70383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:43:24.70384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:43:24.70384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:43:24.70384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:43:24.70384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:43:24.70385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:43:24.70385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:43:24.70386   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:43:24.70386   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:43:24.70386   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:43:24.70386   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:43:24.70387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:43:24.70387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:43:24.70387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:43:24.70387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:43:24.70388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:43:24.70388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:43:24.70388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:43:24.70389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:43:24.70389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:43:24.70389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:43:24.70390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:43:24.70390   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:43:24.70390   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:43:24.70390   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:43:24.70391   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:43:24.70391   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:43:24.70391   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:43:24.70391   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:43:24.70391   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:43:24.70392   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:43:24.70393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:43:24.70393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:43:24.70393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:43:24.70394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:43:24.70394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:43:24.70394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:43:24.70394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:43:24.70395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:43:24.70395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:43:24.70396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:43:24.70396   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:43:24.70396   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:43:25.39202 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"Puma starting in cluster mode..."}
2020-10-21_13:43:25.39204 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:43:25.39204 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:43:25.39204 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"* Environment: production"}
2020-10-21_13:43:25.39205 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"* Process workers: 2"}
2020-10-21_13:43:25.39205 {"timestamp":"2020-10-21T13:43:25.391Z","pid":23968,"message":"* Preloading application"}
2020-10-21_13:43:39.60318 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:43:40.39179 {"timestamp":"2020-10-21T13:43:40.391Z","pid":23968,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:43:40.39211 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:43:40.39231 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:43:40.39231   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:43:40.39232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:43:40.39232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:43:40.39232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:43:40.39233   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:43:40.39233   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:43:40.39233   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:43:40.39233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:43:40.39234   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:43:40.39234   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:43:40.39234   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:43:40.39235   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:43:40.39236   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:43:40.39236   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:43:40.39237   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:43:40.39237   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:43:40.39237   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:43:40.39237   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:43:40.39237   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:43:40.39238   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:43:40.39238   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:43:40.39238   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:43:40.39239   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:43:40.39239   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:43:40.39240   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:43:40.39240   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:43:40.39240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:40.39240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:43:40.39241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:43:40.39241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:40.39241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:43:40.39242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:43:40.39242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:43:40.39243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:43:40.39243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:43:40.39243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:43:40.39243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:43:40.39244   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:43:40.39244   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:43:40.39245   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:43:40.39245   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:43:40.39246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:43:40.39246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:43:40.39246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:43:40.39246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:43:40.39246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:43:40.39247   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:43:40.39247   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:43:40.39247   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:43:40.39247   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:43:40.39248   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:43:40.39249   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:43:40.39249   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:43:40.39249   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:43:40.39249   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:43:40.39249   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:43:40.39250   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:43:40.39250   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:43:40.39250   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:43:40.39250   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:43:40.39251   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:43:40.39251   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:43:40.39252   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:43:40.39252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:43:40.39252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:43:40.39252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:43:40.39253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:43:40.39253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:43:40.39253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:43:40.39253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:43:40.39254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:43:40.39254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:43:40.39255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:43:40.39255   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:43:40.39255   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:43:41.25082 {"timestamp":"2020-10-21T13:43:41.250Z","pid":24434,"message":"Puma starting in cluster mode..."}
2020-10-21_13:43:41.25130 {"timestamp":"2020-10-21T13:43:41.251Z","pid":24434,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:43:41.25152 {"timestamp":"2020-10-21T13:43:41.251Z","pid":24434,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:43:41.25169 {"timestamp":"2020-10-21T13:43:41.251Z","pid":24434,"message":"* Environment: production"}
2020-10-21_13:43:41.25186 {"timestamp":"2020-10-21T13:43:41.251Z","pid":24434,"message":"* Process workers: 2"}
2020-10-21_13:43:41.25203 {"timestamp":"2020-10-21T13:43:41.252Z","pid":24434,"message":"* Preloading application"}
2020-10-21_13:43:54.11969 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:43:54.94892 {"timestamp":"2020-10-21T13:43:54.948Z","pid":24434,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:43:54.94943 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:43:54.94978 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:43:54.94979   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:43:54.94980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:43:54.94980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:43:54.94980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:43:54.94981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:43:54.94981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:43:54.94981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:43:54.94981   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:43:54.94982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:43:54.94982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:43:54.94991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:43:54.94991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:43:54.94992   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:43:54.94993   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:43:54.94993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:43:54.94993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:43:54.94993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:43:54.94994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:43:54.94994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:43:54.94994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:43:54.94994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:43:54.94994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:43:54.94996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:43:54.94997   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:43:54.94997   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:43:54.94997   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:43:54.94998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:54.94998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:43:54.94998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:43:54.94998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:43:54.94999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:43:54.95000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:43:54.95000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:43:54.95000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:43:54.95000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:43:54.95001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:43:54.95001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:43:54.95001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:43:54.95001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:43:54.95002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:43:54.95003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:43:54.95003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:43:54.95003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:43:54.95003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:43:54.95004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:43:54.95004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:43:54.95004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:43:54.95004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:43:54.95004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:43:54.95005   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:43:54.95006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:43:54.95006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:43:54.95006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:43:54.95007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:43:54.95007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:43:54.95007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:43:54.95007   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:43:54.95008   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:43:54.95008   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:43:54.95008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:43:54.95008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:43:54.95009   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:43:54.95010   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:43:54.95010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:43:54.95010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:43:54.95010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:43:54.95011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:43:54.95011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:43:54.95011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:43:54.95011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:43:54.95012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:43:54.95012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:43:54.95013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:43:54.95013   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:43:54.95013   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:43:55.79442 {"timestamp":"2020-10-21T13:43:55.794Z","pid":24885,"message":"Puma starting in cluster mode..."}
2020-10-21_13:43:55.79466 {"timestamp":"2020-10-21T13:43:55.794Z","pid":24885,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:43:55.79482 {"timestamp":"2020-10-21T13:43:55.794Z","pid":24885,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:43:55.79504 {"timestamp":"2020-10-21T13:43:55.795Z","pid":24885,"message":"* Environment: production"}
2020-10-21_13:43:55.79519 {"timestamp":"2020-10-21T13:43:55.795Z","pid":24885,"message":"* Process workers: 2"}
2020-10-21_13:43:55.79537 {"timestamp":"2020-10-21T13:43:55.795Z","pid":24885,"message":"* Preloading application"}
2020-10-21_13:44:09.21598 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:44:10.02927 {"timestamp":"2020-10-21T13:44:10.029Z","pid":24885,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:44:10.02961 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:44:10.02986 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:44:10.02987   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:44:10.02987   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:44:10.02987   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:44:10.02987   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:44:10.02988   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:44:10.02988   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:44:10.02988   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:44:10.02990   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:44:10.02990   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:44:10.02990   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:44:10.02990   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:44:10.02991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:44:10.02992   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:44:10.02992   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:44:10.02992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:44:10.02992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:44:10.02993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:44:10.02993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:44:10.02993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:44:10.02993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:44:10.02994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:44:10.02994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:44:10.02995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:44:10.02995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:44:10.02995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:44:10.02996   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:44:10.02996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:10.02996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:44:10.02996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:44:10.02996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:10.02997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:44:10.02998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:44:10.02998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:44:10.02999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:44:10.02999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:44:10.02999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:44:10.02999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:44:10.03000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:44:10.03000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:44:10.03001   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:44:10.03001   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:44:10.03001   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:44:10.03002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:44:10.03002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:44:10.03002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:44:10.03002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:44:10.03002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:44:10.03003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:44:10.03003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:44:10.03003   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:44:10.03004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:44:10.03004   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:44:10.03005   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:44:10.03005   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:44:10.03005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:44:10.03005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:44:10.03005   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:44:10.03006   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:44:10.03006   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:44:10.03006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:44:10.03006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:44:10.03007   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:44:10.03008   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:44:10.03008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:44:10.03008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:44:10.03008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:44:10.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:44:10.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:44:10.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:44:10.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:44:10.03010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:44:10.03010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:44:10.03011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:44:10.03011   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:44:10.03012   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:44:10.88996 {"timestamp":"2020-10-21T13:44:10.889Z","pid":25341,"message":"Puma starting in cluster mode..."}
2020-10-21_13:44:10.89021 {"timestamp":"2020-10-21T13:44:10.890Z","pid":25341,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:44:10.89043 {"timestamp":"2020-10-21T13:44:10.890Z","pid":25341,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:44:10.89060 {"timestamp":"2020-10-21T13:44:10.890Z","pid":25341,"message":"* Environment: production"}
2020-10-21_13:44:10.89078 {"timestamp":"2020-10-21T13:44:10.890Z","pid":25341,"message":"* Process workers: 2"}
2020-10-21_13:44:10.89097 {"timestamp":"2020-10-21T13:44:10.890Z","pid":25341,"message":"* Preloading application"}
2020-10-21_13:44:25.02117 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:44:25.76702 {"timestamp":"2020-10-21T13:44:25.766Z","pid":25341,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:44:25.76707 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:44:25.76731 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:44:25.76735   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:44:25.76746   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:44:25.76746   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:44:25.76747   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:44:25.76747   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:44:25.76747   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:44:25.76747   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:44:25.76748   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:44:25.76748   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:44:25.76766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:44:25.76770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:44:25.76784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:44:25.76799   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:44:25.76809   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:44:25.76810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:44:25.76810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:44:25.76810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:44:25.76810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:44:25.76811   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:44:25.76811   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:44:25.76811   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:44:25.76811   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:44:25.76828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:44:25.76829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:44:25.76839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:44:25.76840   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:44:25.76840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:25.76840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:44:25.76841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:44:25.76841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:25.76841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:44:25.76857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:44:25.76872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:44:25.76883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:44:25.76887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:44:25.76897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:44:25.76898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:44:25.76898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:44:25.76899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:44:25.76900   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:44:25.76914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:44:25.76925   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:44:25.76926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:44:25.76926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:44:25.76926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:44:25.76926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:44:25.76927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:44:25.76927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:44:25.76941   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:44:25.76943   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:44:25.76945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:44:25.76945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:44:25.76945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:44:25.76945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:44:25.76946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:44:25.76959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:44:25.76969   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:44:25.76970   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:44:25.76970   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:44:25.76970   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:44:25.76971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:44:25.76971   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:44:25.76988   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:44:25.76998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:44:25.76999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:44:25.76999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:44:25.76999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:44:25.77000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:44:25.77000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:44:25.77000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:44:25.77000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:44:25.77000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:44:25.77017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:44:25.77027   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:44:25.77027   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:44:26.43385 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"Puma starting in cluster mode..."}
2020-10-21_13:44:26.43388 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:44:26.43390 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:44:26.43390 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"* Environment: production"}
2020-10-21_13:44:26.43390 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"* Process workers: 2"}
2020-10-21_13:44:26.43390 {"timestamp":"2020-10-21T13:44:26.433Z","pid":25788,"message":"* Preloading application"}
2020-10-21_13:44:40.24458 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:44:41.01119 {"timestamp":"2020-10-21T13:44:41.011Z","pid":25788,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:44:41.01206 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:44:41.01250 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:44:41.01280   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:44:41.01285   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:44:41.01310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:44:41.01325   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:44:41.01338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:44:41.01350   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:44:41.01362   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:44:41.01374   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:44:41.01386   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:44:41.01398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:44:41.01410   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:44:41.01430   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:44:41.01443   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:44:41.01455   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:44:41.01467   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:44:41.01479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:44:41.01492   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:44:41.01504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:44:41.01516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:44:41.01529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:44:41.01541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:44:41.01553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:44:41.01566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:44:41.01579   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:44:41.01591   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:44:41.01603   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:44:41.01615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:41.01621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:44:41.01641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:44:41.01653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:41.01665   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:44:41.01688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:44:41.01700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:44:41.01712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:44:41.01725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:44:41.01738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:44:41.01749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:44:41.01761   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:44:41.01772   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:44:41.01785   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:44:41.01797   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:44:41.01808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:44:41.01821   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:44:41.01833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:44:41.01845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:44:41.01849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:44:41.01868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:44:41.01880   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:44:41.01891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:44:41.01903   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:44:41.01915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:44:41.01921   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:44:41.01940   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:44:41.01944   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:44:41.01963   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:44:41.01968   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:44:41.01987   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:44:41.01991   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:44:41.02010   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:44:41.02014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:44:41.02034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:44:41.02046   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:44:41.02051   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:44:41.02061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:44:41.02061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:44:41.02061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:44:41.02062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:44:41.02062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:44:41.02062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:44:41.02062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:44:41.02063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:44:41.02063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:44:41.02078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:44:41.02078   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:44:41.02078   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:44:41.93270 {"timestamp":"2020-10-21T13:44:41.932Z","pid":26234,"message":"Puma starting in cluster mode..."}
2020-10-21_13:44:41.93302 {"timestamp":"2020-10-21T13:44:41.932Z","pid":26234,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:44:41.93317 {"timestamp":"2020-10-21T13:44:41.933Z","pid":26234,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:44:41.93331 {"timestamp":"2020-10-21T13:44:41.933Z","pid":26234,"message":"* Environment: production"}
2020-10-21_13:44:41.93345 {"timestamp":"2020-10-21T13:44:41.933Z","pid":26234,"message":"* Process workers: 2"}
2020-10-21_13:44:41.93357 {"timestamp":"2020-10-21T13:44:41.933Z","pid":26234,"message":"* Preloading application"}
2020-10-21_13:44:55.32035 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:44:55.98209 {"timestamp":"2020-10-21T13:44:55.981Z","pid":26234,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:44:55.98247 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:44:55.98264 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:44:55.98266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:44:55.98266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:44:55.98267   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:44:55.98267   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:44:55.98267   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:44:55.98267   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:44:55.98268   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:44:55.98268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:44:55.98268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:44:55.98268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:44:55.98268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:44:55.98269   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:44:55.98270   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:44:55.98270   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:44:55.98270   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:44:55.98271   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:44:55.98271   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:44:55.98271   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:44:55.98271   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:44:55.98272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:44:55.98272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:44:55.98272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:44:55.98273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:44:55.98273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:44:55.98274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:44:55.98274   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:44:55.98274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:55.98274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:44:55.98275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:44:55.98275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:44:55.98275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:44:55.98276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:44:55.98276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:44:55.98277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:44:55.98277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:44:55.98277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:44:55.98278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:44:55.98278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:44:55.98278   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:44:55.98279   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:44:55.98279   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:44:55.98280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:44:55.98280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:44:55.98280   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:44:55.98280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:44:55.98281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:44:55.98281   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:44:55.98281   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:44:55.98281   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:44:55.98282   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:44:55.98283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:44:55.98283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:44:55.98283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:44:55.98283   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:44:55.98283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:44:55.98284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:44:55.98284   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:44:55.98284   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:44:55.98284   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:44:55.98285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:44:55.98285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:44:55.98285   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:44:55.98286   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:44:55.98286   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:44:55.98287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:44:55.98287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:44:55.98287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:44:55.98287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:44:55.98288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:44:55.98288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:44:55.98288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:44:55.98288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:44:55.98290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:44:55.98290   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:44:55.98290   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:44:56.79916 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"Puma starting in cluster mode..."}
2020-10-21_13:44:56.79944 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:44:56.79958 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:44:56.79971 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"* Environment: production"}
2020-10-21_13:44:56.79984 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"* Process workers: 2"}
2020-10-21_13:44:56.79997 {"timestamp":"2020-10-21T13:44:56.799Z","pid":26680,"message":"* Preloading application"}
2020-10-21_13:45:10.27900 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:45:10.95776 {"timestamp":"2020-10-21T13:45:10.957Z","pid":26680,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:45:10.95808 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:45:10.95810 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:45:10.95811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:45:10.95811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:45:10.95811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:45:10.95811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:45:10.95812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:45:10.95812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:45:10.95812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:45:10.95812   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:45:10.95813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:45:10.95813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:45:10.95813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:45:10.95813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:45:10.95822   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:45:10.95822   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:45:10.95824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:45:10.95824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:45:10.95824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:45:10.95824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:45:10.95825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:45:10.95825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:45:10.95825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:45:10.95849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:45:10.95850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:45:10.95850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:45:10.95856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:45:10.95857   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:45:10.95857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:10.95857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:45:10.95858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:45:10.95858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:10.95859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:45:10.95859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:45:10.95860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:45:10.95860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:45:10.95864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:45:10.95865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:45:10.95865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:45:10.95865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:45:10.95865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:45:10.95867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:45:10.95867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:45:10.95867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:45:10.95867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:45:10.95868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:45:10.95871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:45:10.95872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:45:10.95872   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:45:10.95872   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:45:10.95873   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:45:10.95874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:45:10.95874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:45:10.95874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:45:10.95874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:45:10.95875   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:45:10.95875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:45:10.95875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:45:10.95876   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:45:10.95876   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:45:10.95876   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:45:10.95876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:45:10.95876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:45:10.95877   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:45:10.95898   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:45:10.95899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:45:10.95899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:45:10.95906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:45:10.95906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:45:10.95907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:45:10.95907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:45:10.95907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:45:10.95907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:45:10.95908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:45:10.95909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:45:10.95909   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:45:10.95926   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:45:11.83236 {"timestamp":"2020-10-21T13:45:11.832Z","pid":27121,"message":"Puma starting in cluster mode..."}
2020-10-21_13:45:11.83246 {"timestamp":"2020-10-21T13:45:11.832Z","pid":27121,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:45:11.83291 {"timestamp":"2020-10-21T13:45:11.832Z","pid":27121,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:45:11.83309 {"timestamp":"2020-10-21T13:45:11.833Z","pid":27121,"message":"* Environment: production"}
2020-10-21_13:45:11.83325 {"timestamp":"2020-10-21T13:45:11.833Z","pid":27121,"message":"* Process workers: 2"}
2020-10-21_13:45:11.83342 {"timestamp":"2020-10-21T13:45:11.833Z","pid":27121,"message":"* Preloading application"}
2020-10-21_13:45:25.61938 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:45:26.40301 {"timestamp":"2020-10-21T13:45:26.402Z","pid":27121,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:45:26.40304 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:45:26.40312 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:45:26.40313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:45:26.40313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:45:26.40313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:45:26.40313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:45:26.40343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:45:26.40343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:45:26.40343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:45:26.40343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:45:26.40344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:45:26.40344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:45:26.40344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:45:26.40344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:45:26.40345   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:45:26.40346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:45:26.40346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:45:26.40346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:45:26.40346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:45:26.40347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:45:26.40347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:45:26.40347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:45:26.40347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:45:26.40348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:45:26.40349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:45:26.40349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:45:26.40349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:45:26.40350   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:45:26.40350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:26.40351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:45:26.40351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:45:26.40351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:26.40351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:45:26.40352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:45:26.40353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:45:26.40353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:45:26.40353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:45:26.40353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:45:26.40353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:45:26.40354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:45:26.40354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:45:26.40355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:45:26.40355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:45:26.40355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:45:26.40356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:45:26.40356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:45:26.40356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:45:26.40356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:45:26.40357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:45:26.40357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:45:26.40402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:45:26.40403   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:45:26.40404   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:45:26.40404   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:45:26.40405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:45:26.40405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:45:26.40405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:45:26.40405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:45:26.40406   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:45:26.40406   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:45:26.40406   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:45:26.40407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:45:26.40407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:45:26.40407   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:45:26.40408   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:45:26.40408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:45:26.40409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:45:26.40409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:45:26.40409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:45:26.40409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:45:26.40410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:45:26.40410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:45:26.40410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:45:26.40410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:45:26.40411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:45:26.40412   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:45:26.40412   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:45:27.07674 {"timestamp":"2020-10-21T13:45:27.076Z","pid":27574,"message":"Puma starting in cluster mode..."}
2020-10-21_13:45:27.07716 {"timestamp":"2020-10-21T13:45:27.076Z","pid":27574,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:45:27.07740 {"timestamp":"2020-10-21T13:45:27.077Z","pid":27574,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:45:27.07768 {"timestamp":"2020-10-21T13:45:27.077Z","pid":27574,"message":"* Environment: production"}
2020-10-21_13:45:27.07791 {"timestamp":"2020-10-21T13:45:27.077Z","pid":27574,"message":"* Process workers: 2"}
2020-10-21_13:45:27.07817 {"timestamp":"2020-10-21T13:45:27.078Z","pid":27574,"message":"* Preloading application"}
2020-10-21_13:45:40.57391 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:45:41.28094 {"timestamp":"2020-10-21T13:45:41.280Z","pid":27574,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:45:41.28097 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:45:41.28098 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:45:41.28098   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:45:41.28098   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:45:41.28099   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:45:41.28100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:45:41.28100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:45:41.28100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:45:41.28100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:45:41.28101   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:45:41.28101   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:45:41.28101   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:45:41.28101   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:45:41.28102   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:45:41.28103   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:45:41.28103   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:45:41.28103   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:45:41.28103   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:45:41.28104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:45:41.28104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:45:41.28104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:45:41.28104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:45:41.28105   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:45:41.28105   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:45:41.28106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:45:41.28106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:45:41.28106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:45:41.28107   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:45:41.28107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:41.28107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:45:41.28107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:45:41.28108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:41.28108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:45:41.28109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:45:41.28109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:45:41.28110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:45:41.28111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:45:41.28112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:45:41.28112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:45:41.28112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:45:41.28112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:45:41.28113   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:45:41.28114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:45:41.28114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:45:41.28114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:45:41.28114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:45:41.28115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:45:41.28115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:45:41.28115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:45:41.28115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:45:41.28115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:45:41.28116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:45:41.28117   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:45:41.28117   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:45:41.28117   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:45:41.28117   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:45:41.28118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:45:41.28118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:45:41.28118   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:45:41.28118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:45:41.28118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:45:41.28119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:45:41.28119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:45:41.28119   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:45:41.28120   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:45:41.28120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:45:41.28121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:45:41.28121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:45:41.28121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:45:41.28121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:45:41.28122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:45:41.28122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:45:41.28122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:45:41.28122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:45:41.28124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:45:41.28124   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:45:41.28124   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:45:42.10484 {"timestamp":"2020-10-21T13:45:42.104Z","pid":28016,"message":"Puma starting in cluster mode..."}
2020-10-21_13:45:42.10513 {"timestamp":"2020-10-21T13:45:42.105Z","pid":28016,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:45:42.10516 {"timestamp":"2020-10-21T13:45:42.105Z","pid":28016,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:45:42.10516 {"timestamp":"2020-10-21T13:45:42.105Z","pid":28016,"message":"* Environment: production"}
2020-10-21_13:45:42.10517 {"timestamp":"2020-10-21T13:45:42.105Z","pid":28016,"message":"* Process workers: 2"}
2020-10-21_13:45:42.10518 {"timestamp":"2020-10-21T13:45:42.105Z","pid":28016,"message":"* Preloading application"}
2020-10-21_13:45:54.66617 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:45:55.43188 {"timestamp":"2020-10-21T13:45:55.431Z","pid":28016,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:45:55.43223 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:45:55.43243 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:45:55.43245   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:45:55.43246   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:45:55.43246   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:45:55.43246   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:45:55.43247   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:45:55.43247   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:45:55.43247   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:45:55.43247   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:45:55.43248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:45:55.43248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:45:55.43248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:45:55.43249   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:45:55.43250   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:45:55.43254   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:45:55.43254   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:45:55.43254   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:45:55.43255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:45:55.43256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:45:55.43256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:45:55.43256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:45:55.43256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:45:55.43257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:45:55.43258   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:45:55.43258   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:45:55.43258   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:45:55.43259   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:45:55.43259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:55.43259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:45:55.43259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:45:55.43260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:45:55.43260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:45:55.43261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:45:55.43261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:45:55.43261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:45:55.43262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:45:55.43262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:45:55.43262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:45:55.43262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:45:55.43263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:45:55.43264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:45:55.43264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:45:55.43264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:45:55.43264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:45:55.43265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:45:55.43265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:45:55.43266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:45:55.43266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:45:55.43266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:45:55.43266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:45:55.43266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:45:55.43267   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:45:55.43268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:45:55.43268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:45:55.43268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:45:55.43268   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:45:55.43269   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:45:55.43269   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:45:55.43269   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:45:55.43269   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:45:55.43270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:45:55.43270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:45:55.43270   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:45:55.43271   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:45:55.43271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:45:55.43272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:45:55.43272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:45:55.43272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:45:55.43272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:45:55.43272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:45:55.43273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:45:55.43273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:45:55.43273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:45:55.43274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:45:55.43275   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:45:55.43275   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:45:56.22692 {"timestamp":"2020-10-21T13:45:56.226Z","pid":28442,"message":"Puma starting in cluster mode..."}
2020-10-21_13:45:56.22696 {"timestamp":"2020-10-21T13:45:56.226Z","pid":28442,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:45:56.22699 {"timestamp":"2020-10-21T13:45:56.226Z","pid":28442,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:45:56.22699 {"timestamp":"2020-10-21T13:45:56.226Z","pid":28442,"message":"* Environment: production"}
2020-10-21_13:45:56.22735 {"timestamp":"2020-10-21T13:45:56.227Z","pid":28442,"message":"* Process workers: 2"}
2020-10-21_13:45:56.22739 {"timestamp":"2020-10-21T13:45:56.227Z","pid":28442,"message":"* Preloading application"}
2020-10-21_13:46:09.31682 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:46:10.14325 {"timestamp":"2020-10-21T13:46:10.143Z","pid":28442,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:46:10.14349 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:46:10.14350 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:46:10.14351   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:46:10.14351   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:46:10.14351   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:46:10.14351   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:46:10.14353   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:46:10.14353   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:46:10.14353   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:46:10.14354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:46:10.14354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:46:10.14354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:46:10.14354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:46:10.14354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:46:10.14356   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:46:10.14356   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:46:10.14356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:46:10.14356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:46:10.14356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:46:10.14357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:46:10.14357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:46:10.14357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:46:10.14357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:46:10.14358   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:46:10.14359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:46:10.14359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:46:10.14359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:46:10.14359   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:46:10.14360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:10.14361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:46:10.14361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:46:10.14361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:10.14362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:46:10.14362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:46:10.14363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:46:10.14363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:46:10.14363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:46:10.14363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:46:10.14364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:46:10.14364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:46:10.14364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:46:10.14365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:46:10.14365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:46:10.14365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:46:10.14366   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:46:10.14366   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:46:10.14366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:46:10.14366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:46:10.14367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:46:10.14367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:46:10.14367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:46:10.14368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:46:10.14368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:46:10.14369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:46:10.14369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:46:10.14369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:46:10.14369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:46:10.14369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:46:10.14370   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:46:10.14370   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:46:10.14395   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:46:10.14396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:46:10.14396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:46:10.14397   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:46:10.14398   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:46:10.14398   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:46:10.14398   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:46:10.14398   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:46:10.14399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:46:10.14399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:46:10.14399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:46:10.14399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:46:10.14400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:46:10.14400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:46:10.14401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:46:10.14401   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:46:10.14402   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:46:10.98793 {"timestamp":"2020-10-21T13:46:10.987Z","pid":28886,"message":"Puma starting in cluster mode..."}
2020-10-21_13:46:10.98829 {"timestamp":"2020-10-21T13:46:10.988Z","pid":28886,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:46:10.98858 {"timestamp":"2020-10-21T13:46:10.988Z","pid":28886,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:46:10.98909 {"timestamp":"2020-10-21T13:46:10.989Z","pid":28886,"message":"* Environment: production"}
2020-10-21_13:46:10.98936 {"timestamp":"2020-10-21T13:46:10.989Z","pid":28886,"message":"* Process workers: 2"}
2020-10-21_13:46:10.98963 {"timestamp":"2020-10-21T13:46:10.989Z","pid":28886,"message":"* Preloading application"}
2020-10-21_13:46:24.91042 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:46:25.71831 {"timestamp":"2020-10-21T13:46:25.718Z","pid":28886,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:46:25.71855 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:46:25.71856 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:46:25.71857   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:46:25.71857   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:46:25.71857   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:46:25.71858   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:46:25.71858   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:46:25.71859   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:46:25.71859   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:46:25.71859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:46:25.71860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:46:25.71860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:46:25.71860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:46:25.71860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:46:25.71862   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:46:25.71862   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:46:25.71862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:46:25.71862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:46:25.71863   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:46:25.71863   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:46:25.71863   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:46:25.71863   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:46:25.71864   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:46:25.71865   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:46:25.71865   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:46:25.71865   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:46:25.71865   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:46:25.71866   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:46:25.71866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:25.71866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:46:25.71866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:46:25.71867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:25.71868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:46:25.71868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:46:25.71868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:46:25.71868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:46:25.71869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:46:25.71869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:46:25.71869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:46:25.71870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:46:25.71870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:46:25.71871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:46:25.71871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:46:25.71871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:46:25.71872   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:46:25.71872   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:46:25.71872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:46:25.71872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:46:25.71873   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:46:25.71873   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:46:25.71873   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:46:25.71874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:46:25.71874   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:46:25.71901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:46:25.71901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:46:25.71902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:46:25.71902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:46:25.71902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:46:25.71902   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:46:25.71902   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:46:25.71903   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:46:25.71903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:46:25.71903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:46:25.71904   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:46:25.71905   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:46:25.71905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:46:25.71905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:46:25.71905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:46:25.71906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:46:25.71906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:46:25.71906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:46:25.71906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:46:25.71908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:46:25.71908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:46:25.71909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:46:25.71909   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:46:25.71909   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:46:26.40345 {"timestamp":"2020-10-21T13:46:26.403Z","pid":29332,"message":"Puma starting in cluster mode..."}
2020-10-21_13:46:26.40354 {"timestamp":"2020-10-21T13:46:26.403Z","pid":29332,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:46:26.40368 {"timestamp":"2020-10-21T13:46:26.403Z","pid":29332,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:46:26.40382 {"timestamp":"2020-10-21T13:46:26.403Z","pid":29332,"message":"* Environment: production"}
2020-10-21_13:46:26.40398 {"timestamp":"2020-10-21T13:46:26.403Z","pid":29332,"message":"* Process workers: 2"}
2020-10-21_13:46:26.40418 {"timestamp":"2020-10-21T13:46:26.404Z","pid":29332,"message":"* Preloading application"}
2020-10-21_13:46:42.62120 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:46:44.01369 {"timestamp":"2020-10-21T13:46:44.013Z","pid":29332,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:46:44.01407 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:46:44.01436 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:46:44.01437   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:46:44.01438   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:46:44.01438   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:46:44.01439   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:46:44.01439   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:46:44.01439   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:46:44.01440   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:46:44.01440   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:46:44.01440   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:46:44.01441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:46:44.01441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:46:44.01441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:46:44.01443   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:46:44.01443   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:46:44.01443   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:46:44.01444   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:46:44.01444   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:46:44.01446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:46:44.01446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:46:44.01446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:46:44.01447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:46:44.01447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:46:44.01449   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:46:44.01449   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:46:44.01449   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:46:44.01450   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:46:44.01450   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:44.01450   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:46:44.01451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:46:44.01451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:46:44.01451   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:46:44.01453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:46:44.01453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:46:44.01453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:46:44.01454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:46:44.01454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:46:44.01455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:46:44.01455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:46:44.01455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:46:44.01457   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:46:44.01457   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:46:44.01457   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:46:44.01458   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:46:44.01458   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:46:44.01458   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:46:44.01459   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:46:44.01459   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:46:44.01460   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:46:44.01461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:46:44.01461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:46:44.01462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:46:44.01463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:46:44.01463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:46:44.01463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:46:44.01463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:46:44.01464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:46:44.01464   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:46:44.01464   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:46:44.01465   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:46:44.01465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:46:44.01465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:46:44.01466   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:46:44.01467   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:46:44.01467   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:46:44.01468   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:46:44.01468   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:46:44.01468   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:46:44.01469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:46:44.01469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:46:44.01469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:46:44.01470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:46:44.01470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:46:44.01472   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:46:44.01472   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:46:44.01472   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:46:45.08843 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"Puma starting in cluster mode..."}
2020-10-21_13:46:45.08847 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:46:45.08849 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:46:45.08850 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"* Environment: production"}
2020-10-21_13:46:45.08851 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"* Process workers: 2"}
2020-10-21_13:46:45.08852 {"timestamp":"2020-10-21T13:46:45.088Z","pid":29852,"message":"* Preloading application"}
2020-10-21_13:47:02.16762 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:47:03.10676 {"timestamp":"2020-10-21T13:47:03.106Z","pid":29852,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:47:03.10706 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:47:03.10722 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:47:03.10723   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:47:03.10723   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:47:03.10724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:47:03.10724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:47:03.10724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:47:03.10724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:47:03.10724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:47:03.10725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:47:03.10725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:47:03.10725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:47:03.10725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:47:03.10726   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:47:03.10727   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:47:03.10727   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:47:03.10727   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:47:03.10728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:47:03.10728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:47:03.10728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:47:03.10728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:47:03.10729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:47:03.10729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:47:03.10729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:47:03.10730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:47:03.10730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:47:03.10731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:47:03.10731   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:47:03.10731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:03.10731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:47:03.10732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:47:03.10733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:03.10733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:47:03.10734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:47:03.10734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:47:03.10735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:47:03.10735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:47:03.10737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:47:03.10738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:47:03.10738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:47:03.10738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:47:03.10740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:47:03.10741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:47:03.10741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:47:03.10741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:47:03.10741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:47:03.10742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:47:03.10742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:47:03.10742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:47:03.10742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:47:03.10743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:47:03.10743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:47:03.10744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:47:03.10744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:47:03.10744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:47:03.10744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:47:03.10745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:47:03.10745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:47:03.10745   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:47:03.10745   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:47:03.10746   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:47:03.10746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:47:03.10747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:47:03.10747   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:47:03.10748   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:47:03.10748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:47:03.10748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:47:03.10749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:47:03.10749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:47:03.10749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:47:03.10749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:47:03.10749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:47:03.10750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:47:03.10750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:47:03.10751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:47:03.10751   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:47:03.10752   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:47:04.06923 {"timestamp":"2020-10-21T13:47:04.069Z","pid":30424,"message":"Puma starting in cluster mode..."}
2020-10-21_13:47:04.06951 {"timestamp":"2020-10-21T13:47:04.069Z","pid":30424,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:47:04.06970 {"timestamp":"2020-10-21T13:47:04.069Z","pid":30424,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:47:04.06988 {"timestamp":"2020-10-21T13:47:04.069Z","pid":30424,"message":"* Environment: production"}
2020-10-21_13:47:04.07005 {"timestamp":"2020-10-21T13:47:04.070Z","pid":30424,"message":"* Process workers: 2"}
2020-10-21_13:47:04.07023 {"timestamp":"2020-10-21T13:47:04.070Z","pid":30424,"message":"* Preloading application"}
2020-10-21_13:47:23.08098 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:47:24.29338 {"timestamp":"2020-10-21T13:47:24.293Z","pid":30424,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:47:24.29395 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:47:24.29424 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:47:24.29429   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:47:24.29430   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:47:24.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:47:24.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:47:24.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:47:24.29453   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:47:24.29454   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:47:24.29456   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:47:24.29470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:47:24.29475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:47:24.29476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:47:24.29477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:47:24.29498   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:47:24.29500   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:47:24.29500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:47:24.29500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:47:24.29520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:47:24.29521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:47:24.29522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:47:24.29522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:47:24.29522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:47:24.29542   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:47:24.29545   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:47:24.29564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:47:24.29565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:47:24.29583   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:47:24.29601   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:24.29616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:47:24.29621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:47:24.29622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:24.29640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:47:24.29659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:47:24.29660   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:47:24.29690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:47:24.29691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:47:24.29692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:47:24.29692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:47:24.29693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:47:24.29713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:47:24.29717   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:47:24.29718   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:47:24.29719   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:47:24.29719   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:47:24.29720   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:47:24.29720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:47:24.29740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:47:24.29741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:47:24.29741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:47:24.29742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:47:24.29742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:47:24.29764   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:47:24.29765   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:47:24.29766   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:47:24.29766   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:47:24.29767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:47:24.29787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:47:24.29788   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:47:24.29788   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:47:24.29789   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:47:24.29790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:47:24.29790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:47:24.29791   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:47:24.29811   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:47:24.29813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:47:24.29813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:47:24.29813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:47:24.29814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:47:24.29832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:47:24.29833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:47:24.29834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:47:24.29834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:47:24.29835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:47:24.29856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:47:24.29857   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:47:24.29857   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:47:25.56002 {"timestamp":"2020-10-21T13:47:25.559Z","pid":31022,"message":"Puma starting in cluster mode..."}
2020-10-21_13:47:25.56036 {"timestamp":"2020-10-21T13:47:25.560Z","pid":31022,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:47:25.56043 {"timestamp":"2020-10-21T13:47:25.560Z","pid":31022,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:47:25.56054 {"timestamp":"2020-10-21T13:47:25.560Z","pid":31022,"message":"* Environment: production"}
2020-10-21_13:47:25.56084 {"timestamp":"2020-10-21T13:47:25.560Z","pid":31022,"message":"* Process workers: 2"}
2020-10-21_13:47:25.56109 {"timestamp":"2020-10-21T13:47:25.560Z","pid":31022,"message":"* Preloading application"}
2020-10-21_13:47:43.15429 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:47:44.01955 {"timestamp":"2020-10-21T13:47:44.019Z","pid":31022,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:47:44.02003 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:47:44.02029 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:47:44.02031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:47:44.02031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:47:44.02031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:47:44.02032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:47:44.02032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:47:44.02033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:47:44.02033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:47:44.02034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:47:44.02034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:47:44.02034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:47:44.02035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:47:44.02061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:47:44.02062   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:47:44.02063   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:47:44.02063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:47:44.02064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:47:44.02064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:47:44.02065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:47:44.02065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:47:44.02066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:47:44.02067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:47:44.02067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:47:44.02069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:47:44.02069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:47:44.02069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:47:44.02070   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:47:44.02070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:44.02071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:47:44.02071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:47:44.02072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:44.02072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:47:44.02073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:47:44.02074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:47:44.02074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:47:44.02075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:47:44.02075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:47:44.02075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:47:44.02076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:47:44.02076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:47:44.02078   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:47:44.02079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:47:44.02080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:47:44.02080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:47:44.02080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:47:44.02081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:47:44.02081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:47:44.02081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:47:44.02082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:47:44.02082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:47:44.02083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:47:44.02084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:47:44.02085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:47:44.02085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:47:44.02085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:47:44.02086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:47:44.02086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:47:44.02086   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:47:44.02087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:47:44.02087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:47:44.02087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:47:44.02088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:47:44.02088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:47:44.02089   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:47:44.02090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:47:44.02090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:47:44.02091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:47:44.02091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:47:44.02091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:47:44.02092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:47:44.02092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:47:44.02092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:47:44.02093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:47:44.02094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:47:44.02095   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:47:44.02095   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:47:44.80974 {"timestamp":"2020-10-21T13:47:44.809Z","pid":31593,"message":"Puma starting in cluster mode..."}
2020-10-21_13:47:44.81503 {"timestamp":"2020-10-21T13:47:44.814Z","pid":31593,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:47:44.81634 {"timestamp":"2020-10-21T13:47:44.816Z","pid":31593,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:47:44.81659 {"timestamp":"2020-10-21T13:47:44.816Z","pid":31593,"message":"* Environment: production"}
2020-10-21_13:47:44.81677 {"timestamp":"2020-10-21T13:47:44.816Z","pid":31593,"message":"* Process workers: 2"}
2020-10-21_13:47:44.81707 {"timestamp":"2020-10-21T13:47:44.817Z","pid":31593,"message":"* Preloading application"}
2020-10-21_13:47:59.05796 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:47:59.83104 {"timestamp":"2020-10-21T13:47:59.830Z","pid":31593,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:47:59.83602 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:47:59.83606 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:47:59.83607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:47:59.83607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:47:59.83607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:47:59.83608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:47:59.83608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:47:59.83608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:47:59.83609   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:47:59.83609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:47:59.83609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:47:59.83610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:47:59.83610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:47:59.83610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:47:59.83612   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:47:59.83612   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:47:59.83612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:47:59.83613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:47:59.83613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:47:59.83613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:47:59.83614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:47:59.83614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:47:59.83614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:47:59.83615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:47:59.83616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:47:59.83616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:47:59.83617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:47:59.83617   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:47:59.83617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:59.83618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:47:59.83618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:47:59.83620   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:47:59.83620   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:47:59.83621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:47:59.83622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:47:59.83622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:47:59.83622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:47:59.83623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:47:59.83623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:47:59.83623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:47:59.83627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:47:59.83629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:47:59.83629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:47:59.83629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:47:59.83630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:47:59.83630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:47:59.83630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:47:59.83631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:47:59.83631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:47:59.83631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:47:59.83632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:47:59.83632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:47:59.83633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:47:59.83634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:47:59.83634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:47:59.83634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:47:59.83635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:47:59.83635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:47:59.83636   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:47:59.83636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:47:59.83636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:47:59.83636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:47:59.83637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:47:59.83637   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:47:59.83639   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:47:59.83639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:47:59.83640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:47:59.83640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:47:59.83640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:47:59.83641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:47:59.83641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:47:59.83641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:47:59.83642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:47:59.83642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:47:59.83644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:47:59.83644   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:47:59.83644   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:48:00.61345 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"Puma starting in cluster mode..."}
2020-10-21_13:48:00.61347 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:48:00.61347 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:48:00.61347 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"* Environment: production"}
2020-10-21_13:48:00.61348 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"* Process workers: 2"}
2020-10-21_13:48:00.61348 {"timestamp":"2020-10-21T13:48:00.613Z","pid":32049,"message":"* Preloading application"}
2020-10-21_13:48:16.49636 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:48:17.61698 {"timestamp":"2020-10-21T13:48:17.616Z","pid":32049,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:48:17.61728 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:48:17.61741 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:48:17.61742   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:48:17.61743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:48:17.61743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:48:17.61743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:48:17.61743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:48:17.61744   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:48:17.61744   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:48:17.61744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:48:17.61745   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:48:17.61745   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:48:17.61746   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:48:17.61824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:48:17.61826   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:48:17.61827   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:48:17.61827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:48:17.61827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:48:17.61827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:48:17.61828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:48:17.61828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:48:17.61828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:48:17.61828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:48:17.61829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:48:17.62510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:48:17.62511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:48:17.62512   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:48:17.62512   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:48:17.62512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:17.62512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:48:17.62513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:48:17.62513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:17.62513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:48:17.62515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:48:17.62515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:48:17.62515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:48:17.62515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:48:17.62516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:48:17.62516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:48:17.62517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:48:17.62518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:48:17.62519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:48:17.62520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:48:17.62520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:48:17.62520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:48:17.62520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:48:17.62521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:48:17.62521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:48:17.62521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:48:17.62521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:48:17.62521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:48:17.62522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:48:17.62523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:48:17.62523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:48:17.62523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:48:17.62523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:48:17.62524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:48:17.62524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:48:17.62524   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:48:17.62524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:48:17.62525   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:48:17.62525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:48:17.62525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:48:17.62525   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:48:17.62526   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:48:17.62526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:48:17.62527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:48:17.62527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:48:17.62527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:48:17.62527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:48:17.62528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:48:17.62528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:48:17.62528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:48:17.62528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:48:17.62529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:48:17.62530   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:48:17.62530   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:48:18.52814 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"Puma starting in cluster mode..."}
2020-10-21_13:48:18.52826 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:48:18.52833 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:48:18.52853 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"* Environment: production"}
2020-10-21_13:48:18.52862 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"* Process workers: 2"}
2020-10-21_13:48:18.52901 {"timestamp":"2020-10-21T13:48:18.528Z","pid":32568,"message":"* Preloading application"}
2020-10-21_13:48:32.66565 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:48:33.55275 {"timestamp":"2020-10-21T13:48:33.552Z","pid":32568,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:48:33.55316 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:48:33.55336 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:48:33.55337   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:48:33.55338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:48:33.55338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:48:33.55339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:48:33.55339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:48:33.55339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:48:33.55340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:48:33.55340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:48:33.55340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:48:33.55341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:48:33.55341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:48:33.55342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:48:33.55343   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:48:33.55343   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:48:33.55344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:48:33.55344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:48:33.55345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:48:33.55345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:48:33.55345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:48:33.55346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:48:33.55346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:48:33.55347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:48:33.55349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:48:33.55349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:48:33.55349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:48:33.55350   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:48:33.55350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:33.55351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:48:33.55392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:48:33.55393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:33.55393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:48:33.55395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:48:33.55395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:48:33.55396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:48:33.55396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:48:33.55396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:48:33.55397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:48:33.55397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:48:33.55398   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:48:33.55399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:48:33.55399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:48:33.55400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:48:33.55400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:48:33.55400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:48:33.55401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:48:33.55401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:48:33.55401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:48:33.55402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:48:33.55402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:48:33.55402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:48:33.55404   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:48:33.55405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:48:33.55405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:48:33.55406   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:48:33.55406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:48:33.55406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:48:33.55407   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:48:33.55407   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:48:33.55407   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:48:33.55408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:48:33.55408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:48:33.55408   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:48:33.55410   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:48:33.55410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:48:33.55410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:48:33.55411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:48:33.55411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:48:33.55411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:48:33.55412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:48:33.55412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:48:33.55412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:48:33.55413   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:48:33.55414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:48:33.55415   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:48:33.55415   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:48:34.44059 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"Puma starting in cluster mode..."}
2020-10-21_13:48:34.44061 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:48:34.44063 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:48:34.44063 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"* Environment: production"}
2020-10-21_13:48:34.44063 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"* Process workers: 2"}
2020-10-21_13:48:34.44064 {"timestamp":"2020-10-21T13:48:34.440Z","pid":33040,"message":"* Preloading application"}
2020-10-21_13:48:48.10661 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:48:49.20159 {"timestamp":"2020-10-21T13:48:49.201Z","pid":33040,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:48:49.20182 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:48:49.20194 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:48:49.20194   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:48:49.20195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:48:49.20195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:48:49.20195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:48:49.20196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:48:49.20196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:48:49.20196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:48:49.20197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:48:49.20197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:48:49.20197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:48:49.20198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:48:49.20198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:48:49.20199   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:48:49.20199   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:48:49.20199   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:48:49.20200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:48:49.20200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:48:49.20200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:48:49.20200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:48:49.20201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:48:49.20201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:48:49.20201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:48:49.20203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:48:49.20203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:48:49.20203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:48:49.20204   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:48:49.20204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:49.20204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:48:49.20205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:48:49.20205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:48:49.20205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:48:49.20207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:48:49.20208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:48:49.20208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:48:49.20208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:48:49.20208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:48:49.20209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:48:49.20209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:48:49.20209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:48:49.20210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:48:49.20210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:48:49.20211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:48:49.20211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:48:49.20211   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:48:49.20211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:48:49.20212   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:48:49.20212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:48:49.20212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:48:49.20212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:48:49.20213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:48:49.20213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:48:49.20214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:48:49.20214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:48:49.20214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:48:49.20214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:48:49.20215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:48:49.20215   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:48:49.20215   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:48:49.20215   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:48:49.20216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:48:49.20216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:48:49.20216   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:48:49.20217   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:48:49.20217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:48:49.20218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:48:49.20218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:48:49.20218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:48:49.20218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:48:49.20219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:48:49.20219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:48:49.20219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:48:49.20219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:48:49.20221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:48:49.20221   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:48:49.20221   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:48:50.32841 {"timestamp":"2020-10-21T13:48:50.328Z","pid":33504,"message":"Puma starting in cluster mode..."}
2020-10-21_13:48:50.32871 {"timestamp":"2020-10-21T13:48:50.328Z","pid":33504,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:48:50.32886 {"timestamp":"2020-10-21T13:48:50.328Z","pid":33504,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:48:50.32899 {"timestamp":"2020-10-21T13:48:50.328Z","pid":33504,"message":"* Environment: production"}
2020-10-21_13:48:50.32912 {"timestamp":"2020-10-21T13:48:50.329Z","pid":33504,"message":"* Process workers: 2"}
2020-10-21_13:48:50.32925 {"timestamp":"2020-10-21T13:48:50.329Z","pid":33504,"message":"* Preloading application"}
2020-10-21_13:49:06.80779 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:49:08.08101 {"timestamp":"2020-10-21T13:49:08.080Z","pid":33504,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:49:08.08162 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:49:08.08193 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:49:08.08194   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:49:08.08194   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:49:08.08195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:49:08.08195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:49:08.08195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:49:08.08195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:49:08.08196   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:49:08.08196   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:49:08.08197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:49:08.08197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:49:08.08197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:49:08.08198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:49:08.08200   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:49:08.08200   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:49:08.08201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:49:08.08201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:49:08.08201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:49:08.08202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:49:08.08202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:49:08.08202   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:49:08.08203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:49:08.08203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:49:08.08204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:49:08.08205   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:49:08.08205   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:49:08.08205   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:49:08.08206   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:08.08206   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:49:08.08207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:49:08.08207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:08.08207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:49:08.08209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:49:08.08209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:49:08.08209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:49:08.08210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:49:08.08210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:49:08.08210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:49:08.08211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:49:08.08211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:49:08.08216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:49:08.08216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:49:08.08217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:49:08.08218   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:49:08.08218   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:49:08.08219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:49:08.08219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:49:08.08219   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:49:08.08220   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:49:08.08220   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:49:08.08220   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:49:08.08222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:49:08.08222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:49:08.08223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:49:08.08223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:49:08.08223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:49:08.08223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:49:08.08224   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:49:08.08224   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:49:08.08224   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:49:08.08225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:49:08.08225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:49:08.08225   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:49:08.08227   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:49:08.08227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:49:08.08227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:49:08.08228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:49:08.08228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:49:08.08228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:49:08.08229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:49:08.08229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:49:08.08229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:49:08.08230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:49:08.08231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:49:08.08232   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:49:08.08232   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:49:08.91847 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"Puma starting in cluster mode..."}
2020-10-21_13:49:08.91858 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:49:08.91876 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:49:08.91885 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"* Environment: production"}
2020-10-21_13:49:08.91892 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"* Process workers: 2"}
2020-10-21_13:49:08.91907 {"timestamp":"2020-10-21T13:49:08.918Z","pid":34050,"message":"* Preloading application"}
2020-10-21_13:49:23.53944 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:49:24.31197 {"timestamp":"2020-10-21T13:49:24.311Z","pid":34050,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:49:24.31222 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:49:24.31241 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:49:24.31242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:49:24.31242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:49:24.31243   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:49:24.31243   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:49:24.31243   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:49:24.31244   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:49:24.31244   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:49:24.31244   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:49:24.31244   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:49:24.31245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:49:24.31245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:49:24.31245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:49:24.31246   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:49:24.31247   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:49:24.31247   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:49:24.31247   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:49:24.31248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:49:24.31248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:49:24.31248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:49:24.31248   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:49:24.31249   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:49:24.31249   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:49:24.31251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:49:24.31251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:49:24.31251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:49:24.31252   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:49:24.31252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:24.31252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:49:24.31252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:49:24.31253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:24.31253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:49:24.31254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:49:24.31254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:49:24.31255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:49:24.31255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:49:24.31255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:49:24.31255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:49:24.31256   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:49:24.31256   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:49:24.31257   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:49:24.31257   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:49:24.31257   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:49:24.31258   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:49:24.31258   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:49:24.31258   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:49:24.31258   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:49:24.31259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:49:24.31259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:49:24.31259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:49:24.31259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:49:24.31260   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:49:24.31261   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:49:24.31261   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:49:24.31261   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:49:24.31261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:49:24.31262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:49:24.31262   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:49:24.31262   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:49:24.31262   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:49:24.31263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:49:24.31263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:49:24.31263   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:49:24.31264   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:49:24.31264   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:49:24.31265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:49:24.31265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:49:24.31265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:49:24.31265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:49:24.31266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:49:24.31266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:49:24.31266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:49:24.31266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:49:24.31268   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:49:24.31268   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:49:24.31268   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:49:25.15350 {"timestamp":"2020-10-21T13:49:25.153Z","pid":34520,"message":"Puma starting in cluster mode..."}
2020-10-21_13:49:25.15363 {"timestamp":"2020-10-21T13:49:25.153Z","pid":34520,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:49:25.15385 {"timestamp":"2020-10-21T13:49:25.153Z","pid":34520,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:49:25.15401 {"timestamp":"2020-10-21T13:49:25.153Z","pid":34520,"message":"* Environment: production"}
2020-10-21_13:49:25.15410 {"timestamp":"2020-10-21T13:49:25.154Z","pid":34520,"message":"* Process workers: 2"}
2020-10-21_13:49:25.15425 {"timestamp":"2020-10-21T13:49:25.154Z","pid":34520,"message":"* Preloading application"}
2020-10-21_13:49:39.08350 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:49:39.85895 {"timestamp":"2020-10-21T13:49:39.858Z","pid":34520,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:49:39.85913 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:49:39.85933 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:49:39.85934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:49:39.85934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:49:39.85938   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:49:39.85939   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:49:39.85939   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:49:39.85939   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:49:39.85940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:49:39.85940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:49:39.85940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:49:39.85940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:49:39.85940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:49:39.85941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:49:39.85942   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:49:39.85945   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:49:39.85946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:49:39.85946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:49:39.85946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:49:39.85946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:49:39.85947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:49:39.85947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:49:39.85947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:49:39.85947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:49:39.85949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:49:39.85949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:49:39.85949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:49:39.85949   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:49:39.85949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:39.85950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:49:39.85950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:49:39.85950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:39.85950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:49:39.85971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:49:39.85972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:49:39.85972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:49:39.85973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:49:39.85973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:49:39.85973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:49:39.85973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:49:39.85974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:49:39.85975   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:49:39.85975   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:49:39.85975   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:49:39.85976   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:49:39.85976   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:49:39.85976   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:49:39.85976   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:49:39.85977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:49:39.85977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:49:39.85977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:49:39.85977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:49:39.85978   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:49:39.85978   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:49:39.85979   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:49:39.85979   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:49:39.85979   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:49:39.85979   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:49:39.85980   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:49:39.85980   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:49:39.85980   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:49:39.85980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:49:39.85981   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:49:39.85981   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:49:39.85982   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:49:39.85982   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:49:39.85985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:49:39.85986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:49:39.85986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:49:39.85987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:49:39.85987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:49:39.85987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:49:39.85987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:49:39.85987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:49:39.85989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:49:39.85989   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:49:39.85989   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:49:40.50927 {"timestamp":"2020-10-21T13:49:40.509Z","pid":34975,"message":"Puma starting in cluster mode..."}
2020-10-21_13:49:40.50939 {"timestamp":"2020-10-21T13:49:40.509Z","pid":34975,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:49:40.50960 {"timestamp":"2020-10-21T13:49:40.509Z","pid":34975,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:49:40.50970 {"timestamp":"2020-10-21T13:49:40.509Z","pid":34975,"message":"* Environment: production"}
2020-10-21_13:49:40.50996 {"timestamp":"2020-10-21T13:49:40.509Z","pid":34975,"message":"* Process workers: 2"}
2020-10-21_13:49:40.51011 {"timestamp":"2020-10-21T13:49:40.510Z","pid":34975,"message":"* Preloading application"}
2020-10-21_13:49:54.60788 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:49:55.47919 {"timestamp":"2020-10-21T13:49:55.479Z","pid":34975,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:49:55.47939 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:49:55.47949 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:49:55.47950   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:49:55.47951   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:49:55.47951   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:49:55.47951   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:49:55.47951   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:49:55.47952   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:49:55.47952   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:49:55.47952   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:49:55.47952   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:49:55.47952   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:49:55.47953   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:49:55.47953   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:49:55.47954   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:49:55.47955   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:49:55.47955   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:49:55.47956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:49:55.47956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:49:55.47956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:49:55.47956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:49:55.47956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:49:55.47957   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:49:55.47957   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:49:55.47958   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:49:55.47958   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:49:55.47958   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:49:55.47959   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:49:55.47959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:55.47959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:49:55.47959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:49:55.47960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:49:55.47960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:49:55.47961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:49:55.47961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:49:55.47961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:49:55.47962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:49:55.47962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:49:55.47962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:49:55.47962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:49:55.47963   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:49:55.47964   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:49:55.47964   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:49:55.47964   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:49:55.47965   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:49:55.47965   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:49:55.47965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:49:55.47965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:49:55.47966   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:49:55.47966   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:49:55.47966   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:49:55.47966   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:49:55.47967   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:49:55.47968   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:49:55.47968   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:49:55.47968   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:49:55.47968   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:49:55.47968   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:49:55.47969   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:49:55.47969   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:49:55.47969   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:49:55.47969   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:49:55.47970   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:49:55.47970   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:49:55.47971   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:49:55.47971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:49:55.47971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:49:55.47972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:49:55.47972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:49:55.47972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:49:55.47972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:49:55.47972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:49:55.47973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:49:55.47973   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:49:55.47974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:49:55.47974   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:49:55.47975   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:49:56.42139 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"Puma starting in cluster mode..."}
2020-10-21_13:49:56.42141 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:49:56.42142 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:49:56.42142 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"* Environment: production"}
2020-10-21_13:49:56.42142 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"* Process workers: 2"}
2020-10-21_13:49:56.42143 {"timestamp":"2020-10-21T13:49:56.421Z","pid":35427,"message":"* Preloading application"}
2020-10-21_13:50:11.97636 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:50:13.11148 {"timestamp":"2020-10-21T13:50:13.111Z","pid":35427,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:50:13.11189 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:50:13.11211 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:50:13.11212   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:50:13.11213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:50:13.11213   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:50:13.11214   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:50:13.11214   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:50:13.11214   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:50:13.11215   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:50:13.11215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:50:13.11215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:50:13.11215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:50:13.11216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:50:13.11216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:50:13.11218   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:50:13.11218   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:50:13.11218   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:50:13.11219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:50:13.11219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:50:13.11219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:50:13.11220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:50:13.11220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:50:13.11220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:50:13.11221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:50:13.11222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:50:13.11222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:50:13.11223   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:50:13.11224   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:50:13.11224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:13.11224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:50:13.11225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:50:13.11225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:13.11225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:50:13.11227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:50:13.11227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:50:13.11227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:50:13.11228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:50:13.11228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:50:13.11228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:50:13.11229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:50:13.11229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:50:13.11230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:50:13.11230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:50:13.11231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:50:13.11231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:50:13.11231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:50:13.11232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:50:13.11232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:50:13.11251   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:50:13.11251   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:50:13.11251   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:50:13.11252   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:50:13.11253   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:50:13.11253   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:50:13.11254   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:50:13.11254   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:50:13.11254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:50:13.11255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:50:13.11256   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:50:13.11256   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:50:13.11256   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:50:13.11257   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:50:13.11257   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:50:13.11257   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:50:13.11258   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:50:13.11259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:50:13.11259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:50:13.11259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:50:13.11260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:50:13.11260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:50:13.11261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:50:13.11261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:50:13.11261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:50:13.11262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:50:13.11263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:50:13.11263   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:50:13.11284   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:50:14.09437 {"timestamp":"2020-10-21T13:50:14.094Z","pid":35956,"message":"Puma starting in cluster mode..."}
2020-10-21_13:50:14.09460 {"timestamp":"2020-10-21T13:50:14.094Z","pid":35956,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:50:14.09476 {"timestamp":"2020-10-21T13:50:14.094Z","pid":35956,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:50:14.09490 {"timestamp":"2020-10-21T13:50:14.094Z","pid":35956,"message":"* Environment: production"}
2020-10-21_13:50:14.09505 {"timestamp":"2020-10-21T13:50:14.095Z","pid":35956,"message":"* Process workers: 2"}
2020-10-21_13:50:14.09521 {"timestamp":"2020-10-21T13:50:14.095Z","pid":35956,"message":"* Preloading application"}
2020-10-21_13:50:29.46515 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:50:30.30710 {"timestamp":"2020-10-21T13:50:30.306Z","pid":35956,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:50:30.30743 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:50:30.30761 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:50:30.30762   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:50:30.30763   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:50:30.30763   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:50:30.30763   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:50:30.30764   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:50:30.30764   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:50:30.30764   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:50:30.30764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:50:30.30765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:50:30.30765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:50:30.30765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:50:30.30765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:50:30.30767   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:50:30.30767   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:50:30.30767   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:50:30.30767   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:50:30.30768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:50:30.30768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:50:30.30768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:50:30.30768   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:50:30.30769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:50:30.30769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:50:30.30792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:50:30.30793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:50:30.30793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:50:30.30793   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:50:30.30794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:30.30794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:50:30.30794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:50:30.30794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:30.30795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:50:30.30796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:50:30.30796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:50:30.30797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:50:30.30797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:50:30.30797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:50:30.30798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:50:30.30798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:50:30.30798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:50:30.30799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:50:30.30799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:50:30.30800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:50:30.30800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:50:30.30800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:50:30.30801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:50:30.30801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:50:30.30801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:50:30.30801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:50:30.30801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:50:30.30802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:50:30.30803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:50:30.30803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:50:30.30803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:50:30.30803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:50:30.30804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:50:30.30804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:50:30.30804   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:50:30.30804   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:50:30.30805   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:50:30.30805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:50:30.30805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:50:30.30805   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:50:30.30806   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:50:30.30807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:50:30.30807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:50:30.30807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:50:30.30807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:50:30.30808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:50:30.30808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:50:30.30808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:50:30.30809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:50:30.30809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:50:30.30810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:50:30.30810   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:50:30.30811   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:50:31.47185 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"Puma starting in cluster mode..."}
2020-10-21_13:50:31.47189 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:50:31.47190 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:50:31.47191 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"* Environment: production"}
2020-10-21_13:50:31.47193 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"* Process workers: 2"}
2020-10-21_13:50:31.47195 {"timestamp":"2020-10-21T13:50:31.471Z","pid":36455,"message":"* Preloading application"}
2020-10-21_13:50:46.30481 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:50:47.01444 {"timestamp":"2020-10-21T13:50:47.014Z","pid":36455,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:50:47.01476 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:50:47.01496 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:50:47.01497   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:50:47.01498   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:50:47.01498   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:50:47.01498   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:50:47.01498   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:50:47.01499   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:50:47.01499   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:50:47.01499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:50:47.01499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:50:47.01500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:50:47.01500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:50:47.01500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:50:47.01501   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:50:47.01502   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:50:47.01502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:50:47.01503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:50:47.01503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:50:47.01504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:50:47.01504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:50:47.01504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:50:47.01504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:50:47.01505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:50:47.01506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:50:47.01506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:50:47.01506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:50:47.01506   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:50:47.01507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:47.01507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:50:47.01507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:50:47.01507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:50:47.01508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:50:47.01509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:50:47.01509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:50:47.01509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:50:47.01509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:50:47.01510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:50:47.01510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:50:47.01510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:50:47.01510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:50:47.01511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:50:47.01512   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:50:47.01512   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:50:47.01512   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:50:47.01512   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:50:47.01513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:50:47.01513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:50:47.01513   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:50:47.01514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:50:47.01514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:50:47.01514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:50:47.01515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:50:47.01515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:50:47.01515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:50:47.01516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:50:47.01516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:50:47.01516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:50:47.01516   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:50:47.01517   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:50:47.01517   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:50:47.01517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:50:47.01517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:50:47.01518   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:50:47.01519   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:50:47.01519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:50:47.01519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:50:47.01519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:50:47.01519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:50:47.01520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:50:47.01520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:50:47.01520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:50:47.01520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:50:47.01521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:50:47.01522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:50:47.01522   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:50:47.01522   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:50:47.91465 {"timestamp":"2020-10-21T13:50:47.914Z","pid":36932,"message":"Puma starting in cluster mode..."}
2020-10-21_13:50:47.91483 {"timestamp":"2020-10-21T13:50:47.914Z","pid":36932,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:50:47.91506 {"timestamp":"2020-10-21T13:50:47.914Z","pid":36932,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:50:47.91525 {"timestamp":"2020-10-21T13:50:47.915Z","pid":36932,"message":"* Environment: production"}
2020-10-21_13:50:47.91544 {"timestamp":"2020-10-21T13:50:47.915Z","pid":36932,"message":"* Process workers: 2"}
2020-10-21_13:50:47.91563 {"timestamp":"2020-10-21T13:50:47.915Z","pid":36932,"message":"* Preloading application"}
2020-10-21_13:51:02.99853 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:51:04.04830 {"timestamp":"2020-10-21T13:51:04.047Z","pid":36932,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:51:04.05035 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:51:04.05111 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:51:04.05115   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:51:04.05116   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:51:04.05116   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:51:04.05117   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:51:04.05117   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:51:04.05118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:51:04.05118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:51:04.05119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:51:04.05119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:51:04.05120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:51:04.05120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:51:04.05121   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:51:04.05123   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:51:04.05123   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:51:04.05123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:51:04.05124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:51:04.05124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:51:04.05125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:51:04.05125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:51:04.05126   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:51:04.05126   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:51:04.05127   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:51:04.05128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:51:04.05129   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:51:04.05129   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:51:04.05131   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:51:04.05132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:04.05132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:51:04.05132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:51:04.05133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:04.05133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:51:04.05135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:51:04.05135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:51:04.05136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:51:04.05136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:51:04.05136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:51:04.05137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:51:04.05137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:51:04.05137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:51:04.05139   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:51:04.05140   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:51:04.05140   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:51:04.05141   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:51:04.05141   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:51:04.05141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:51:04.05142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:51:04.05142   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:51:04.05142   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:51:04.05143   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:51:04.05143   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:51:04.05144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:51:04.05144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:51:04.05145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:51:04.05145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:51:04.05145   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:51:04.05145   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:51:04.05146   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:51:04.05146   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:51:04.05147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:51:04.05147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:51:04.05147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:51:04.05148   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:51:04.05149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:51:04.05149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:51:04.05149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:51:04.05149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:51:04.05150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:51:04.05150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:51:04.05150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:51:04.05151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:51:04.05151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:51:04.05151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:51:04.05152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:51:04.05153   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:51:04.05153   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:51:05.02957 {"timestamp":"2020-10-21T13:51:05.029Z","pid":37446,"message":"Puma starting in cluster mode..."}
2020-10-21_13:51:05.02970 {"timestamp":"2020-10-21T13:51:05.029Z","pid":37446,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:51:05.02981 {"timestamp":"2020-10-21T13:51:05.029Z","pid":37446,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:51:05.02995 {"timestamp":"2020-10-21T13:51:05.029Z","pid":37446,"message":"* Environment: production"}
2020-10-21_13:51:05.03009 {"timestamp":"2020-10-21T13:51:05.030Z","pid":37446,"message":"* Process workers: 2"}
2020-10-21_13:51:05.03022 {"timestamp":"2020-10-21T13:51:05.030Z","pid":37446,"message":"* Preloading application"}
2020-10-21_13:51:20.94279 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:51:21.65824 {"timestamp":"2020-10-21T13:51:21.658Z","pid":37446,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:51:21.65842 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:51:21.65853 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:51:21.65853   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:51:21.65854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:51:21.65854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:51:21.65855   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:51:21.65856   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:51:21.65856   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:51:21.65856   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:51:21.65856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:51:21.65856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:51:21.65857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:51:21.65857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:51:21.65857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:51:21.65858   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:51:21.65859   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:51:21.65859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:51:21.65859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:51:21.65859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:51:21.65859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:51:21.65860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:51:21.65860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:51:21.65860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:51:21.65860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:51:21.65861   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:51:21.65862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:51:21.65862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:51:21.65862   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:51:21.65862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:21.65863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:51:21.65863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:51:21.65863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:21.65863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:51:21.65864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:51:21.65865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:51:21.65865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:51:21.65865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:51:21.65866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:51:21.65866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:51:21.65866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:51:21.65866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:51:21.65867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:51:21.65868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:51:21.65868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:51:21.65868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:51:21.65868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:51:21.65868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:51:21.65869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:51:21.65869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:51:21.65869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:51:21.65869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:51:21.65870   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:51:21.65871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:51:21.65871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:51:21.65871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:51:21.65871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:51:21.65871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:51:21.65872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:51:21.65872   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:51:21.65872   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:51:21.65872   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:51:21.65873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:51:21.65873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:51:21.65873   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:51:21.65874   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:51:21.65874   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:51:21.65875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:51:21.65875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:51:21.65875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:51:21.65875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:51:21.65876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:51:21.65876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:51:21.65876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:51:21.65877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:51:21.65878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:51:21.65878   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:51:21.65878   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:51:22.34294 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"Puma starting in cluster mode..."}
2020-10-21_13:51:22.34296 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:51:22.34296 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:51:22.34297 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"* Environment: production"}
2020-10-21_13:51:22.34297 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"* Process workers: 2"}
2020-10-21_13:51:22.34298 {"timestamp":"2020-10-21T13:51:22.342Z","pid":37947,"message":"* Preloading application"}
2020-10-21_13:51:37.42793 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:51:38.24519 {"timestamp":"2020-10-21T13:51:38.245Z","pid":37947,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:51:38.24582 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:51:38.24604 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:51:38.24606   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:51:38.24606   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:51:38.24607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:51:38.24607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:51:38.24607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:51:38.24608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:51:38.24608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:51:38.24608   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:51:38.24609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:51:38.24609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:51:38.24610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:51:38.24610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:51:38.24612   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:51:38.24612   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:51:38.24612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:51:38.24613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:51:38.24614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:51:38.24615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:51:38.24615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:51:38.24615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:51:38.24616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:51:38.24616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:51:38.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:51:38.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:51:38.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:51:38.24619   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:51:38.24619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:38.24619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:51:38.24620   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:51:38.24620   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:38.24621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:51:38.24622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:51:38.24622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:51:38.24623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:51:38.24623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:51:38.24623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:51:38.24624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:51:38.24624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:51:38.24669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:51:38.24671   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:51:38.24671   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:51:38.24672   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:51:38.24672   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:51:38.24673   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:51:38.24673   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:51:38.24673   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:51:38.24674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:51:38.24675   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:51:38.24675   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:51:38.24675   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:51:38.24677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:51:38.24677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:51:38.24678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:51:38.24678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:51:38.24678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:51:38.24679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:51:38.24679   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:51:38.24679   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:51:38.24680   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:51:38.24680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:51:38.24680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:51:38.24681   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:51:38.24682   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:51:38.24682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:51:38.24683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:51:38.24683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:51:38.24683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:51:38.24684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:51:38.24684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:51:38.24685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:51:38.24685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:51:38.24685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:51:38.24687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:51:38.24687   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:51:38.24687   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:51:39.14350 {"timestamp":"2020-10-21T13:51:39.143Z","pid":38436,"message":"Puma starting in cluster mode..."}
2020-10-21_13:51:39.14382 {"timestamp":"2020-10-21T13:51:39.143Z","pid":38436,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:51:39.14405 {"timestamp":"2020-10-21T13:51:39.143Z","pid":38436,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:51:39.14431 {"timestamp":"2020-10-21T13:51:39.144Z","pid":38436,"message":"* Environment: production"}
2020-10-21_13:51:39.14456 {"timestamp":"2020-10-21T13:51:39.144Z","pid":38436,"message":"* Process workers: 2"}
2020-10-21_13:51:39.14507 {"timestamp":"2020-10-21T13:51:39.145Z","pid":38436,"message":"* Preloading application"}
2020-10-21_13:51:52.38921 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:51:53.12639 {"timestamp":"2020-10-21T13:51:53.126Z","pid":38436,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:51:53.12718 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:51:53.12728 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:51:53.12729   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:51:53.12730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:51:53.12730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:51:53.12730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:51:53.12731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:51:53.12731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:51:53.12731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:51:53.12732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:51:53.12732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:51:53.12732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:51:53.12732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:51:53.12733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:51:53.12734   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:51:53.12734   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:51:53.12734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:51:53.12735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:51:53.12735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:51:53.12735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:51:53.12735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:51:53.12736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:51:53.12736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:51:53.12761   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:51:53.12775   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:51:53.12786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:51:53.12786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:51:53.12787   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:51:53.12787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:53.12802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:51:53.12806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:51:53.12816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:51:53.12817   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:51:53.12818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:51:53.12818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:51:53.12819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:51:53.12833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:51:53.12843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:51:53.12844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:51:53.12844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:51:53.12844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:51:53.12845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:51:53.12859   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:51:53.12889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:51:53.12891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:51:53.12891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:51:53.12891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:51:53.12892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:51:53.12892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:51:53.12892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:51:53.12892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:51:53.12893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:51:53.12909   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:51:53.12919   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:51:53.12919   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:51:53.12920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:51:53.12920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:51:53.12920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:51:53.12920   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:51:53.12921   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:51:53.12921   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:51:53.12936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:51:53.12946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:51:53.12946   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:51:53.12947   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:51:53.12948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:51:53.12948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:51:53.12959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:51:53.12960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:51:53.12960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:51:53.12960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:51:53.12961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:51:53.12961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:51:53.12988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:51:53.13003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:51:53.13008   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:51:53.13031   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:51:53.95311 {"timestamp":"2020-10-21T13:51:53.953Z","pid":38890,"message":"Puma starting in cluster mode..."}
2020-10-21_13:51:53.95340 {"timestamp":"2020-10-21T13:51:53.953Z","pid":38890,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:51:53.95360 {"timestamp":"2020-10-21T13:51:53.953Z","pid":38890,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:51:53.95379 {"timestamp":"2020-10-21T13:51:53.953Z","pid":38890,"message":"* Environment: production"}
2020-10-21_13:51:53.95398 {"timestamp":"2020-10-21T13:51:53.953Z","pid":38890,"message":"* Process workers: 2"}
2020-10-21_13:51:53.95416 {"timestamp":"2020-10-21T13:51:53.954Z","pid":38890,"message":"* Preloading application"}
2020-10-21_13:52:07.35504 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:52:07.99053 {"timestamp":"2020-10-21T13:52:07.990Z","pid":38890,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:52:07.99085 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:52:07.99118 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:52:07.99125   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:52:07.99126   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:52:07.99127   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:52:07.99127   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:52:07.99127   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:52:07.99142   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:52:07.99147   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:52:07.99148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:52:07.99148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:52:07.99148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:52:07.99149   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:52:07.99149   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:52:07.99150   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:52:07.99151   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:52:07.99151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:52:07.99160   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:52:07.99161   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:52:07.99161   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:52:07.99161   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:52:07.99161   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:52:07.99162   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:52:07.99162   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:52:07.99173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:52:07.99174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:52:07.99174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:52:07.99184   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:52:07.99184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:07.99195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:52:07.99196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:52:07.99196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:07.99197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:52:07.99205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:52:07.99205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:52:07.99206   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:52:07.99208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:52:07.99208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:52:07.99210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:52:07.99210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:52:07.99210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:52:07.99212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:52:07.99214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:52:07.99214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:52:07.99215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:52:07.99215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:52:07.99215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:52:07.99244   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:52:07.99245   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:52:07.99246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:52:07.99246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:52:07.99246   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:52:07.99263   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:52:07.99264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:52:07.99265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:52:07.99265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:52:07.99265   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:52:07.99266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:52:07.99266   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:52:07.99267   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:52:07.99267   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:52:07.99267   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:52:07.99268   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:52:07.99325   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:52:07.99329   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:52:07.99330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:52:07.99330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:52:07.99331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:52:07.99331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:52:07.99331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:52:07.99341   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:52:07.99342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:52:07.99343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:52:07.99343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:52:07.99350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:52:07.99351   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:52:07.99351   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:52:08.85794 {"timestamp":"2020-10-21T13:52:08.857Z","pid":39341,"message":"Puma starting in cluster mode..."}
2020-10-21_13:52:08.85798 {"timestamp":"2020-10-21T13:52:08.857Z","pid":39341,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:52:08.85800 {"timestamp":"2020-10-21T13:52:08.857Z","pid":39341,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:52:08.85800 {"timestamp":"2020-10-21T13:52:08.857Z","pid":39341,"message":"* Environment: production"}
2020-10-21_13:52:08.85813 {"timestamp":"2020-10-21T13:52:08.857Z","pid":39341,"message":"* Process workers: 2"}
2020-10-21_13:52:08.85815 {"timestamp":"2020-10-21T13:52:08.858Z","pid":39341,"message":"* Preloading application"}
2020-10-21_13:52:22.72619 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:52:23.32012 {"timestamp":"2020-10-21T13:52:23.319Z","pid":39341,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:52:23.32046 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:52:23.32054 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:52:23.32055   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:52:23.32055   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:52:23.32056   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:52:23.32056   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:52:23.32056   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:52:23.32056   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:52:23.32057   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:52:23.32057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:52:23.32099   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:52:23.32102   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:52:23.32102   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:52:23.32102   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:52:23.32104   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:52:23.32104   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:52:23.32104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:52:23.32105   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:52:23.32106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:52:23.32106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:52:23.32107   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:52:23.32108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:52:23.32108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:52:23.32108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:52:23.32109   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:52:23.32109   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:52:23.32110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:52:23.32110   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:52:23.32110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:23.32110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:52:23.32111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:52:23.32121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:23.32122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:52:23.32123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:52:23.32123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:52:23.32124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:52:23.32124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:52:23.32124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:52:23.32124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:52:23.32125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:52:23.32125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:52:23.32126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:52:23.32126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:52:23.32126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:52:23.32127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:52:23.32127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:52:23.32127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:52:23.32127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:52:23.32128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:52:23.32128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:52:23.32128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:52:23.32145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:52:23.32147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:52:23.32147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:52:23.32147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:52:23.32148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:52:23.32148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:52:23.32148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:52:23.32148   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:52:23.32149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:52:23.32149   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:52:23.32149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:52:23.32149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:52:23.32150   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:52:23.32151   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:52:23.32151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:52:23.32151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:52:23.32151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:52:23.32151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:52:23.32152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:52:23.32152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:52:23.32152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:52:23.32152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:52:23.32157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:52:23.32159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:52:23.32176   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:52:23.32176   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:52:24.00605 {"timestamp":"2020-10-21T13:52:24.005Z","pid":39797,"message":"Puma starting in cluster mode..."}
2020-10-21_13:52:24.00615 {"timestamp":"2020-10-21T13:52:24.006Z","pid":39797,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:52:24.00621 {"timestamp":"2020-10-21T13:52:24.006Z","pid":39797,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:52:24.00627 {"timestamp":"2020-10-21T13:52:24.006Z","pid":39797,"message":"* Environment: production"}
2020-10-21_13:52:24.00632 {"timestamp":"2020-10-21T13:52:24.006Z","pid":39797,"message":"* Process workers: 2"}
2020-10-21_13:52:24.00640 {"timestamp":"2020-10-21T13:52:24.006Z","pid":39797,"message":"* Preloading application"}
2020-10-21_13:52:39.47381 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:52:40.15112 {"timestamp":"2020-10-21T13:52:40.151Z","pid":39797,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:52:40.15147 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:52:40.15156 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:52:40.15156   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:52:40.15157   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:52:40.15157   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:52:40.15157   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:52:40.15164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:52:40.15165   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:52:40.15165   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:52:40.15165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:52:40.15165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:52:40.15166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:52:40.15166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:52:40.15166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:52:40.15167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:52:40.15168   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:52:40.15168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:52:40.15168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:52:40.15168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:52:40.15174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:52:40.15186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:52:40.15186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:52:40.15187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:52:40.15187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:52:40.15188   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:52:40.15188   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:52:40.15189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:52:40.15189   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:52:40.15189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:40.15189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:52:40.15190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:52:40.15190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:40.15191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:52:40.15192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:52:40.15192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:52:40.15192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:52:40.15193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:52:40.15193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:52:40.15193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:52:40.15193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:52:40.15194   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:52:40.15195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:52:40.15195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:52:40.15195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:52:40.15195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:52:40.15196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:52:40.15196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:52:40.15196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:52:40.15196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:52:40.15197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:52:40.15197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:52:40.15197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:52:40.15198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:52:40.15198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:52:40.15198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:52:40.15199   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:52:40.15199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:52:40.15199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:52:40.15199   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:52:40.15200   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:52:40.15200   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:52:40.15200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:52:40.15200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:52:40.15201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:52:40.15202   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:52:40.15202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:52:40.15202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:52:40.15203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:52:40.15203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:52:40.15203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:52:40.15203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:52:40.15203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:52:40.15204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:52:40.15204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:52:40.15205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:52:40.15205   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:52:40.15206   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:52:41.08571 {"timestamp":"2020-10-21T13:52:41.085Z","pid":40270,"message":"Puma starting in cluster mode..."}
2020-10-21_13:52:41.08585 {"timestamp":"2020-10-21T13:52:41.085Z","pid":40270,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:52:41.08603 {"timestamp":"2020-10-21T13:52:41.085Z","pid":40270,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:52:41.08612 {"timestamp":"2020-10-21T13:52:41.086Z","pid":40270,"message":"* Environment: production"}
2020-10-21_13:52:41.08625 {"timestamp":"2020-10-21T13:52:41.086Z","pid":40270,"message":"* Process workers: 2"}
2020-10-21_13:52:41.08637 {"timestamp":"2020-10-21T13:52:41.086Z","pid":40270,"message":"* Preloading application"}
2020-10-21_13:52:58.41633 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:52:59.17636 {"timestamp":"2020-10-21T13:52:59.176Z","pid":40270,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:52:59.17670 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:52:59.17721 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:52:59.17723   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:52:59.17724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:52:59.17724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:52:59.17724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:52:59.17724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:52:59.17725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:52:59.17725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:52:59.17725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:52:59.17728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:52:59.17728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:52:59.17728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:52:59.17729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:52:59.17730   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:52:59.17730   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:52:59.17730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:52:59.17731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:52:59.17731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:52:59.17731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:52:59.17731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:52:59.17732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:52:59.17732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:52:59.17732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:52:59.17733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:52:59.17733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:52:59.17734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:52:59.17746   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:52:59.17747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:59.17747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:52:59.17748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:52:59.17748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:52:59.17748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:52:59.17753   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:52:59.17753   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:52:59.17753   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:52:59.17754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:52:59.17754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:52:59.17754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:52:59.17754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:52:59.17755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:52:59.17756   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:52:59.17757   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:52:59.17757   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:52:59.17757   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:52:59.17757   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:52:59.17758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:52:59.17758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:52:59.17758   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:52:59.17758   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:52:59.17759   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:52:59.17759   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:52:59.17760   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:52:59.17778   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:52:59.17778   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:52:59.17779   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:52:59.17779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:52:59.17779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:52:59.17779   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:52:59.17781   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:52:59.17781   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:52:59.17781   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:52:59.17781   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:52:59.17782   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:52:59.17783   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:52:59.17783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:52:59.17783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:52:59.17784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:52:59.17784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:52:59.17784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:52:59.17784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:52:59.17785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:52:59.17785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:52:59.17785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:52:59.17789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:52:59.17790   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:52:59.17790   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:53:00.03659 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"Puma starting in cluster mode..."}
2020-10-21_13:53:00.03662 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:53:00.03663 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:53:00.03664 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"* Environment: production"}
2020-10-21_13:53:00.03664 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"* Process workers: 2"}
2020-10-21_13:53:00.03664 {"timestamp":"2020-10-21T13:53:00.036Z","pid":40826,"message":"* Preloading application"}
2020-10-21_13:53:16.21175 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:53:17.24368 {"timestamp":"2020-10-21T13:53:17.243Z","pid":40826,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:53:17.24377 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:53:17.24398 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:53:17.24399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:53:17.24399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:53:17.24399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:53:17.24399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:53:17.24400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:53:17.24400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:53:17.24400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:53:17.24400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:53:17.24401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:53:17.24401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:53:17.24401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:53:17.24401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:53:17.24403   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:53:17.24403   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:53:17.24403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:53:17.24403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:53:17.24404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:53:17.24404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:53:17.24404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:53:17.24405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:53:17.24406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:53:17.24406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:53:17.24407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:53:17.24407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:53:17.24407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:53:17.24408   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:53:17.24408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:17.24408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:53:17.24408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:53:17.24409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:17.24409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:53:17.24410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:53:17.24410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:53:17.24410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:53:17.24411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:53:17.24411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:53:17.24411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:53:17.24411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:53:17.24412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:53:17.24413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:53:17.24413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:53:17.24413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:53:17.24413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:53:17.24414   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:53:17.24414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:53:17.24414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:53:17.24414   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:53:17.24415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:53:17.24415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:53:17.24415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:53:17.24416   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:53:17.24416   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:53:17.24417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:53:17.24417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:53:17.24417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:53:17.24417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:53:17.24418   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:53:17.24418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:53:17.24418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:53:17.24418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:53:17.24419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:53:17.24419   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:53:17.24420   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:53:17.24420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:53:17.24420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:53:17.24420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:53:17.24421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:53:17.24421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:53:17.24421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:53:17.24421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:53:17.24422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:53:17.24422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:53:17.24423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:53:17.24423   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:53:17.24424   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:53:18.10439 {"timestamp":"2020-10-21T13:53:18.104Z","pid":41351,"message":"Puma starting in cluster mode..."}
2020-10-21_13:53:18.10453 {"timestamp":"2020-10-21T13:53:18.104Z","pid":41351,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:53:18.10493 {"timestamp":"2020-10-21T13:53:18.104Z","pid":41351,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:53:18.10510 {"timestamp":"2020-10-21T13:53:18.104Z","pid":41351,"message":"* Environment: production"}
2020-10-21_13:53:18.10527 {"timestamp":"2020-10-21T13:53:18.105Z","pid":41351,"message":"* Process workers: 2"}
2020-10-21_13:53:18.10546 {"timestamp":"2020-10-21T13:53:18.105Z","pid":41351,"message":"* Preloading application"}
2020-10-21_13:53:34.31786 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:53:35.13267 {"timestamp":"2020-10-21T13:53:35.132Z","pid":41351,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:53:35.13322 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:53:35.13340 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:53:35.13342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:53:35.13342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:53:35.13342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:53:35.13343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:53:35.13343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:53:35.13343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:53:35.13343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:53:35.13343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:53:35.13344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:53:35.13344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:53:35.13344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:53:35.13344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:53:35.13346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:53:35.13346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:53:35.13346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:53:35.13346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:53:35.13347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:53:35.13347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:53:35.13347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:53:35.13347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:53:35.13347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:53:35.13348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:53:35.13364   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:53:35.13365   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:53:35.13365   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:53:35.13365   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:53:35.13365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:35.13366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:53:35.13366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:53:35.13366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:35.13367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:53:35.13368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:53:35.13368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:53:35.13369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:53:35.13369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:53:35.13369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:53:35.13369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:53:35.13370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:53:35.13370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:53:35.13375   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:53:35.13376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:53:35.13376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:53:35.13377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:53:35.13377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:53:35.13377   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:53:35.13377   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:53:35.13378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:53:35.13378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:53:35.13378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:53:35.13378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:53:35.13379   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:53:35.13380   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:53:35.13380   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:53:35.13380   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:53:35.13380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:53:35.13381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:53:35.13396   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:53:35.13398   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:53:35.13399   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:53:35.13399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:53:35.13399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:53:35.13399   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:53:35.13401   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:53:35.13403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:53:35.13403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:53:35.13403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:53:35.13404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:53:35.13404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:53:35.13404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:53:35.13404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:53:35.13405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:53:35.13405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:53:35.13406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:53:35.13406   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:53:35.13407   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:53:36.00648 {"timestamp":"2020-10-21T13:53:36.006Z","pid":41876,"message":"Puma starting in cluster mode..."}
2020-10-21_13:53:36.00673 {"timestamp":"2020-10-21T13:53:36.006Z","pid":41876,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:53:36.00692 {"timestamp":"2020-10-21T13:53:36.006Z","pid":41876,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:53:36.00708 {"timestamp":"2020-10-21T13:53:36.007Z","pid":41876,"message":"* Environment: production"}
2020-10-21_13:53:36.00723 {"timestamp":"2020-10-21T13:53:36.007Z","pid":41876,"message":"* Process workers: 2"}
2020-10-21_13:53:36.00733 {"timestamp":"2020-10-21T13:53:36.007Z","pid":41876,"message":"* Preloading application"}
2020-10-21_13:53:49.18687 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:53:50.04938 {"timestamp":"2020-10-21T13:53:50.049Z","pid":41876,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:53:50.04966 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:53:50.04975 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:53:50.04975   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:53:50.04976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:53:50.04976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:53:50.04976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:53:50.04976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:53:50.04977   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:53:50.04977   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:53:50.04977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:53:50.04977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:53:50.04985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:53:50.04987   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:53:50.04987   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:53:50.04988   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:53:50.04988   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:53:50.05006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:53:50.05006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:53:50.05006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:53:50.05007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:53:50.05007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:53:50.05007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:53:50.05007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:53:50.05008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:53:50.05009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:53:50.05016   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:53:50.05016   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:53:50.05017   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:53:50.05017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:50.05017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:53:50.05017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:53:50.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:53:50.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:53:50.05019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:53:50.05019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:53:50.05035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:53:50.05035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:53:50.05035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:53:50.05036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:53:50.05036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:53:50.05036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:53:50.05056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:53:50.05058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:53:50.05058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:53:50.05058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:53:50.05058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:53:50.05059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:53:50.05059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:53:50.05059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:53:50.05059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:53:50.05060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:53:50.05060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:53:50.05068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:53:50.05068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:53:50.05068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:53:50.05068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:53:50.05069   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:53:50.05069   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:53:50.05069   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:53:50.05069   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:53:50.05070   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:53:50.05070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:53:50.05070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:53:50.05070   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:53:50.05077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:53:50.05090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:53:50.05090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:53:50.05091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:53:50.05091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:53:50.05091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:53:50.05091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:53:50.05092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:53:50.05092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:53:50.05092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:53:50.05093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:53:50.05094   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:53:50.05095   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:53:50.82134 {"timestamp":"2020-10-21T13:53:50.821Z","pid":42320,"message":"Puma starting in cluster mode..."}
2020-10-21_13:53:50.82162 {"timestamp":"2020-10-21T13:53:50.821Z","pid":42320,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:53:50.82180 {"timestamp":"2020-10-21T13:53:50.821Z","pid":42320,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:53:50.82200 {"timestamp":"2020-10-21T13:53:50.821Z","pid":42320,"message":"* Environment: production"}
2020-10-21_13:53:50.82217 {"timestamp":"2020-10-21T13:53:50.822Z","pid":42320,"message":"* Process workers: 2"}
2020-10-21_13:53:50.82235 {"timestamp":"2020-10-21T13:53:50.822Z","pid":42320,"message":"* Preloading application"}
2020-10-21_13:54:04.86323 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:54:05.53237 {"timestamp":"2020-10-21T13:54:05.532Z","pid":42320,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:54:05.53270 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:54:05.53305 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:54:05.53306   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:54:05.53306   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:54:05.53306   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:54:05.53307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:54:05.53307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:54:05.53307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:54:05.53307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:54:05.53308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:54:05.53308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:54:05.53308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:54:05.53308   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:54:05.53309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:54:05.53310   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:54:05.53310   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:54:05.53310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:54:05.53311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:54:05.53311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:54:05.53313   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:54:05.53313   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:54:05.53313   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:54:05.53314   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:54:05.53315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:54:05.53316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:54:05.53316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:54:05.53316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:54:05.53317   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:54:05.53317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:05.53317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:54:05.53317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:54:05.53318   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:05.53318   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:54:05.53319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:54:05.53319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:54:05.53320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:54:05.53320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:54:05.53320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:54:05.53320   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:54:05.53321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:54:05.53321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:54:05.53322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:54:05.53322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:54:05.53322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:54:05.53323   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:54:05.53323   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:54:05.53323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:54:05.53323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:54:05.53324   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:54:05.53324   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:54:05.53324   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:54:05.53324   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:54:05.53325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:54:05.53325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:54:05.53326   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:54:05.53326   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:54:05.53326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:54:05.53327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:54:05.53327   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:54:05.53327   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:54:05.53327   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:54:05.53328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:54:05.53328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:54:05.53328   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:54:05.53329   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:54:05.53329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:54:05.53330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:54:05.53330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:54:05.53330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:54:05.53330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:54:05.53330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:54:05.53331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:54:05.53331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:54:05.53331   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:54:05.53332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:54:05.53333   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:54:05.53333   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:54:06.37828 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"Puma starting in cluster mode..."}
2020-10-21_13:54:06.37841 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:54:06.37848 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:54:06.37856 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"* Environment: production"}
2020-10-21_13:54:06.37864 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"* Process workers: 2"}
2020-10-21_13:54:06.37872 {"timestamp":"2020-10-21T13:54:06.378Z","pid":42789,"message":"* Preloading application"}
2020-10-21_13:54:21.60946 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:54:22.35460 {"timestamp":"2020-10-21T13:54:22.354Z","pid":42789,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:54:22.35465 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:54:22.35473 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:54:22.35474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:54:22.35474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:54:22.35474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:54:22.35474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:54:22.35475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:54:22.35475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:54:22.35475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:54:22.35475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:54:22.35475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:54:22.35476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:54:22.35476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:54:22.35476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:54:22.35477   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:54:22.35478   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:54:22.35478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:54:22.35478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:54:22.35478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:54:22.35479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:54:22.35479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:54:22.35479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:54:22.35479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:54:22.35479   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:54:22.35481   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:54:22.35481   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:54:22.35481   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:54:22.35481   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:54:22.35482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:22.35487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:54:22.35510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:54:22.35511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:22.35511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:54:22.35520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:54:22.35521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:54:22.35521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:54:22.35521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:54:22.35522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:54:22.35522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:54:22.35522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:54:22.35522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:54:22.35524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:54:22.35524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:54:22.35524   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:54:22.35531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:54:22.35532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:54:22.35532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:54:22.35532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:54:22.35532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:54:22.35533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:54:22.35533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:54:22.35533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:54:22.35534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:54:22.35542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:54:22.35542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:54:22.35542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:54:22.35542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:54:22.35543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:54:22.35543   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:54:22.35558   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:54:22.35559   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:54:22.35559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:54:22.35559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:54:22.35560   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:54:22.35568   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:54:22.35580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:54:22.35580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:54:22.35581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:54:22.35581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:54:22.35582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:54:22.35582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:54:22.35582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:54:22.35582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:54:22.35583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:54:22.35592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:54:22.35592   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:54:22.35593   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:54:23.02852 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"Puma starting in cluster mode..."}
2020-10-21_13:54:23.02862 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:54:23.02868 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:54:23.02878 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"* Environment: production"}
2020-10-21_13:54:23.02884 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"* Process workers: 2"}
2020-10-21_13:54:23.02899 {"timestamp":"2020-10-21T13:54:23.028Z","pid":43263,"message":"* Preloading application"}
2020-10-21_13:54:35.80395 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:54:36.57974 {"timestamp":"2020-10-21T13:54:36.579Z","pid":43263,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:54:36.58008 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:54:36.58029 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:54:36.58031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:54:36.58032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:54:36.58032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:54:36.58032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:54:36.58032   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:54:36.58033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:54:36.58033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:54:36.58033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:54:36.58033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:54:36.58034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:54:36.58034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:54:36.58034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:54:36.58036   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:54:36.58037   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:54:36.58040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:54:36.58041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:54:36.58041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:54:36.58041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:54:36.58041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:54:36.58042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:54:36.58042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:54:36.58042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:54:36.58044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:54:36.58044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:54:36.58044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:54:36.58044   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:54:36.58045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:36.58045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:54:36.58045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:54:36.58045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:36.58046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:54:36.58047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:54:36.58047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:54:36.58047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:54:36.58048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:54:36.58048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:54:36.58048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:54:36.58048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:54:36.58049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:54:36.58054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:54:36.58054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:54:36.58055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:54:36.58055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:54:36.58055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:54:36.58056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:54:36.58056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:54:36.58056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:54:36.58056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:54:36.58057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:54:36.58057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:54:36.58058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:54:36.58058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:54:36.58059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:54:36.58059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:54:36.58059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:54:36.58059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:54:36.58060   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:54:36.58060   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:54:36.58060   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:54:36.58060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:54:36.58061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:54:36.58061   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:54:36.58062   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:54:36.58062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:54:36.58062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:54:36.58063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:54:36.58063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:54:36.58063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:54:36.58063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:54:36.58064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:54:36.58064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:54:36.58064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:54:36.58065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:54:36.58066   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:54:36.58066   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:54:37.56228 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"Puma starting in cluster mode..."}
2020-10-21_13:54:37.56232 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:54:37.56234 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:54:37.56234 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"* Environment: production"}
2020-10-21_13:54:37.56234 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"* Process workers: 2"}
2020-10-21_13:54:37.56258 {"timestamp":"2020-10-21T13:54:37.562Z","pid":43692,"message":"* Preloading application"}
2020-10-21_13:54:51.30715 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:54:52.27608 {"timestamp":"2020-10-21T13:54:52.275Z","pid":43692,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:54:52.27641 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:54:52.27653 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:54:52.27655   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:54:52.27656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:54:52.27656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:54:52.27656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:54:52.27657   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:54:52.27657   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:54:52.27657   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:54:52.27657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:54:52.27657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:54:52.27658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:54:52.27658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:54:52.27658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:54:52.27659   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:54:52.27660   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:54:52.27660   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:54:52.27660   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:54:52.27660   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:54:52.27661   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:54:52.27661   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:54:52.27661   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:54:52.27661   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:54:52.27662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:54:52.27668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:54:52.27669   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:54:52.27670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:54:52.27670   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:54:52.27670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:52.27670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:54:52.27671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:54:52.27671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:54:52.27671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:54:52.27678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:54:52.27678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:54:52.27679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:54:52.27679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:54:52.27679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:54:52.27679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:54:52.27680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:54:52.27680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:54:52.27681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:54:52.27681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:54:52.27681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:54:52.27682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:54:52.27682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:54:52.27682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:54:52.27682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:54:52.27683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:54:52.27683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:54:52.27683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:54:52.27683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:54:52.27684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:54:52.27684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:54:52.27685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:54:52.27685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:54:52.27686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:54:52.27686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:54:52.27686   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:54:52.27686   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:54:52.27687   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:54:52.27687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:54:52.27687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:54:52.27687   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:54:52.27688   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:54:52.27688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:54:52.27689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:54:52.27689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:54:52.27689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:54:52.27689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:54:52.27690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:54:52.27690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:54:52.27690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:54:52.27690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:54:52.27697   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:54:52.27697   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:54:52.27697   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:54:53.28258 {"timestamp":"2020-10-21T13:54:53.282Z","pid":44172,"message":"Puma starting in cluster mode..."}
2020-10-21_13:54:53.28283 {"timestamp":"2020-10-21T13:54:53.282Z","pid":44172,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:54:53.28309 {"timestamp":"2020-10-21T13:54:53.282Z","pid":44172,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:54:53.28332 {"timestamp":"2020-10-21T13:54:53.283Z","pid":44172,"message":"* Environment: production"}
2020-10-21_13:54:53.28351 {"timestamp":"2020-10-21T13:54:53.283Z","pid":44172,"message":"* Process workers: 2"}
2020-10-21_13:54:53.28374 {"timestamp":"2020-10-21T13:54:53.283Z","pid":44172,"message":"* Preloading application"}
2020-10-21_13:55:09.37495 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:55:10.30905 {"timestamp":"2020-10-21T13:55:10.308Z","pid":44172,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:55:10.30970 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:55:10.30987 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:55:10.30992   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:55:10.31005   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:55:10.31006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:55:10.31006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:55:10.31006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:55:10.31006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:55:10.31006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:55:10.31022   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:55:10.31035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:55:10.31057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:55:10.31059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:55:10.31060   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:55:10.31061   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:55:10.31061   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:55:10.31061   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:55:10.31062   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:55:10.31062   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:55:10.31062   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:55:10.31062   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:55:10.31063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:55:10.31063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:55:10.31100   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:55:10.31103   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:55:10.31104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:55:10.31104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:55:10.31104   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:55:10.31104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:10.31105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:55:10.31105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:55:10.31105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:10.31105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:55:10.31129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:55:10.31132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:55:10.31132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:55:10.31133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:55:10.31133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:55:10.31133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:55:10.31133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:55:10.31134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:55:10.31151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:55:10.31152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:55:10.31152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:55:10.31153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:55:10.31153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:55:10.31167   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:55:10.31180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:55:10.31190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:55:10.31190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:55:10.31190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:55:10.31191   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:55:10.31192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:55:10.31192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:55:10.31192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:55:10.31193   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:55:10.31193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:55:10.31193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:55:10.31193   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:55:10.31208   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:55:10.31209   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:55:10.31209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:55:10.31209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:55:10.31209   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:55:10.31224   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:55:10.31235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:55:10.31236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:55:10.31236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:55:10.31237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:55:10.31237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:55:10.31237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:55:10.31237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:55:10.31253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:55:10.31270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:55:10.31272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:55:10.31272   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:55:10.31273   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:55:11.17125 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"Puma starting in cluster mode..."}
2020-10-21_13:55:11.17129 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:55:11.17130 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:55:11.17130 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"* Environment: production"}
2020-10-21_13:55:11.17161 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"* Process workers: 2"}
2020-10-21_13:55:11.17181 {"timestamp":"2020-10-21T13:55:11.171Z","pid":44717,"message":"* Preloading application"}
2020-10-21_13:55:26.98592 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:55:27.81411 {"timestamp":"2020-10-21T13:55:27.813Z","pid":44717,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:55:27.81454 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:55:27.81474 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:55:27.81478   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:55:27.81479   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:55:27.81479   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:55:27.81479   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:55:27.81488   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:55:27.81489   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:55:27.81489   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:55:27.81489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:55:27.81489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:55:27.81490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:55:27.81503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:55:27.81504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:55:27.81514   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:55:27.81515   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:55:27.81528   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:55:27.81530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:55:27.81530   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:55:27.81531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:55:27.81531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:55:27.81531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:55:27.81531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:55:27.81532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:55:27.81533   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:55:27.81533   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:55:27.81543   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:55:27.81554   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:55:27.81554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:27.81554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:55:27.81555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:55:27.81555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:27.81555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:55:27.81556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:55:27.81557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:55:27.81557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:55:27.81577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:55:27.81578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:55:27.81578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:55:27.81578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:55:27.81578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:55:27.81579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:55:27.81580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:55:27.81580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:55:27.81580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:55:27.81600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:55:27.81601   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:55:27.81601   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:55:27.81602   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:55:27.81602   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:55:27.81602   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:55:27.81602   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:55:27.81621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:55:27.81621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:55:27.81622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:55:27.81622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:55:27.81622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:55:27.81622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:55:27.81622   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:55:27.81623   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:55:27.81623   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:55:27.81623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:55:27.81623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:55:27.81636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:55:27.81640   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:55:27.81641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:55:27.81641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:55:27.81642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:55:27.81642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:55:27.81642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:55:27.81642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:55:27.81642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:55:27.81643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:55:27.81643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:55:27.81659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:55:27.81660   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:55:27.81660   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:55:28.76886 {"timestamp":"2020-10-21T13:55:28.768Z","pid":45221,"message":"Puma starting in cluster mode..."}
2020-10-21_13:55:28.76898 {"timestamp":"2020-10-21T13:55:28.768Z","pid":45221,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:55:28.76904 {"timestamp":"2020-10-21T13:55:28.769Z","pid":45221,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:55:28.76912 {"timestamp":"2020-10-21T13:55:28.769Z","pid":45221,"message":"* Environment: production"}
2020-10-21_13:55:28.76918 {"timestamp":"2020-10-21T13:55:28.769Z","pid":45221,"message":"* Process workers: 2"}
2020-10-21_13:55:28.76924 {"timestamp":"2020-10-21T13:55:28.769Z","pid":45221,"message":"* Preloading application"}
2020-10-21_13:55:45.95281 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:55:46.55506 {"timestamp":"2020-10-21T13:55:46.554Z","pid":45221,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:55:46.55532 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:55:46.55533 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:55:46.55533   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:55:46.55534   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:55:46.55534   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:55:46.55534   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:55:46.55535   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:55:46.55535   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:55:46.55535   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:55:46.55535   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:55:46.55536   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:55:46.55536   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:55:46.55536   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:55:46.55536   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:55:46.55538   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:55:46.55538   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:55:46.55538   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:55:46.55538   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:55:46.55539   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:55:46.55539   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:55:46.55539   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:55:46.55540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:55:46.55540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:55:46.55541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:55:46.55541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:55:46.55541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:55:46.55542   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:55:46.55543   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:55:46.55543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:46.55543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:55:46.55543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:55:46.55544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:55:46.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:55:46.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:55:46.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:55:46.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:55:46.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:55:46.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:55:46.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:55:46.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:55:46.55547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:55:46.55548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:55:46.55548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:55:46.55548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:55:46.55548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:55:46.55549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:55:46.55558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:55:46.55559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:55:46.55559   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:55:46.55559   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:55:46.55563   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:55:46.55565   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:55:46.55565   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:55:46.55565   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:55:46.55566   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:55:46.55566   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:55:46.55566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:55:46.55566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:55:46.55571   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:55:46.55571   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:55:46.55572   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:55:46.55572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:55:46.55572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:55:46.55573   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:55:46.55574   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:55:46.55574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:55:46.55574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:55:46.55574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:55:46.55575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:55:46.55575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:55:46.55575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:55:46.55575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:55:46.55576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:55:46.55576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:55:46.55581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:55:46.55581   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:55:46.55581   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:55:47.51407 {"timestamp":"2020-10-21T13:55:47.513Z","pid":45748,"message":"Puma starting in cluster mode..."}
2020-10-21_13:55:47.51412 {"timestamp":"2020-10-21T13:55:47.514Z","pid":45748,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:55:47.51412 {"timestamp":"2020-10-21T13:55:47.514Z","pid":45748,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:55:47.51412 {"timestamp":"2020-10-21T13:55:47.514Z","pid":45748,"message":"* Environment: production"}
2020-10-21_13:55:47.51440 {"timestamp":"2020-10-21T13:55:47.514Z","pid":45748,"message":"* Process workers: 2"}
2020-10-21_13:55:47.51555 {"timestamp":"2020-10-21T13:55:47.515Z","pid":45748,"message":"* Preloading application"}
2020-10-21_13:56:03.87944 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:56:04.93749 {"timestamp":"2020-10-21T13:56:04.937Z","pid":45748,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:56:04.93771 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:56:04.93789 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:56:04.93790   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:56:04.93791   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:56:04.93792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:56:04.93792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:56:04.93792   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:56:04.93793   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:56:04.93793   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:56:04.93793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:56:04.93793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:56:04.93793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:56:04.93794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:56:04.93794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:56:04.93795   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:56:04.93795   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:56:04.93795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:56:04.93796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:56:04.93796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:56:04.93796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:56:04.93796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:56:04.93797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:56:04.93797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:56:04.93797   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:56:04.93798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:56:04.93798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:56:04.93799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:56:04.93799   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:56:04.93799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:04.93799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:56:04.93800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:56:04.93800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:04.93800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:56:04.93801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:56:04.93801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:56:04.93802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:56:04.93802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:56:04.93802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:56:04.93803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:56:04.93803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:56:04.93803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:56:04.93804   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:56:04.93804   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:56:04.93805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:56:04.93805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:56:04.93805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:56:04.93805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:56:04.93806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:56:04.93806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:56:04.93806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:56:04.93806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:56:04.93807   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:56:04.93808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:56:04.93808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:56:04.93808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:56:04.93808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:56:04.93810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:56:04.93810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:56:04.93810   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:56:04.93810   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:56:04.93811   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:56:04.93811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:56:04.93811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:56:04.93811   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:56:04.93812   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:56:04.93812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:56:04.93813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:56:04.93813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:56:04.93813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:56:04.93813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:56:04.93814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:56:04.93814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:56:04.93814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:56:04.93815   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:56:04.93816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:56:04.93816   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:56:04.93816   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:56:05.85544 {"timestamp":"2020-10-21T13:56:05.855Z","pid":46272,"message":"Puma starting in cluster mode..."}
2020-10-21_13:56:05.85570 {"timestamp":"2020-10-21T13:56:05.855Z","pid":46272,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:56:05.85589 {"timestamp":"2020-10-21T13:56:05.855Z","pid":46272,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:56:05.85612 {"timestamp":"2020-10-21T13:56:05.856Z","pid":46272,"message":"* Environment: production"}
2020-10-21_13:56:05.85633 {"timestamp":"2020-10-21T13:56:05.856Z","pid":46272,"message":"* Process workers: 2"}
2020-10-21_13:56:05.85649 {"timestamp":"2020-10-21T13:56:05.856Z","pid":46272,"message":"* Preloading application"}
2020-10-21_13:56:20.88409 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:56:21.77338 {"timestamp":"2020-10-21T13:56:21.773Z","pid":46272,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:56:21.77373 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:56:21.77393 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:56:21.77394   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:56:21.77394   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:56:21.77395   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:56:21.77395   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:56:21.77395   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:56:21.77395   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:56:21.77396   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:56:21.77396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:56:21.77396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:56:21.77396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:56:21.77397   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:56:21.77397   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:56:21.77398   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:56:21.77399   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:56:21.77399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:56:21.77400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:56:21.77400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:56:21.77401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:56:21.77401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:56:21.77401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:56:21.77401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:56:21.77402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:56:21.77403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:56:21.77403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:56:21.77403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:56:21.77403   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:56:21.77404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:21.77404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:56:21.77404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:56:21.77404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:21.77405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:56:21.77406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:56:21.77406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:56:21.77406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:56:21.77407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:56:21.77407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:56:21.77407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:56:21.77407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:56:21.77408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:56:21.77409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:56:21.77409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:56:21.77409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:56:21.77409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:56:21.77410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:56:21.77410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:56:21.77410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:56:21.77411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:56:21.77411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:56:21.77411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:56:21.77411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:56:21.77413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:56:21.77413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:56:21.77413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:56:21.77413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:56:21.77414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:56:21.77414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:56:21.77414   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:56:21.77414   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:56:21.77415   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:56:21.77415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:56:21.77415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:56:21.77415   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:56:21.77416   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:56:21.77417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:56:21.77417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:56:21.77417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:56:21.77417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:56:21.77418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:56:21.77418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:56:21.77418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:56:21.77418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:56:21.77419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:56:21.77420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:56:21.77420   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:56:21.77420   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:56:22.62243 {"timestamp":"2020-10-21T13:56:22.622Z","pid":46751,"message":"Puma starting in cluster mode..."}
2020-10-21_13:56:22.62271 {"timestamp":"2020-10-21T13:56:22.622Z","pid":46751,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:56:22.62284 {"timestamp":"2020-10-21T13:56:22.622Z","pid":46751,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:56:22.62297 {"timestamp":"2020-10-21T13:56:22.622Z","pid":46751,"message":"* Environment: production"}
2020-10-21_13:56:22.62310 {"timestamp":"2020-10-21T13:56:22.623Z","pid":46751,"message":"* Process workers: 2"}
2020-10-21_13:56:22.62322 {"timestamp":"2020-10-21T13:56:22.623Z","pid":46751,"message":"* Preloading application"}
2020-10-21_13:56:36.99249 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:56:37.71059 {"timestamp":"2020-10-21T13:56:37.710Z","pid":46751,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:56:37.71092 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:56:37.71107 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:56:37.71108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:56:37.71108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:56:37.71108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:56:37.71109   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:56:37.71109   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:56:37.71109   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:56:37.71109   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:56:37.71110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:56:37.71110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:56:37.71110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:56:37.71110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:56:37.71111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:56:37.71112   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:56:37.71112   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:56:37.71112   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:56:37.71112   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:56:37.71113   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:56:37.71113   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:56:37.71113   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:56:37.71113   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:56:37.71114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:56:37.71114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:56:37.71115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:56:37.71115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:56:37.71115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:56:37.71116   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:56:37.71117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:37.71117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:56:37.71117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:56:37.71118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:37.71118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:56:37.71119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:56:37.71119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:56:37.71119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:56:37.71120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:56:37.71120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:56:37.71120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:56:37.71120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:56:37.71121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:56:37.71122   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:56:37.71122   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:56:37.71122   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:56:37.71122   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:56:37.71123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:56:37.71123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:56:37.71123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:56:37.71123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:56:37.71124   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:56:37.71124   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:56:37.71124   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:56:37.71125   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:56:37.71125   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:56:37.71126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:56:37.71126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:56:37.71126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:56:37.71126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:56:37.71127   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:56:37.71127   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:56:37.71127   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:56:37.71128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:56:37.71128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:56:37.71128   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:56:37.71129   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:56:37.71129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:56:37.71130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:56:37.71130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:56:37.71130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:56:37.71130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:56:37.71131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:56:37.71131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:56:37.71131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:56:37.71131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:56:37.71132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:56:37.71133   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:56:37.71133   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:56:38.53355 {"timestamp":"2020-10-21T13:56:38.533Z","pid":47226,"message":"Puma starting in cluster mode..."}
2020-10-21_13:56:38.53380 {"timestamp":"2020-10-21T13:56:38.533Z","pid":47226,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:56:38.53398 {"timestamp":"2020-10-21T13:56:38.533Z","pid":47226,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:56:38.53415 {"timestamp":"2020-10-21T13:56:38.534Z","pid":47226,"message":"* Environment: production"}
2020-10-21_13:56:38.53431 {"timestamp":"2020-10-21T13:56:38.534Z","pid":47226,"message":"* Process workers: 2"}
2020-10-21_13:56:38.53447 {"timestamp":"2020-10-21T13:56:38.534Z","pid":47226,"message":"* Preloading application"}
2020-10-21_13:56:52.04347 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:56:53.04926 {"timestamp":"2020-10-21T13:56:53.049Z","pid":47226,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:56:53.04976 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:56:53.04994 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:56:53.04995   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:56:53.04996   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:56:53.04996   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:56:53.04996   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:56:53.04997   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:56:53.04997   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:56:53.04998   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:56:53.04998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:56:53.04998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:56:53.04998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:56:53.04999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:56:53.04999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:56:53.05000   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:56:53.05000   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:56:53.05001   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:56:53.05001   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:56:53.05001   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:56:53.05001   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:56:53.05002   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:56:53.05002   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:56:53.05002   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:56:53.05002   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:56:53.05004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:56:53.05004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:56:53.05004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:56:53.05004   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:56:53.05005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:53.05005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:56:53.05005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:56:53.05005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:56:53.05006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:56:53.05007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:56:53.05007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:56:53.05007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:56:53.05007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:56:53.05008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:56:53.05008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:56:53.05009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:56:53.05009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:56:53.05010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:56:53.05010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:56:53.05010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:56:53.05011   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:56:53.05011   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:56:53.05011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:56:53.05011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:56:53.05012   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:56:53.05012   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:56:53.05012   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:56:53.05012   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:56:53.05013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:56:53.05014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:56:53.05014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:56:53.05014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:56:53.05014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:56:53.05015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:56:53.05015   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:56:53.05015   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:56:53.05015   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:56:53.05016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:56:53.05016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:56:53.05016   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:56:53.05017   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:56:53.05017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:56:53.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:56:53.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:56:53.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:56:53.05018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:56:53.05019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:56:53.05019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:56:53.05019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:56:53.05020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:56:53.05021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:56:53.05021   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:56:53.05021   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:56:53.87371 {"timestamp":"2020-10-21T13:56:53.873Z","pid":47677,"message":"Puma starting in cluster mode..."}
2020-10-21_13:56:53.87415 {"timestamp":"2020-10-21T13:56:53.874Z","pid":47677,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:56:53.87436 {"timestamp":"2020-10-21T13:56:53.874Z","pid":47677,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:56:53.87479 {"timestamp":"2020-10-21T13:56:53.874Z","pid":47677,"message":"* Environment: production"}
2020-10-21_13:56:53.87603 {"timestamp":"2020-10-21T13:56:53.875Z","pid":47677,"message":"* Process workers: 2"}
2020-10-21_13:56:53.87632 {"timestamp":"2020-10-21T13:56:53.876Z","pid":47677,"message":"* Preloading application"}
2020-10-21_13:57:07.77556 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:57:08.48866 {"timestamp":"2020-10-21T13:57:08.488Z","pid":47677,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:57:08.48885 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:57:08.48893 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:57:08.48894   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:57:08.48894   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:57:08.48895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:57:08.48895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:57:08.48895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:57:08.48895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:57:08.48896   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:57:08.48896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:57:08.48896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:57:08.48896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:57:08.48897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:57:08.48897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:57:08.48898   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:57:08.48898   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:57:08.48899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:57:08.48899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:57:08.48899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:57:08.48900   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:57:08.48901   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:57:08.48901   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:57:08.48901   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:57:08.48901   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:57:08.48902   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:57:08.48903   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:57:08.48903   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:57:08.48903   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:57:08.48903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:08.48904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:57:08.48904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:57:08.48904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:08.48905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:57:08.48906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:57:08.48906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:57:08.48906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:57:08.48906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:57:08.48907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:57:08.48907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:57:08.48907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:57:08.48942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:57:08.48957   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:57:08.48958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:57:08.48958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:57:08.48958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:57:08.48958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:57:08.48959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:57:08.48959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:57:08.48975   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:57:08.48977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:57:08.48977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:57:08.48978   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:57:08.48979   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:57:08.48979   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:57:08.48989   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:57:08.48993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:57:08.49003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:57:08.49004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:57:08.49004   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:57:08.49004   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:57:08.49004   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:57:08.49005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:57:08.49005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:57:08.49005   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:57:08.49022   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:57:08.49032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:57:08.49032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:57:08.49033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:57:08.49033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:57:08.49033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:57:08.49033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:57:08.49034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:57:08.49034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:57:08.49034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:57:08.49051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:57:08.49061   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:57:08.49062   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:57:09.22660 {"timestamp":"2020-10-21T13:57:09.226Z","pid":48146,"message":"Puma starting in cluster mode..."}
2020-10-21_13:57:09.22664 {"timestamp":"2020-10-21T13:57:09.226Z","pid":48146,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:57:09.22665 {"timestamp":"2020-10-21T13:57:09.226Z","pid":48146,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:57:09.22665 {"timestamp":"2020-10-21T13:57:09.226Z","pid":48146,"message":"* Environment: production"}
2020-10-21_13:57:09.22745 {"timestamp":"2020-10-21T13:57:09.227Z","pid":48146,"message":"* Process workers: 2"}
2020-10-21_13:57:09.22749 {"timestamp":"2020-10-21T13:57:09.227Z","pid":48146,"message":"* Preloading application"}
2020-10-21_13:57:27.59172 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:57:28.54212 {"timestamp":"2020-10-21T13:57:28.542Z","pid":48146,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:57:28.54248 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:57:28.54269 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:57:28.54274   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:57:28.54287   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:57:28.54298   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:57:28.54299   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:57:28.54299   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:57:28.54299   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:57:28.54299   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:57:28.54300   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:57:28.54300   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:57:28.54300   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:57:28.54300   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:57:28.54301   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:57:28.54333   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:57:28.54346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:57:28.54350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:57:28.54361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:57:28.54361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:57:28.54361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:57:28.54362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:57:28.54362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:57:28.54362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:57:28.54362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:57:28.54380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:57:28.54390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:57:28.54391   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:57:28.54391   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:57:28.54391   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:28.54407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:57:28.54421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:57:28.54432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:28.54432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:57:28.54433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:57:28.54434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:57:28.54434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:57:28.54449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:57:28.54459   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:57:28.54460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:57:28.54460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:57:28.54460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:57:28.54461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:57:28.54477   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:57:28.54478   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:57:28.54478   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:57:28.54478   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:57:28.54479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:57:28.54479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:57:28.54479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:57:28.54479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:57:28.54480   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:57:28.54480   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:57:28.54481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:57:28.54481   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:57:28.54482   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:57:28.54482   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:57:28.54482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:57:28.54482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:57:28.54483   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:57:28.54483   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:57:28.54483   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:57:28.54484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:57:28.54484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:57:28.54484   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:57:28.54485   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:57:28.54485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:57:28.54486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:57:28.54486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:57:28.54486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:57:28.54487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:57:28.54487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:57:28.54487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:57:28.54487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:57:28.54488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:57:28.54510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:57:28.54524   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:57:28.54535   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:57:29.58425 {"timestamp":"2020-10-21T13:57:29.584Z","pid":48707,"message":"Puma starting in cluster mode..."}
2020-10-21_13:57:29.58452 {"timestamp":"2020-10-21T13:57:29.584Z","pid":48707,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:57:29.58466 {"timestamp":"2020-10-21T13:57:29.584Z","pid":48707,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:57:29.58480 {"timestamp":"2020-10-21T13:57:29.584Z","pid":48707,"message":"* Environment: production"}
2020-10-21_13:57:29.58493 {"timestamp":"2020-10-21T13:57:29.584Z","pid":48707,"message":"* Process workers: 2"}
2020-10-21_13:57:29.58508 {"timestamp":"2020-10-21T13:57:29.585Z","pid":48707,"message":"* Preloading application"}
2020-10-21_13:57:45.38223 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:57:45.93295 {"timestamp":"2020-10-21T13:57:45.932Z","pid":48707,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:57:45.93328 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:57:45.93342 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:57:45.93343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:57:45.93343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:57:45.93344   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:57:45.93344   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:57:45.93344   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:57:45.93344   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:57:45.93345   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:57:45.93345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:57:45.93346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:57:45.93346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:57:45.93346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:57:45.93346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:57:45.93347   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:57:45.93348   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:57:45.93348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:57:45.93348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:57:45.93348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:57:45.93349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:57:45.93349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:57:45.93349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:57:45.93349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:57:45.93350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:57:45.93351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:57:45.93351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:57:45.93351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:57:45.93351   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:57:45.93352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:45.93352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:57:45.93352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:57:45.93352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:57:45.93352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:57:45.93353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:57:45.93354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:57:45.93354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:57:45.93354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:57:45.93354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:57:45.93355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:57:45.93355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:57:45.93355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:57:45.93356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:57:45.93357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:57:45.93357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:57:45.93357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:57:45.93357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:57:45.93358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:57:45.93358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:57:45.93358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:57:45.93358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:57:45.93358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:57:45.93359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:57:45.93360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:57:45.93360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:57:45.93360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:57:45.93360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:57:45.93360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:57:45.93361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:57:45.93361   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:57:45.93361   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:57:45.93361   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:57:45.93362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:57:45.93362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:57:45.93362   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:57:45.93363   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:57:45.93363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:57:45.93363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:57:45.93364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:57:45.93364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:57:45.93364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:57:45.93364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:57:45.93365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:57:45.93365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:57:45.93365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:57:45.93366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:57:45.93367   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:57:45.93367   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:57:46.62581 {"timestamp":"2020-10-21T13:57:46.625Z","pid":49204,"message":"Puma starting in cluster mode..."}
2020-10-21_13:57:46.62605 {"timestamp":"2020-10-21T13:57:46.626Z","pid":49204,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:57:46.62628 {"timestamp":"2020-10-21T13:57:46.626Z","pid":49204,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:57:46.62641 {"timestamp":"2020-10-21T13:57:46.626Z","pid":49204,"message":"* Environment: production"}
2020-10-21_13:57:46.62654 {"timestamp":"2020-10-21T13:57:46.626Z","pid":49204,"message":"* Process workers: 2"}
2020-10-21_13:57:46.62667 {"timestamp":"2020-10-21T13:57:46.626Z","pid":49204,"message":"* Preloading application"}
2020-10-21_13:58:01.11282 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:58:02.06379 {"timestamp":"2020-10-21T13:58:02.063Z","pid":49204,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:58:02.06416 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:58:02.06436 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:58:02.06441   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:58:02.06442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:58:02.06442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:58:02.06442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:58:02.06443   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:58:02.06443   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:58:02.06453   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:58:02.06454   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:58:02.06454   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:58:02.06455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:58:02.06455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:58:02.06455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:58:02.06456   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:58:02.06457   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:58:02.06457   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:58:02.06466   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:58:02.06466   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:58:02.06467   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:58:02.06486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:58:02.06487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:58:02.06487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:58:02.06488   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:58:02.06489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:58:02.06489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:58:02.06490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:58:02.06490   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:58:02.06490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:02.06490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:58:02.06491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:58:02.06491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:02.06491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:58:02.06492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:58:02.06492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:58:02.06493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:58:02.06493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:58:02.06493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:58:02.06493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:58:02.06494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:58:02.06494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:58:02.06499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:58:02.06500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:58:02.06500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:58:02.06500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:58:02.06501   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:58:02.06501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:58:02.06501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:58:02.06525   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:58:02.06526   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:58:02.06528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:58:02.06529   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:58:02.06530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:58:02.06530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:58:02.06538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:58:02.06538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:58:02.06538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:58:02.06539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:58:02.06539   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:58:02.06539   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:58:02.06539   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:58:02.06540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:58:02.06540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:58:02.06544   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:58:02.06546   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:58:02.06546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:58:02.06562   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:58:02.06563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:58:02.06563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:58:02.06564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:58:02.06564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:58:02.06564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:58:02.06564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:58:02.06572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:58:02.06574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:58:02.06574   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:58:02.06579   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:58:03.06141 {"timestamp":"2020-10-21T13:58:03.061Z","pid":49675,"message":"Puma starting in cluster mode..."}
2020-10-21_13:58:03.06166 {"timestamp":"2020-10-21T13:58:03.061Z","pid":49675,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:58:03.06183 {"timestamp":"2020-10-21T13:58:03.061Z","pid":49675,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:58:03.06198 {"timestamp":"2020-10-21T13:58:03.061Z","pid":49675,"message":"* Environment: production"}
2020-10-21_13:58:03.06214 {"timestamp":"2020-10-21T13:58:03.062Z","pid":49675,"message":"* Process workers: 2"}
2020-10-21_13:58:03.06235 {"timestamp":"2020-10-21T13:58:03.062Z","pid":49675,"message":"* Preloading application"}
2020-10-21_13:58:17.69274 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:58:18.56011 {"timestamp":"2020-10-21T13:58:18.560Z","pid":49675,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:58:18.56046 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:58:18.56066 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:58:18.56071   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:58:18.56072   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:58:18.56072   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:58:18.56073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:58:18.56073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:58:18.56073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:58:18.56073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:58:18.56074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:58:18.56074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:58:18.56074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:58:18.56074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:58:18.56075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:58:18.56092   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:58:18.56092   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:58:18.56092   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:58:18.56093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:58:18.56093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:58:18.56093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:58:18.56093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:58:18.56094   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:58:18.56094   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:58:18.56094   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:58:18.56095   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:58:18.56096   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:58:18.56096   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:58:18.56096   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:58:18.56096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:18.56097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:58:18.56097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:58:18.56098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:18.56098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:58:18.56099   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:58:18.56105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:58:18.56106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:58:18.56106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:58:18.56110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:58:18.56110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:58:18.56110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:58:18.56111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:58:18.56112   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:58:18.56112   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:58:18.56112   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:58:18.56113   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:58:18.56113   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:58:18.56113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:58:18.56113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:58:18.56114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:58:18.56114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:58:18.56114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:58:18.56114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:58:18.56115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:58:18.56116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:58:18.56116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:58:18.56116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:58:18.56116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:58:18.56124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:58:18.56124   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:58:18.56127   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:58:18.56128   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:58:18.56128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:58:18.56128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:58:18.56129   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:58:18.56130   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:58:18.56131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:58:18.56131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:58:18.56131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:58:18.56131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:58:18.56132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:58:18.56132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:58:18.56132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:58:18.56132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:58:18.56133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:58:18.56134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:58:18.56134   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:58:18.56134   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:58:19.40074 {"timestamp":"2020-10-21T13:58:19.400Z","pid":50161,"message":"Puma starting in cluster mode..."}
2020-10-21_13:58:19.40092 {"timestamp":"2020-10-21T13:58:19.400Z","pid":50161,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:58:19.40112 {"timestamp":"2020-10-21T13:58:19.400Z","pid":50161,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:58:19.40126 {"timestamp":"2020-10-21T13:58:19.401Z","pid":50161,"message":"* Environment: production"}
2020-10-21_13:58:19.40142 {"timestamp":"2020-10-21T13:58:19.401Z","pid":50161,"message":"* Process workers: 2"}
2020-10-21_13:58:19.40161 {"timestamp":"2020-10-21T13:58:19.401Z","pid":50161,"message":"* Preloading application"}
2020-10-21_13:58:35.17023 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:58:36.71426 {"timestamp":"2020-10-21T13:58:36.714Z","pid":50161,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:58:36.71461 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:58:36.71482 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:58:36.71483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:58:36.71483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:58:36.71484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:58:36.71484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:58:36.71484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:58:36.71484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:58:36.71485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:58:36.71485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:58:36.71485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:58:36.71486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:58:36.71487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:58:36.71487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:58:36.71488   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:58:36.71488   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:58:36.71489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:58:36.71489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:58:36.71489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:58:36.71490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:58:36.71490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:58:36.71490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:58:36.71490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:58:36.71491   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:58:36.71492   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:58:36.71492   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:58:36.71493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:58:36.71493   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:58:36.71493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:36.71493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:58:36.71494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:58:36.71494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:36.71494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:58:36.71496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:58:36.71496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:58:36.71496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:58:36.71496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:58:36.71497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:58:36.71497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:58:36.71497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:58:36.71498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:58:36.71499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:58:36.71501   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:58:36.71501   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:58:36.71501   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:58:36.71502   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:58:36.71502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:58:36.71502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:58:36.71502   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:58:36.71503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:58:36.71503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:58:36.71503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:58:36.71504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:58:36.71504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:58:36.71505   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:58:36.71505   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:58:36.71505   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:58:36.71505   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:58:36.71506   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:58:36.71506   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:58:36.71506   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:58:36.71506   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:58:36.71507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:58:36.71507   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:58:36.71508   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:58:36.71508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:58:36.71508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:58:36.71509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:58:36.71509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:58:36.71509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:58:36.71509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:58:36.71510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:58:36.71510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:58:36.71510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:58:36.71511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:58:36.71512   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:58:36.71512   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:58:37.65349 {"timestamp":"2020-10-21T13:58:37.653Z","pid":50685,"message":"Puma starting in cluster mode..."}
2020-10-21_13:58:37.65369 {"timestamp":"2020-10-21T13:58:37.653Z","pid":50685,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:58:37.65382 {"timestamp":"2020-10-21T13:58:37.653Z","pid":50685,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:58:37.65395 {"timestamp":"2020-10-21T13:58:37.653Z","pid":50685,"message":"* Environment: production"}
2020-10-21_13:58:37.65408 {"timestamp":"2020-10-21T13:58:37.654Z","pid":50685,"message":"* Process workers: 2"}
2020-10-21_13:58:37.65425 {"timestamp":"2020-10-21T13:58:37.654Z","pid":50685,"message":"* Preloading application"}
2020-10-21_13:58:53.82863 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:58:55.18990 {"timestamp":"2020-10-21T13:58:55.189Z","pid":50685,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:58:55.19021 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:58:55.19042 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:58:55.19044   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:58:55.19044   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:58:55.19044   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:58:55.19045   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:58:55.19045   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:58:55.19049   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:58:55.19049   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:58:55.19050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:58:55.19050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:58:55.19050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:58:55.19051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:58:55.19051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:58:55.19052   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:58:55.19053   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:58:55.19053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:58:55.19053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:58:55.19053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:58:55.19054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:58:55.19054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:58:55.19054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:58:55.19055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:58:55.19055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:58:55.19056   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:58:55.19057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:58:55.19057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:58:55.19057   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:58:55.19057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:55.19058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:58:55.19058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:58:55.19058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:58:55.19058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:58:55.19059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:58:55.19060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:58:55.19060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:58:55.19060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:58:55.19060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:58:55.19061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:58:55.19061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:58:55.19061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:58:55.19062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:58:55.19062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:58:55.19062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:58:55.19063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:58:55.19063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:58:55.19063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:58:55.19063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:58:55.19064   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:58:55.19064   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:58:55.19064   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:58:55.19064   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:58:55.19066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:58:55.19066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:58:55.19066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:58:55.19066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:58:55.19066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:58:55.19067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:58:55.19067   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:58:55.19067   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:58:55.19067   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:58:55.19068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:58:55.19068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:58:55.19068   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:58:55.19069   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:58:55.19069   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:58:55.19069   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:58:55.19070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:58:55.19070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:58:55.19070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:58:55.19070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:58:55.19071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:58:55.19071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:58:55.19071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:58:55.19072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:58:55.19072   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:58:55.19073   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:58:56.25801 {"timestamp":"2020-10-21T13:58:56.257Z","pid":51216,"message":"Puma starting in cluster mode..."}
2020-10-21_13:58:56.25804 {"timestamp":"2020-10-21T13:58:56.258Z","pid":51216,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:58:56.25805 {"timestamp":"2020-10-21T13:58:56.258Z","pid":51216,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:58:56.25805 {"timestamp":"2020-10-21T13:58:56.258Z","pid":51216,"message":"* Environment: production"}
2020-10-21_13:58:56.25805 {"timestamp":"2020-10-21T13:58:56.258Z","pid":51216,"message":"* Process workers: 2"}
2020-10-21_13:58:56.25806 {"timestamp":"2020-10-21T13:58:56.258Z","pid":51216,"message":"* Preloading application"}
2020-10-21_13:59:11.35042 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:59:12.40193 {"timestamp":"2020-10-21T13:59:12.401Z","pid":51216,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:59:12.40214 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:59:12.40224 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:59:12.40225   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:59:12.40225   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:59:12.40226   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:59:12.40226   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:59:12.40226   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:59:12.40226   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:59:12.40226   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:59:12.40227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:59:12.40227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:59:12.40227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:59:12.40227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:59:12.40228   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:59:12.40229   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:59:12.40229   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:59:12.40229   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:59:12.40229   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:59:12.40230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:59:12.40230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:59:12.40230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:59:12.40230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:59:12.40231   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:59:12.40231   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:59:12.40232   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:59:12.40232   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:59:12.40232   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:59:12.40233   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:59:12.40233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:12.40233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:59:12.40233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:59:12.40234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:12.40234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:59:12.40235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:59:12.40236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:59:12.40236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:59:12.40236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:59:12.40236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:59:12.40237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:59:12.40237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:59:12.40237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:59:12.40238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:59:12.40238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:59:12.40239   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:59:12.40239   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:59:12.40239   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:59:12.40239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:59:12.40239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:59:12.40240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:59:12.40240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:59:12.40240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:59:12.40240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:59:12.40241   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:59:12.40242   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:59:12.40242   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:59:12.40242   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:59:12.40242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:59:12.40242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:59:12.40243   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:59:12.40243   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:59:12.40243   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:59:12.40243   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:59:12.40244   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:59:12.40244   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:59:12.40245   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:59:12.40245   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:59:12.40246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:59:12.40246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:59:12.40246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:59:12.40246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:59:12.40246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:59:12.40247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:59:12.40247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:59:12.40247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:59:12.40250   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:59:12.40250   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:59:12.40250   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:59:13.41981 {"timestamp":"2020-10-21T13:59:13.419Z","pid":51728,"message":"Puma starting in cluster mode..."}
2020-10-21_13:59:13.41998 {"timestamp":"2020-10-21T13:59:13.419Z","pid":51728,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:59:13.42025 {"timestamp":"2020-10-21T13:59:13.420Z","pid":51728,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:59:13.42045 {"timestamp":"2020-10-21T13:59:13.420Z","pid":51728,"message":"* Environment: production"}
2020-10-21_13:59:13.42058 {"timestamp":"2020-10-21T13:59:13.420Z","pid":51728,"message":"* Process workers: 2"}
2020-10-21_13:59:13.42102 {"timestamp":"2020-10-21T13:59:13.420Z","pid":51728,"message":"* Preloading application"}
2020-10-21_13:59:29.13293 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:59:29.97829 {"timestamp":"2020-10-21T13:59:29.978Z","pid":51728,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:59:29.97864 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:59:29.97882 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:59:29.97883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:59:29.97883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:59:29.97883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:59:29.97884   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:59:29.97884   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:59:29.97884   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:59:29.97885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:59:29.97885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:59:29.97885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:59:29.97885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:59:29.97886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:59:29.97887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:59:29.97906   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:59:29.97906   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:59:29.97907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:59:29.97907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:59:29.97907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:59:29.97907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:59:29.97908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:59:29.97908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:59:29.97908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:59:29.97908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:59:29.97910   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:59:29.97910   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:59:29.97910   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:59:29.97910   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:59:29.97911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:29.97911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:59:29.97911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:59:29.97911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:29.97912   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:59:29.97913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:59:29.97913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:59:29.97913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:59:29.97913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:59:29.97914   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:59:29.97914   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:59:29.97914   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:59:29.97914   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:59:29.97916   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:59:29.97916   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:59:29.97917   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:59:29.97917   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:59:29.97917   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:59:29.97917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:59:29.97918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:59:29.97918   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:59:29.97918   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:59:29.97918   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:59:29.97919   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:59:29.97920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:59:29.97920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:59:29.97920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:59:29.97920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:59:29.97921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:59:29.97921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:59:29.97921   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:59:29.97921   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:59:29.97922   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:59:29.97922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:59:29.97922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:59:29.97922   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:59:29.97923   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:59:29.97923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:59:29.97924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:59:29.97924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:59:29.97924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:59:29.97924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:59:29.97925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:59:29.97925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:59:29.97925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:59:29.97925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:59:29.97927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:59:29.97927   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:59:29.97927   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:59:30.77920 {"timestamp":"2020-10-21T13:59:30.779Z","pid":52226,"message":"Puma starting in cluster mode..."}
2020-10-21_13:59:30.77947 {"timestamp":"2020-10-21T13:59:30.779Z","pid":52226,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:59:30.77961 {"timestamp":"2020-10-21T13:59:30.779Z","pid":52226,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:59:30.77980 {"timestamp":"2020-10-21T13:59:30.779Z","pid":52226,"message":"* Environment: production"}
2020-10-21_13:59:30.77994 {"timestamp":"2020-10-21T13:59:30.779Z","pid":52226,"message":"* Process workers: 2"}
2020-10-21_13:59:30.78007 {"timestamp":"2020-10-21T13:59:30.780Z","pid":52226,"message":"* Preloading application"}
2020-10-21_13:59:45.28133 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_13:59:46.07238 {"timestamp":"2020-10-21T13:59:46.072Z","pid":52226,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_13:59:46.07271 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_13:59:46.07324 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_13:59:46.07327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_13:59:46.07328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_13:59:46.07328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_13:59:46.07328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_13:59:46.07329   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_13:59:46.07329   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_13:59:46.07329   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_13:59:46.07329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_13:59:46.07330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_13:59:46.07330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_13:59:46.07330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_13:59:46.07330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_13:59:46.07331   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_13:59:46.07332   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_13:59:46.07332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_13:59:46.07332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_13:59:46.07332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_13:59:46.07333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_13:59:46.07333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_13:59:46.07333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_13:59:46.07333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_13:59:46.07334   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_13:59:46.07354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_13:59:46.07355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_13:59:46.07355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_13:59:46.07355   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_13:59:46.07355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:46.07356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_13:59:46.07356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_13:59:46.07356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_13:59:46.07356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_13:59:46.07358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_13:59:46.07358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_13:59:46.07358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_13:59:46.07358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_13:59:46.07359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_13:59:46.07359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_13:59:46.07359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_13:59:46.07359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_13:59:46.07360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_13:59:46.07361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_13:59:46.07367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_13:59:46.07368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_13:59:46.07368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_13:59:46.07368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_13:59:46.07368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_13:59:46.07369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_13:59:46.07369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_13:59:46.07369   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_13:59:46.07375   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_13:59:46.07376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_13:59:46.07376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_13:59:46.07377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_13:59:46.07377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_13:59:46.07378   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_13:59:46.07378   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_13:59:46.07378   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_13:59:46.07378   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_13:59:46.07378   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_13:59:46.07379   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_13:59:46.07379   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_13:59:46.07379   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_13:59:46.07380   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_13:59:46.07380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_13:59:46.07381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_13:59:46.07381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_13:59:46.07381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_13:59:46.07400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_13:59:46.07401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_13:59:46.07401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_13:59:46.07401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_13:59:46.07401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_13:59:46.07415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_13:59:46.07415   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_13:59:46.07416   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_13:59:46.76149 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"Puma starting in cluster mode..."}
2020-10-21_13:59:46.76152 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_13:59:46.76154 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_13:59:46.76154 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"* Environment: production"}
2020-10-21_13:59:46.76167 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"* Process workers: 2"}
2020-10-21_13:59:46.76171 {"timestamp":"2020-10-21T13:59:46.761Z","pid":52682,"message":"* Preloading application"}
2020-10-21_13:59:59.89230 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:00:00.71899 {"timestamp":"2020-10-21T14:00:00.718Z","pid":52682,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:00:00.71924 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:00:00.71951 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:00:00.71954   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:00:00.71954   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:00:00.71954   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:00:00.71955   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:00:00.71955   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:00:00.71955   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:00:00.71955   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:00:00.71956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:00:00.71956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:00:00.71956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:00:00.71956   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:00:00.71957   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:00:00.71973   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:00:00.71974   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:00:00.71974   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:00:00.71974   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:00:00.71975   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:00:00.71975   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:00:00.71975   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:00:00.71975   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:00:00.71976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:00:00.71976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:00:00.71977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:00:00.71978   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:00:00.71978   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:00:00.71978   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:00:00.71978   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:00.71988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:00:00.71993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:00:00.71994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:00.71994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:00:00.71996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:00:00.71996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:00:00.71997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:00:00.71997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:00:00.71997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:00:00.71998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:00:00.71998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:00:00.71998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:00:00.72010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:00:00.72015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:00:00.72015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:00:00.72016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:00:00.72016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:00:00.72016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:00:00.72016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:00:00.72017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:00:00.72017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:00:00.72017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:00:00.72017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:00:00.72018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:00:00.72029   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:00:00.72030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:00:00.72030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:00:00.72030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:00:00.72031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:00:00.72031   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:00:00.72031   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:00:00.72031   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:00:00.72032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:00:00.72032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:00:00.72032   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:00:00.72033   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:00:00.72033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:00:00.72034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:00:00.72034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:00:00.72035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:00:00.72035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:00:00.72035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:00:00.72035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:00:00.72036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:00:00.72046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:00:00.72048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:00:00.72049   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:00:00.72049   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:00:01.63839 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"Puma starting in cluster mode..."}
2020-10-21_14:00:01.63843 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:00:01.63846 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:00:01.63846 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"* Environment: production"}
2020-10-21_14:00:01.63862 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"* Process workers: 2"}
2020-10-21_14:00:01.63870 {"timestamp":"2020-10-21T14:00:01.638Z","pid":53135,"message":"* Preloading application"}
2020-10-21_14:00:14.40891 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:00:15.17055 {"timestamp":"2020-10-21T14:00:15.170Z","pid":53135,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:00:15.17084 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:00:15.17084 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:00:15.17085   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:00:15.17085   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:00:15.17085   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:00:15.17085   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:00:15.17086   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:00:15.17086   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:00:15.17086   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:00:15.17086   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:00:15.17087   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:00:15.17087   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:00:15.17087   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:00:15.17087   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:00:15.17089   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:00:15.17089   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:00:15.17090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:00:15.17090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:00:15.17090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:00:15.17090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:00:15.17091   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:00:15.17091   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:00:15.17091   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:00:15.17092   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:00:15.17092   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:00:15.17093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:00:15.17093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:00:15.17093   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:00:15.17093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:15.17094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:00:15.17094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:00:15.17094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:15.17095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:00:15.17096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:00:15.17096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:00:15.17096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:00:15.17096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:00:15.17097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:00:15.17097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:00:15.17097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:00:15.17097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:00:15.17098   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:00:15.17099   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:00:15.17099   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:00:15.17099   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:00:15.17100   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:00:15.17100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:00:15.17100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:00:15.17100   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:00:15.17101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:00:15.17101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:00:15.17102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:00:15.17102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:00:15.17102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:00:15.17103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:00:15.17103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:00:15.17103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:00:15.17103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:00:15.17104   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:00:15.17104   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:00:15.17104   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:00:15.17104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:00:15.17104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:00:15.17105   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:00:15.17106   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:00:15.17106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:00:15.17106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:00:15.17106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:00:15.17107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:00:15.17107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:00:15.17107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:00:15.17107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:00:15.17108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:00:15.17108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:00:15.17109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:00:15.17109   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:00:15.17110   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:00:16.09755 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"Puma starting in cluster mode..."}
2020-10-21_14:00:16.09758 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:00:16.09760 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:00:16.09760 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"* Environment: production"}
2020-10-21_14:00:16.09761 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"* Process workers: 2"}
2020-10-21_14:00:16.09761 {"timestamp":"2020-10-21T14:00:16.097Z","pid":53582,"message":"* Preloading application"}
2020-10-21_14:00:29.01067 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:00:29.56833 {"timestamp":"2020-10-21T14:00:29.568Z","pid":53582,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:00:29.56836 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:00:29.56837 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:00:29.56837   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:00:29.56837   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:00:29.56838   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:00:29.56838   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:00:29.56838   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:00:29.56838   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:00:29.56839   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:00:29.56839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:00:29.56839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:00:29.56839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:00:29.56839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:00:29.56840   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:00:29.56841   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:00:29.56841   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:00:29.56841   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:00:29.56841   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:00:29.56842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:00:29.56842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:00:29.56842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:00:29.56842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:00:29.56842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:00:29.56843   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:00:29.56844   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:00:29.56845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:00:29.56845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:00:29.56845   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:00:29.56845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:29.56846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:00:29.56846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:00:29.56846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:29.56846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:00:29.56847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:00:29.56848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:00:29.56848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:00:29.56848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:00:29.56848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:00:29.56849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:00:29.56849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:00:29.56849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:00:29.56850   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:00:29.56850   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:00:29.56850   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:00:29.56851   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:00:29.56851   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:00:29.56851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:00:29.56851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:00:29.56852   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:00:29.56852   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:00:29.56852   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:00:29.56852   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:00:29.56853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:00:29.56853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:00:29.56854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:00:29.56854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:00:29.56854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:00:29.56855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:00:29.56855   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:00:29.56855   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:00:29.56855   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:00:29.56855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:00:29.56856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:00:29.56856   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:00:29.56857   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:00:29.56857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:00:29.56857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:00:29.56857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:00:29.56858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:00:29.56858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:00:29.56858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:00:29.56858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:00:29.56859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:00:29.56859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:00:29.56860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:00:29.56860   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:00:29.56860   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:00:30.34284 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"Puma starting in cluster mode..."}
2020-10-21_14:00:30.34286 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:00:30.34286 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:00:30.34287 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"* Environment: production"}
2020-10-21_14:00:30.34287 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"* Process workers: 2"}
2020-10-21_14:00:30.34287 {"timestamp":"2020-10-21T14:00:30.342Z","pid":54014,"message":"* Preloading application"}
2020-10-21_14:00:43.93938 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:00:44.79423 {"timestamp":"2020-10-21T14:00:44.794Z","pid":54014,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:00:44.79459 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:00:44.79479 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:00:44.79484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:00:44.79485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:00:44.79485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:00:44.79485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:00:44.79485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:00:44.79486   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:00:44.79486   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:00:44.79486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:00:44.79486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:00:44.79487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:00:44.79503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:00:44.79503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:00:44.79505   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:00:44.79505   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:00:44.79505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:00:44.79518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:00:44.79518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:00:44.79518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:00:44.79519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:00:44.79519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:00:44.79519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:00:44.79519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:00:44.79521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:00:44.79521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:00:44.79521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:00:44.79521   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:00:44.79522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:44.79522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:00:44.79538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:00:44.79539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:44.79539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:00:44.79540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:00:44.79541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:00:44.79553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:00:44.79554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:00:44.79554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:00:44.79554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:00:44.79555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:00:44.79555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:00:44.79556   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:00:44.79556   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:00:44.79557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:00:44.79557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:00:44.79557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:00:44.79557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:00:44.79558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:00:44.79572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:00:44.79572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:00:44.79573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:00:44.79573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:00:44.79574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:00:44.79574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:00:44.79574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:00:44.79575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:00:44.79575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:00:44.79575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:00:44.79575   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:00:44.79576   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:00:44.79576   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:00:44.79589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:00:44.79590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:00:44.79590   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:00:44.79591   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:00:44.79591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:00:44.79592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:00:44.79592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:00:44.79592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:00:44.79593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:00:44.79593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:00:44.79593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:00:44.79593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:00:44.79594   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:00:44.79609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:00:44.79609   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:00:44.79610   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:00:45.50489 {"timestamp":"2020-10-21T14:00:45.504Z","pid":54451,"message":"Puma starting in cluster mode..."}
2020-10-21_14:00:45.50507 {"timestamp":"2020-10-21T14:00:45.505Z","pid":54451,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:00:45.50528 {"timestamp":"2020-10-21T14:00:45.505Z","pid":54451,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:00:45.50540 {"timestamp":"2020-10-21T14:00:45.505Z","pid":54451,"message":"* Environment: production"}
2020-10-21_14:00:45.50558 {"timestamp":"2020-10-21T14:00:45.505Z","pid":54451,"message":"* Process workers: 2"}
2020-10-21_14:00:45.50569 {"timestamp":"2020-10-21T14:00:45.505Z","pid":54451,"message":"* Preloading application"}
2020-10-21_14:00:57.83281 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:00:58.73571 {"timestamp":"2020-10-21T14:00:58.735Z","pid":54451,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:00:58.73600 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:00:58.73625 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:00:58.73627   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:00:58.73628   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:00:58.73628   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:00:58.73628   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:00:58.73629   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:00:58.73629   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:00:58.73629   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:00:58.73629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:00:58.73630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:00:58.73630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:00:58.73646   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:00:58.73647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:00:58.73648   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:00:58.73648   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:00:58.73649   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:00:58.73650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:00:58.73650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:00:58.73650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:00:58.73650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:00:58.73658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:00:58.73664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:00:58.73665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:00:58.73666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:00:58.73666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:00:58.73666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:00:58.73667   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:00:58.73667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:58.73667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:00:58.73667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:00:58.73668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:00:58.73668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:00:58.73686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:00:58.73686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:00:58.73686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:00:58.73687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:00:58.73687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:00:58.73687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:00:58.73687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:00:58.73688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:00:58.73689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:00:58.73689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:00:58.73689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:00:58.73690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:00:58.73690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:00:58.73693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:00:58.73693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:00:58.73693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:00:58.73694   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:00:58.73694   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:00:58.73694   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:00:58.73715   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:00:58.73716   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:00:58.73716   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:00:58.73716   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:00:58.73716   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:00:58.73717   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:00:58.73717   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:00:58.73717   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:00:58.73717   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:00:58.73718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:00:58.73718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:00:58.73718   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:00:58.73719   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:00:58.73727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:00:58.73728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:00:58.73728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:00:58.73733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:00:58.73734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:00:58.73734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:00:58.73734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:00:58.73735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:00:58.73735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:00:58.73736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:00:58.73737   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:00:58.73737   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:00:59.63610 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"Puma starting in cluster mode..."}
2020-10-21_14:00:59.63613 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:00:59.63615 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:00:59.63618 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"* Environment: production"}
2020-10-21_14:00:59.63619 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"* Process workers: 2"}
2020-10-21_14:00:59.63645 {"timestamp":"2020-10-21T14:00:59.636Z","pid":54894,"message":"* Preloading application"}
2020-10-21_14:01:12.40193 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:01:13.33235 {"timestamp":"2020-10-21T14:01:13.332Z","pid":54894,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:01:13.33269 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:01:13.33291 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:01:13.33291   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:01:13.33292   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:01:13.33292   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:01:13.33292   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:01:13.33293   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:01:13.33293   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:01:13.33293   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:01:13.33293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:01:13.33293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:01:13.33294   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:01:13.33294   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:01:13.33294   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:01:13.33295   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:01:13.33296   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:01:13.33296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:01:13.33296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:01:13.33296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:01:13.33297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:01:13.33297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:01:13.33297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:01:13.33297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:01:13.33298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:01:13.33299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:01:13.33299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:01:13.33299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:01:13.33300   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:01:13.33301   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:13.33301   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:01:13.33301   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:01:13.33301   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:13.33302   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:01:13.33303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:01:13.33303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:01:13.33303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:01:13.33303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:01:13.33304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:01:13.33304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:01:13.33304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:01:13.33304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:01:13.33305   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:01:13.33306   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:01:13.33306   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:01:13.33306   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:01:13.33306   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:01:13.33307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:01:13.33307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:01:13.33307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:01:13.33307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:01:13.33308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:01:13.33308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:01:13.33309   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:01:13.33309   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:01:13.33309   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:01:13.33310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:01:13.33310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:01:13.33310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:01:13.33311   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:01:13.33311   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:01:13.33311   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:01:13.33311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:01:13.33312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:01:13.33312   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:01:13.33313   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:01:13.33313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:01:13.33313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:01:13.33314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:01:13.33314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:01:13.33314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:01:13.33314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:01:13.33315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:01:13.33315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:01:13.33315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:01:13.33316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:01:13.33317   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:01:13.33317   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:01:14.05956 {"timestamp":"2020-10-21T14:01:14.059Z","pid":55357,"message":"Puma starting in cluster mode..."}
2020-10-21_14:01:14.05982 {"timestamp":"2020-10-21T14:01:14.059Z","pid":55357,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:01:14.05999 {"timestamp":"2020-10-21T14:01:14.059Z","pid":55357,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:01:14.06016 {"timestamp":"2020-10-21T14:01:14.060Z","pid":55357,"message":"* Environment: production"}
2020-10-21_14:01:14.06034 {"timestamp":"2020-10-21T14:01:14.060Z","pid":55357,"message":"* Process workers: 2"}
2020-10-21_14:01:14.06049 {"timestamp":"2020-10-21T14:01:14.060Z","pid":55357,"message":"* Preloading application"}
2020-10-21_14:01:27.57369 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:01:28.48142 {"timestamp":"2020-10-21T14:01:28.481Z","pid":55357,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:01:28.48172 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:01:28.48197 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:01:28.48201   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:01:28.48208   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:01:28.48216   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:01:28.48229   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:01:28.48242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:01:28.48243   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:01:28.48256   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:01:28.48256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:01:28.48256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:01:28.48257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:01:28.48257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:01:28.48257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:01:28.48271   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:01:28.48272   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:01:28.48272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:01:28.48272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:01:28.48273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:01:28.48273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:01:28.48273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:01:28.48273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:01:28.48292   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:01:28.48294   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:01:28.48295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:01:28.48296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:01:28.48296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:01:28.48296   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:01:28.48304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:28.48311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:01:28.48312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:01:28.48312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:28.48312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:01:28.48326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:01:28.48326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:01:28.48326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:01:28.48327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:01:28.48328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:01:28.48328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:01:28.48328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:01:28.48340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:01:28.48342   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:01:28.48342   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:01:28.48343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:01:28.48343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:01:28.48343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:01:28.48343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:01:28.48359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:01:28.48372   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:01:28.48372   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:01:28.48387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:01:28.48388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:01:28.48401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:01:28.48401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:01:28.48402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:01:28.48402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:01:28.48402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:01:28.48402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:01:28.48403   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:01:28.48403   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:01:28.48403   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:01:28.48403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:01:28.48416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:01:28.48417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:01:28.48418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:01:28.48418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:01:28.48419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:01:28.48419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:01:28.48419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:01:28.48419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:01:28.48436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:01:28.48448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:01:28.48449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:01:28.48449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:01:28.48480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:01:28.48488   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:01:28.48504   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:01:29.29067 {"timestamp":"2020-10-21T14:01:29.290Z","pid":55788,"message":"Puma starting in cluster mode..."}
2020-10-21_14:01:29.29096 {"timestamp":"2020-10-21T14:01:29.290Z","pid":55788,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:01:29.29118 {"timestamp":"2020-10-21T14:01:29.291Z","pid":55788,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:01:29.29138 {"timestamp":"2020-10-21T14:01:29.291Z","pid":55788,"message":"* Environment: production"}
2020-10-21_14:01:29.29158 {"timestamp":"2020-10-21T14:01:29.291Z","pid":55788,"message":"* Process workers: 2"}
2020-10-21_14:01:29.29180 {"timestamp":"2020-10-21T14:01:29.291Z","pid":55788,"message":"* Preloading application"}
2020-10-21_14:01:42.80881 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:01:43.41665 {"timestamp":"2020-10-21T14:01:43.416Z","pid":55788,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:01:43.41684 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:01:43.41703 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:01:43.41705   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:01:43.41706   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:01:43.41706   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:01:43.41706   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:01:43.41706   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:01:43.41707   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:01:43.41707   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:01:43.41707   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:01:43.41707   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:01:43.41707   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:01:43.41708   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:01:43.41708   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:01:43.41709   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:01:43.41709   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:01:43.41710   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:01:43.41711   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:01:43.41711   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:01:43.41711   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:01:43.41712   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:01:43.41712   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:01:43.41712   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:01:43.41712   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:01:43.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:01:43.41714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:01:43.41714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:01:43.41714   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:01:43.41714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:43.41715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:01:43.41715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:01:43.41716   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:43.41717   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:01:43.41718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:01:43.41718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:01:43.41718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:01:43.41718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:01:43.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:01:43.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:01:43.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:01:43.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:01:43.41720   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:01:43.41720   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:01:43.41721   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:01:43.41721   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:01:43.41721   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:01:43.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:01:43.41725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:01:43.41725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:01:43.41726   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:01:43.41726   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:01:43.41726   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:01:43.41727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:01:43.41728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:01:43.41728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:01:43.41728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:01:43.41728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:01:43.41729   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:01:43.41729   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:01:43.41729   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:01:43.41729   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:01:43.41729   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:01:43.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:01:43.41730   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:01:43.41731   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:01:43.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:01:43.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:01:43.41732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:01:43.41732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:01:43.41732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:01:43.41732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:01:43.41733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:01:43.41733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:01:43.41733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:01:43.41758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:01:43.41758   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:01:43.41758   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:01:44.09128 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"Puma starting in cluster mode..."}
2020-10-21_14:01:44.09137 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:01:44.09143 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:01:44.09163 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"* Environment: production"}
2020-10-21_14:01:44.09170 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"* Process workers: 2"}
2020-10-21_14:01:44.09177 {"timestamp":"2020-10-21T14:01:44.091Z","pid":56226,"message":"* Preloading application"}
2020-10-21_14:01:57.71884 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:01:58.51757 {"timestamp":"2020-10-21T14:01:58.517Z","pid":56226,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:01:58.51800 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:01:58.51817 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:01:58.51819   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:01:58.51819   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:01:58.51820   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:01:58.51820   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:01:58.51821   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:01:58.51821   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:01:58.51821   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:01:58.51822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:01:58.51831   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:01:58.51832   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:01:58.51833   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:01:58.51833   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:01:58.51835   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:01:58.51839   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:01:58.51840   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:01:58.51840   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:01:58.51841   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:01:58.51841   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:01:58.51841   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:01:58.51842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:01:58.51842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:01:58.51842   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:01:58.51844   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:01:58.51845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:01:58.51845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:01:58.51846   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:01:58.51847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:58.51848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:01:58.51848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:01:58.51848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:01:58.51849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:01:58.51850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:01:58.51851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:01:58.51851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:01:58.51851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:01:58.51852   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:01:58.51852   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:01:58.51852   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:01:58.51853   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:01:58.51854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:01:58.51855   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:01:58.51855   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:01:58.51855   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:01:58.51856   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:01:58.51856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:01:58.51856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:01:58.51857   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:01:58.51857   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:01:58.51858   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:01:58.51858   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:01:58.51860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:01:58.51860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:01:58.51861   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:01:58.51861   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:01:58.51862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:01:58.51862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:01:58.51862   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:01:58.51863   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:01:58.51864   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:01:58.51864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:01:58.51864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:01:58.51865   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:01:58.51866   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:01:58.51867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:01:58.51867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:01:58.51867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:01:58.51868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:01:58.51868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:01:58.51868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:01:58.51869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:01:58.51869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:01:58.51870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:01:58.51871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:01:58.51871   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:01:58.51872   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:01:59.33904 {"timestamp":"2020-10-21T14:01:59.338Z","pid":56670,"message":"Puma starting in cluster mode..."}
2020-10-21_14:01:59.33917 {"timestamp":"2020-10-21T14:01:59.339Z","pid":56670,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:01:59.33937 {"timestamp":"2020-10-21T14:01:59.339Z","pid":56670,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:01:59.33951 {"timestamp":"2020-10-21T14:01:59.339Z","pid":56670,"message":"* Environment: production"}
2020-10-21_14:01:59.33960 {"timestamp":"2020-10-21T14:01:59.339Z","pid":56670,"message":"* Process workers: 2"}
2020-10-21_14:01:59.33973 {"timestamp":"2020-10-21T14:01:59.339Z","pid":56670,"message":"* Preloading application"}
2020-10-21_14:02:11.42975 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:02:12.29323 {"timestamp":"2020-10-21T14:02:12.292Z","pid":56670,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:02:12.29325 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:02:12.29326 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:02:12.29326   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:02:12.29326   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:02:12.29326   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:02:12.29327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:02:12.29327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:02:12.29328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:02:12.29328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:02:12.29328   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:02:12.29329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:02:12.29329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:02:12.29330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:02:12.29330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:02:12.29331   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:02:12.29331   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:02:12.29331   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:02:12.29331   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:02:12.29331   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:02:12.29332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:02:12.29332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:02:12.29332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:02:12.29333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:02:12.29333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:02:12.29334   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:02:12.29334   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:02:12.29334   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:02:12.29334   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:02:12.29335   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:12.29335   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:02:12.29336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:02:12.29336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:12.29336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:02:12.29337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:02:12.29337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:02:12.29337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:02:12.29337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:02:12.29338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:02:12.29338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:02:12.29339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:02:12.29339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:02:12.29340   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:02:12.29343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:02:12.29344   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:02:12.29344   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:02:12.29344   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:02:12.29344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:02:12.29345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:02:12.29345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:02:12.29346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:02:12.29346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:02:12.29346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:02:12.29347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:02:12.29347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:02:12.29347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:02:12.29347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:02:12.29348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:02:12.29348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:02:12.29348   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:02:12.29348   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:02:12.29349   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:02:12.29350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:02:12.29350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:02:12.29350   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:02:12.29350   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:02:12.29350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:02:12.29351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:02:12.29351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:02:12.29351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:02:12.29351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:02:12.29352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:02:12.29352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:02:12.29353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:02:12.29354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:02:12.29354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:02:12.29354   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:02:12.29354   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:02:13.11159 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"Puma starting in cluster mode..."}
2020-10-21_14:02:13.11161 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:02:13.11163 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:02:13.11163 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"* Environment: production"}
2020-10-21_14:02:13.11163 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"* Process workers: 2"}
2020-10-21_14:02:13.11164 {"timestamp":"2020-10-21T14:02:13.111Z","pid":57112,"message":"* Preloading application"}
2020-10-21_14:02:25.38527 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:02:26.04650 {"timestamp":"2020-10-21T14:02:26.046Z","pid":57112,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:02:26.04674 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:02:26.04681 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:02:26.04682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:02:26.04682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:02:26.04682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:02:26.04682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:02:26.04682   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:02:26.04683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:02:26.04683   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:02:26.04683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:02:26.04683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:02:26.04684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:02:26.04684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:02:26.04684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:02:26.04685   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:02:26.04686   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:02:26.04686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:02:26.04686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:02:26.04686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:02:26.04687   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:02:26.04688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:02:26.04688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:02:26.04688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:02:26.04688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:02:26.04689   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:02:26.04690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:02:26.04690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:02:26.04690   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:02:26.04690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:26.04691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:02:26.04691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:02:26.04691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:26.04691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:02:26.04692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:02:26.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:02:26.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:02:26.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:02:26.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:02:26.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:02:26.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:02:26.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:02:26.04695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:02:26.04695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:02:26.04696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:02:26.04696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:02:26.04696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:02:26.04696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:02:26.04697   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:02:26.04697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:02:26.04697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:02:26.04698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:02:26.04698   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:02:26.04699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:02:26.04699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:02:26.04699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:02:26.04699   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:02:26.04700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:02:26.04700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:02:26.04700   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:02:26.04700   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:02:26.04701   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:02:26.04701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:02:26.04701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:02:26.04701   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:02:26.04702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:02:26.04703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:02:26.04703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:02:26.04703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:02:26.04703   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:02:26.04704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:02:26.04704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:02:26.04704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:02:26.04704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:02:26.04705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:02:26.04706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:02:26.04706   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:02:26.04706   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:02:26.89912 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"Puma starting in cluster mode..."}
2020-10-21_14:02:26.89931 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:02:26.89939 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:02:26.89954 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"* Environment: production"}
2020-10-21_14:02:26.89971 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"* Process workers: 2"}
2020-10-21_14:02:26.89985 {"timestamp":"2020-10-21T14:02:26.899Z","pid":57532,"message":"* Preloading application"}
2020-10-21_14:02:42.36074 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:02:43.08838 {"timestamp":"2020-10-21T14:02:43.088Z","pid":57532,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:02:43.08875 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:02:43.08884 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:02:43.08885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:02:43.08885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:02:43.08886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:02:43.08886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:02:43.08886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:02:43.08886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:02:43.08887   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:02:43.08890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:02:43.08890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:02:43.08891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:02:43.08891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:02:43.08891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:02:43.08895   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:02:43.08896   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:02:43.08896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:02:43.08896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:02:43.08897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:02:43.08897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:02:43.08897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:02:43.08897   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:02:43.08898   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:02:43.08898   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:02:43.08919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:02:43.08919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:02:43.08920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:02:43.08920   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:02:43.08920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:43.08920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:02:43.08921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:02:43.08921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:02:43.08922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:02:43.08923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:02:43.08923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:02:43.08923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:02:43.08924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:02:43.08924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:02:43.08924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:02:43.08924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:02:43.08924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:02:43.08925   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:02:43.08926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:02:43.08926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:02:43.08926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:02:43.08926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:02:43.08927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:02:43.08927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:02:43.08927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:02:43.08927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:02:43.08928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:02:43.08928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:02:43.08929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:02:43.08929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:02:43.08929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:02:43.08930   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:02:43.08930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:02:43.08930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:02:43.08930   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:02:43.08930   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:02:43.08931   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:02:43.08931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:02:43.08931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:02:43.08932   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:02:43.08937   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:02:43.08937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:02:43.08937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:02:43.08937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:02:43.08938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:02:43.08938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:02:43.08938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:02:43.08938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:02:43.08939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:02:43.08939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:02:43.08942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:02:43.08942   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:02:43.08942   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:02:43.78261 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"Puma starting in cluster mode..."}
2020-10-21_14:02:43.78265 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:02:43.78265 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:02:43.78266 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"* Environment: production"}
2020-10-21_14:02:43.78267 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"* Process workers: 2"}
2020-10-21_14:02:43.78267 {"timestamp":"2020-10-21T14:02:43.782Z","pid":58007,"message":"* Preloading application"}
2020-10-21_14:03:00.45675 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:03:01.30397 {"timestamp":"2020-10-21T14:03:01.303Z","pid":58007,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:03:01.30415 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:03:01.30438 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:03:01.30441   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:03:01.30441   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:03:01.30441   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:03:01.30442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:03:01.30442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:03:01.30442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:03:01.30442   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:03:01.30456   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:03:01.30456   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:03:01.30457   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:03:01.30457   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:03:01.30457   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:03:01.30504   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:03:01.30504   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:03:01.30505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:03:01.30505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:03:01.30505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:03:01.30505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:03:01.30506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:03:01.30506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:03:01.30506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:03:01.30507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:03:01.30521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:03:01.30522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:03:01.30522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:03:01.30523   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:03:01.30523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:01.30523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:03:01.30523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:03:01.30524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:01.30524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:03:01.30525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:03:01.30525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:03:01.30543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:03:01.30555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:03:01.30556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:03:01.30556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:03:01.30573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:03:01.30585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:03:01.30604   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:03:01.30617   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:03:01.30630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:03:01.30643   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:03:01.30656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:03:01.30669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:03:01.30682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:03:01.30696   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:03:01.30697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:03:01.30697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:03:01.30697   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:03:01.30712   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:03:01.30724   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:03:01.30725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:03:01.30725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:03:01.30740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:03:01.30742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:03:01.30742   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:03:01.30743   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:03:01.30743   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:03:01.30743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:03:01.30743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:03:01.30743   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:03:01.30758   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:03:01.30758   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:03:01.30759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:03:01.30759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:03:01.30759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:03:01.30759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:03:01.30760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:03:01.30760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:03:01.30760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:03:01.30782   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:03:01.30792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:03:01.30805   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:03:01.30818   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:03:02.57704 {"timestamp":"2020-10-21T14:03:02.576Z","pid":58553,"message":"Puma starting in cluster mode..."}
2020-10-21_14:03:02.57806 {"timestamp":"2020-10-21T14:03:02.577Z","pid":58553,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:03:02.57837 {"timestamp":"2020-10-21T14:03:02.578Z","pid":58553,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:03:02.57863 {"timestamp":"2020-10-21T14:03:02.578Z","pid":58553,"message":"* Environment: production"}
2020-10-21_14:03:02.57885 {"timestamp":"2020-10-21T14:03:02.578Z","pid":58553,"message":"* Process workers: 2"}
2020-10-21_14:03:02.57905 {"timestamp":"2020-10-21T14:03:02.579Z","pid":58553,"message":"* Preloading application"}
2020-10-21_14:03:16.82068 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:03:17.51779 {"timestamp":"2020-10-21T14:03:17.517Z","pid":58553,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:03:17.51806 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:03:17.51811 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:03:17.51824   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:03:17.51825   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:03:17.51825   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:03:17.51826   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:03:17.51826   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:03:17.51841   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:03:17.51853   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:03:17.51854   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:03:17.51854   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:03:17.51855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:03:17.51870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:03:17.51883   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:03:17.51885   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:03:17.51885   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:03:17.51885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:03:17.51899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:03:17.51900   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:03:17.51900   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:03:17.51900   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:03:17.51901   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:03:17.51902   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:03:17.51920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:03:17.51931   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:03:17.51932   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:03:17.51932   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:03:17.51933   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:03:17.51954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:17.51955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:03:17.51955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:03:17.51956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:17.51957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:03:17.51957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:03:17.51958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:03:17.51969   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:03:17.51974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:03:17.51986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:03:17.51987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:03:17.51987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:03:17.52001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:03:17.52018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:03:17.52028   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:03:17.52029   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:03:17.52029   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:03:17.52041   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:03:17.52041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:03:17.52042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:03:17.52042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:03:17.52042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:03:17.52042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:03:17.52059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:03:17.52090   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:03:17.52090   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:03:17.52091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:03:17.52091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:03:17.52091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:03:17.52091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:03:17.52091   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:03:17.52092   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:03:17.52092   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:03:17.52092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:03:17.52108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:03:17.52112   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:03:17.52113   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:03:17.52113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:03:17.52113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:03:17.52113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:03:17.52114   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:03:17.52114   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:03:17.52114   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:03:17.52114   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:03:17.52115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:03:17.52126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:03:17.52128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:03:17.52128   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:03:17.52128   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:03:18.50517 {"timestamp":"2020-10-21T14:03:18.505Z","pid":59024,"message":"Puma starting in cluster mode..."}
2020-10-21_14:03:18.50542 {"timestamp":"2020-10-21T14:03:18.505Z","pid":59024,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:03:18.50559 {"timestamp":"2020-10-21T14:03:18.505Z","pid":59024,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:03:18.50575 {"timestamp":"2020-10-21T14:03:18.505Z","pid":59024,"message":"* Environment: production"}
2020-10-21_14:03:18.50591 {"timestamp":"2020-10-21T14:03:18.505Z","pid":59024,"message":"* Process workers: 2"}
2020-10-21_14:03:18.50607 {"timestamp":"2020-10-21T14:03:18.506Z","pid":59024,"message":"* Preloading application"}
2020-10-21_14:03:31.78469 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:03:32.61918 {"timestamp":"2020-10-21T14:03:32.619Z","pid":59024,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:03:32.61953 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:03:32.61976 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:03:32.61977   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:03:32.61977   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:03:32.61977   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:03:32.61978   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:03:32.61978   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:03:32.61978   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:03:32.61978   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:03:32.61978   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:03:32.61979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:03:32.61979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:03:32.61979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:03:32.61979   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:03:32.61981   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:03:32.61981   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:03:32.61981   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:03:32.61981   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:03:32.61982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:03:32.61982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:03:32.61982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:03:32.61982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:03:32.61983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:03:32.61983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:03:32.61984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:03:32.61984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:03:32.61984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:03:32.61985   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:03:32.61985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:32.61985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:03:32.61985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:03:32.61986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:32.61987   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:03:32.61988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:03:32.61988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:03:32.61988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:03:32.61989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:03:32.61989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:03:32.61989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:03:32.61989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:03:32.61990   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:03:32.61991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:03:32.61991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:03:32.61991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:03:32.61991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:03:32.61992   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:03:32.61992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:03:32.61992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:03:32.61992   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:03:32.61993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:03:32.61993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:03:32.61993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:03:32.61994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:03:32.61994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:03:32.61995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:03:32.61995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:03:32.61995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:03:32.61995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:03:32.61996   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:03:32.61996   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:03:32.61996   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:03:32.61996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:03:32.61997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:03:32.61997   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:03:32.61998   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:03:32.61998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:03:32.61999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:03:32.61999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:03:32.61999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:03:32.61999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:03:32.62000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:03:32.62000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:03:32.62000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:03:32.62000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:03:32.62002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:03:32.62002   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:03:32.62002   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:03:33.85296 {"timestamp":"2020-10-21T14:03:33.852Z","pid":59478,"message":"Puma starting in cluster mode..."}
2020-10-21_14:03:33.85309 {"timestamp":"2020-10-21T14:03:33.853Z","pid":59478,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:03:33.85318 {"timestamp":"2020-10-21T14:03:33.853Z","pid":59478,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:03:33.85328 {"timestamp":"2020-10-21T14:03:33.853Z","pid":59478,"message":"* Environment: production"}
2020-10-21_14:03:33.85336 {"timestamp":"2020-10-21T14:03:33.853Z","pid":59478,"message":"* Process workers: 2"}
2020-10-21_14:03:33.85343 {"timestamp":"2020-10-21T14:03:33.853Z","pid":59478,"message":"* Preloading application"}
2020-10-21_14:03:49.53547 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:03:50.26734 {"timestamp":"2020-10-21T14:03:50.267Z","pid":59478,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:03:50.26765 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:03:50.26783 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:03:50.26784   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:03:50.26785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:03:50.26785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:03:50.26785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:03:50.26785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:03:50.26786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:03:50.26786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:03:50.26786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:03:50.26786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:03:50.26787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:03:50.26788   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:03:50.26788   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:03:50.26789   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:03:50.26789   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:03:50.26790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:03:50.26790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:03:50.26790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:03:50.26790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:03:50.26791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:03:50.26791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:03:50.26791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:03:50.26791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:03:50.26792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:03:50.26793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:03:50.26793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:03:50.26793   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:03:50.26793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:50.26794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:03:50.26794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:03:50.26794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:03:50.26794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:03:50.26795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:03:50.26796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:03:50.26796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:03:50.26796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:03:50.26796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:03:50.26797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:03:50.26797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:03:50.26797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:03:50.26799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:03:50.26799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:03:50.26799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:03:50.26799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:03:50.26800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:03:50.26800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:03:50.26800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:03:50.26800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:03:50.26801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:03:50.26801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:03:50.26801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:03:50.26802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:03:50.26802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:03:50.26803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:03:50.26803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:03:50.26819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:03:50.26820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:03:50.26820   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:03:50.26820   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:03:50.26821   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:03:50.26821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:03:50.26821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:03:50.26821   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:03:50.26823   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:03:50.26823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:03:50.26823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:03:50.26823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:03:50.26823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:03:50.26824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:03:50.26824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:03:50.26824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:03:50.26825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:03:50.26825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:03:50.26840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:03:50.26841   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:03:50.26842   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:03:51.14648 {"timestamp":"2020-10-21T14:03:51.146Z","pid":59981,"message":"Puma starting in cluster mode..."}
2020-10-21_14:03:51.14673 {"timestamp":"2020-10-21T14:03:51.146Z","pid":59981,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:03:51.14692 {"timestamp":"2020-10-21T14:03:51.146Z","pid":59981,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:03:51.14711 {"timestamp":"2020-10-21T14:03:51.147Z","pid":59981,"message":"* Environment: production"}
2020-10-21_14:03:51.14729 {"timestamp":"2020-10-21T14:03:51.147Z","pid":59981,"message":"* Process workers: 2"}
2020-10-21_14:03:51.14748 {"timestamp":"2020-10-21T14:03:51.147Z","pid":59981,"message":"* Preloading application"}
2020-10-21_14:04:04.87946 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:04:05.68538 {"timestamp":"2020-10-21T14:04:05.685Z","pid":59981,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:04:05.68563 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:04:05.68591 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:04:05.68593   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:04:05.68594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:04:05.68594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:04:05.68594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:04:05.68595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:04:05.68595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:04:05.68595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:04:05.68595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:04:05.68595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:04:05.68596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:04:05.68596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:04:05.68596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:04:05.68613   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:04:05.68614   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:04:05.68614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:04:05.68615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:04:05.68615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:04:05.68615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:04:05.68615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:04:05.68616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:04:05.68631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:04:05.68643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:04:05.68664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:04:05.68670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:04:05.68691   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:04:05.68703   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:04:05.68704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:05.68704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:04:05.68704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:04:05.68705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:05.68705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:04:05.68738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:04:05.68739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:04:05.68739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:04:05.68739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:04:05.68739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:04:05.68739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:04:05.68740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:04:05.68740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:04:05.68755   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:04:05.68767   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:04:05.68768   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:04:05.68768   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:04:05.68783   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:04:05.68794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:04:05.68806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:04:05.68810   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:04:05.68811   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:04:05.68811   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:04:05.68811   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:04:05.68813   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:04:05.68822   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:04:05.68823   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:04:05.68823   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:04:05.68828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:04:05.68836   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:04:05.68843   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:04:05.68844   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:04:05.68855   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:04:05.68855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:04:05.68856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:04:05.68870   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:04:05.68871   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:04:05.68872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:04:05.68872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:04:05.68872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:04:05.68872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:04:05.68887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:04:05.68888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:04:05.68900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:04:05.68901   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:04:05.68902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:04:05.68922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:04:05.68928   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:04:05.68940   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:04:06.49472 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"Puma starting in cluster mode..."}
2020-10-21_14:04:06.49475 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:04:06.49476 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:04:06.49476 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"* Environment: production"}
2020-10-21_14:04:06.49476 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"* Process workers: 2"}
2020-10-21_14:04:06.49477 {"timestamp":"2020-10-21T14:04:06.494Z","pid":60443,"message":"* Preloading application"}
2020-10-21_14:04:21.46458 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:04:22.44235 {"timestamp":"2020-10-21T14:04:22.442Z","pid":60443,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:04:22.44273 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:04:22.44298 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:04:22.44300   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:04:22.44301   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:04:22.44301   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:04:22.44302   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:04:22.44302   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:04:22.44303   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:04:22.44303   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:04:22.44303   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:04:22.44304   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:04:22.44304   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:04:22.44305   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:04:22.44305   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:04:22.44319   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:04:22.44320   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:04:22.44321   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:04:22.44321   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:04:22.44321   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:04:22.44322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:04:22.44322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:04:22.44322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:04:22.44323   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:04:22.44323   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:04:22.44324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:04:22.44325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:04:22.44325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:04:22.44325   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:04:22.44326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:22.44326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:04:22.44327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:04:22.44327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:22.44328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:04:22.44330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:04:22.44330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:04:22.44330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:04:22.44338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:04:22.44338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:04:22.44339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:04:22.44339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:04:22.44339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:04:22.44345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:04:22.44345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:04:22.44345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:04:22.44346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:04:22.44346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:04:22.44346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:04:22.44347   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:04:22.44347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:04:22.44347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:04:22.44348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:04:22.44348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:04:22.44349   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:04:22.44350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:04:22.44350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:04:22.44350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:04:22.44351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:04:22.44351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:04:22.44351   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:04:22.44352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:04:22.44352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:04:22.44352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:04:22.44353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:04:22.44353   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:04:22.44355   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:04:22.44355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:04:22.44365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:04:22.44365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:04:22.44365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:04:22.44366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:04:22.44370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:04:22.44370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:04:22.44370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:04:22.44371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:04:22.44373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:04:22.44373   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:04:22.44373   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:04:23.56850 {"timestamp":"2020-10-21T14:04:23.568Z","pid":60923,"message":"Puma starting in cluster mode..."}
2020-10-21_14:04:23.56891 {"timestamp":"2020-10-21T14:04:23.568Z","pid":60923,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:04:23.56905 {"timestamp":"2020-10-21T14:04:23.568Z","pid":60923,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:04:23.56924 {"timestamp":"2020-10-21T14:04:23.569Z","pid":60923,"message":"* Environment: production"}
2020-10-21_14:04:23.56946 {"timestamp":"2020-10-21T14:04:23.569Z","pid":60923,"message":"* Process workers: 2"}
2020-10-21_14:04:23.56967 {"timestamp":"2020-10-21T14:04:23.569Z","pid":60923,"message":"* Preloading application"}
2020-10-21_14:04:41.43539 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:04:42.14333 {"timestamp":"2020-10-21T14:04:42.143Z","pid":60923,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:04:42.14372 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:04:42.14404 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:04:42.14407   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:04:42.14408   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:04:42.14409   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:04:42.14409   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:04:42.14409   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:04:42.14410   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:04:42.14430   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:04:42.14431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:04:42.14431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:04:42.14431   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:04:42.14432   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:04:42.14434   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:04:42.14446   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:04:42.14446   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:04:42.14447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:04:42.14447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:04:42.14448   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:04:42.14448   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:04:42.14448   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:04:42.14455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:04:42.14456   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:04:42.14456   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:04:42.14458   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:04:42.14458   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:04:42.14459   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:04:42.14459   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:04:42.14460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:42.14460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:04:42.14461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:04:42.14461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:42.14502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:04:42.14507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:04:42.14508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:04:42.14509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:04:42.14509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:04:42.14510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:04:42.14510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:04:42.14520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:04:42.14521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:04:42.14523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:04:42.14523   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:04:42.14530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:04:42.14531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:04:42.14531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:04:42.14532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:04:42.14532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:04:42.14532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:04:42.14533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:04:42.14533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:04:42.14533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:04:42.14535   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:04:42.14536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:04:42.14536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:04:42.14548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:04:42.14549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:04:42.14549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:04:42.14550   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:04:42.14550   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:04:42.14550   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:04:42.14555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:04:42.14555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:04:42.14555   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:04:42.14557   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:04:42.14557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:04:42.14558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:04:42.14558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:04:42.14558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:04:42.14559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:04:42.14559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:04:42.14559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:04:42.14560   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:04:42.14560   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:04:42.14562   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:04:42.14590   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:04:42.14592   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:04:43.04512 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"Puma starting in cluster mode..."}
2020-10-21_14:04:43.04532 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:04:43.04551 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:04:43.04552 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"* Environment: production"}
2020-10-21_14:04:43.04553 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"* Process workers: 2"}
2020-10-21_14:04:43.04554 {"timestamp":"2020-10-21T14:04:43.045Z","pid":61494,"message":"* Preloading application"}
2020-10-21_14:04:56.85197 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:04:57.64853 {"timestamp":"2020-10-21T14:04:57.648Z","pid":61494,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:04:57.64891 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:04:57.64913 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:04:57.64914   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:04:57.64914   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:04:57.64914   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:04:57.64915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:04:57.64915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:04:57.64915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:04:57.64915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:04:57.64916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:04:57.64916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:04:57.64916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:04:57.64916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:04:57.64917   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:04:57.64918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:04:57.64918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:04:57.64918   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:04:57.64919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:04:57.64919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:04:57.64919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:04:57.64920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:04:57.64920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:04:57.64920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:04:57.64920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:04:57.64922   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:04:57.64923   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:04:57.64923   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:04:57.64923   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:04:57.64923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:57.64924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:04:57.64924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:04:57.64924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:04:57.64924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:04:57.64925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:04:57.64926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:04:57.64926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:04:57.64926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:04:57.64926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:04:57.64927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:04:57.64927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:04:57.64927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:04:57.64928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:04:57.64928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:04:57.64929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:04:57.64929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:04:57.64929   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:04:57.64929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:04:57.64930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:04:57.64930   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:04:57.64930   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:04:57.64930   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:04:57.64931   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:04:57.64932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:04:57.64932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:04:57.64932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:04:57.64932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:04:57.64933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:04:57.64933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:04:57.64933   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:04:57.64933   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:04:57.64934   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:04:57.64934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:04:57.64934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:04:57.64934   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:04:57.64935   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:04:57.64936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:04:57.64936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:04:57.64936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:04:57.64936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:04:57.64937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:04:57.64937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:04:57.64937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:04:57.64937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:04:57.64938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:04:57.64939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:04:57.64939   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:04:57.64939   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:04:58.43576 {"timestamp":"2020-10-21T14:04:58.435Z","pid":61953,"message":"Puma starting in cluster mode..."}
2020-10-21_14:04:58.43589 {"timestamp":"2020-10-21T14:04:58.435Z","pid":61953,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:04:58.43619 {"timestamp":"2020-10-21T14:04:58.436Z","pid":61953,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:04:58.43639 {"timestamp":"2020-10-21T14:04:58.436Z","pid":61953,"message":"* Environment: production"}
2020-10-21_14:04:58.43650 {"timestamp":"2020-10-21T14:04:58.436Z","pid":61953,"message":"* Process workers: 2"}
2020-10-21_14:04:58.43756 {"timestamp":"2020-10-21T14:04:58.437Z","pid":61953,"message":"* Preloading application"}
2020-10-21_14:05:12.86337 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:05:13.92472 {"timestamp":"2020-10-21T14:05:13.924Z","pid":61953,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:05:13.92534 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:05:13.92557 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:05:13.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:05:13.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:05:13.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:05:13.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:05:13.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:05:13.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:05:13.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:05:13.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:05:13.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:05:13.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:05:13.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:05:13.92561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:05:13.92562   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:05:13.92562   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:05:13.92562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:05:13.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:05:13.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:05:13.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:05:13.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:05:13.92564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:05:13.92564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:05:13.92564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:05:13.92565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:05:13.92565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:05:13.92566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:05:13.92566   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:05:13.92566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:13.92566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:05:13.92567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:05:13.92567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:13.92567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:05:13.92568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:05:13.92569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:05:13.92569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:05:13.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:05:13.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:05:13.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:05:13.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:05:13.92571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:05:13.92572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:05:13.92572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:05:13.92572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:05:13.92573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:05:13.92573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:05:13.92573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:05:13.92573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:05:13.92574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:05:13.92574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:05:13.92574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:05:13.92574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:05:13.92575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:05:13.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:05:13.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:05:13.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:05:13.92576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:05:13.92577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:05:13.92577   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:05:13.92577   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:05:13.92577   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:05:13.92578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:05:13.92578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:05:13.92578   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:05:13.92579   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:05:13.92579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:05:13.92580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:05:13.92580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:05:13.92580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:05:13.92581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:05:13.92581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:05:13.92581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:05:13.92581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:05:13.92582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:05:13.92583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:05:13.92583   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:05:13.92583   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:05:14.74086 {"timestamp":"2020-10-21T14:05:14.740Z","pid":62443,"message":"Puma starting in cluster mode..."}
2020-10-21_14:05:14.74108 {"timestamp":"2020-10-21T14:05:14.741Z","pid":62443,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:05:14.74121 {"timestamp":"2020-10-21T14:05:14.741Z","pid":62443,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:05:14.74137 {"timestamp":"2020-10-21T14:05:14.741Z","pid":62443,"message":"* Environment: production"}
2020-10-21_14:05:14.74152 {"timestamp":"2020-10-21T14:05:14.741Z","pid":62443,"message":"* Process workers: 2"}
2020-10-21_14:05:14.74166 {"timestamp":"2020-10-21T14:05:14.741Z","pid":62443,"message":"* Preloading application"}
2020-10-21_14:05:28.29990 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:05:29.13515 {"timestamp":"2020-10-21T14:05:29.135Z","pid":62443,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:05:29.13548 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:05:29.13567 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:05:29.13568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:05:29.13568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:05:29.13569   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:05:29.13569   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:05:29.13569   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:05:29.13569   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:05:29.13570   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:05:29.13570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:05:29.13570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:05:29.13570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:05:29.13571   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:05:29.13571   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:05:29.13572   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:05:29.13573   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:05:29.13574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:05:29.13574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:05:29.13574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:05:29.13574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:05:29.13575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:05:29.13575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:05:29.13575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:05:29.13575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:05:29.13576   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:05:29.13577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:05:29.13577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:05:29.13577   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:05:29.13577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:29.13578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:05:29.13578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:05:29.13578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:29.13578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:05:29.13579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:05:29.13580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:05:29.13580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:05:29.13580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:05:29.13580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:05:29.13581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:05:29.13581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:05:29.13581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:05:29.13582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:05:29.13582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:05:29.13583   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:05:29.13583   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:05:29.13583   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:05:29.13584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:05:29.13584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:05:29.13584   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:05:29.13584   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:05:29.13585   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:05:29.13585   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:05:29.13586   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:05:29.13586   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:05:29.13586   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:05:29.13587   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:05:29.13587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:05:29.13587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:05:29.13587   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:05:29.13588   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:05:29.13588   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:05:29.13588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:05:29.13588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:05:29.13589   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:05:29.13590   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:05:29.13590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:05:29.13590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:05:29.13590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:05:29.13590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:05:29.13591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:05:29.13591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:05:29.13591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:05:29.13591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:05:29.13592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:05:29.13593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:05:29.13593   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:05:29.13593   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:05:30.01897 {"timestamp":"2020-10-21T14:05:30.018Z","pid":62886,"message":"Puma starting in cluster mode..."}
2020-10-21_14:05:30.01920 {"timestamp":"2020-10-21T14:05:30.019Z","pid":62886,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:05:30.01938 {"timestamp":"2020-10-21T14:05:30.019Z","pid":62886,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:05:30.01953 {"timestamp":"2020-10-21T14:05:30.019Z","pid":62886,"message":"* Environment: production"}
2020-10-21_14:05:30.01968 {"timestamp":"2020-10-21T14:05:30.019Z","pid":62886,"message":"* Process workers: 2"}
2020-10-21_14:05:30.01983 {"timestamp":"2020-10-21T14:05:30.019Z","pid":62886,"message":"* Preloading application"}
2020-10-21_14:05:44.05488 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:05:45.12476 {"timestamp":"2020-10-21T14:05:45.124Z","pid":62886,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:05:45.12516 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:05:45.12535 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:05:45.12539   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:05:45.12540   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:05:45.12540   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:05:45.12540   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:05:45.12540   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:05:45.12541   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:05:45.12541   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:05:45.12552   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:05:45.12552   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:05:45.12553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:05:45.12553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:05:45.12553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:05:45.12554   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:05:45.12555   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:05:45.12555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:05:45.12555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:05:45.12555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:05:45.12556   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:05:45.12572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:05:45.12573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:05:45.12573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:05:45.12573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:05:45.12575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:05:45.12585   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:05:45.12586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:05:45.12586   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:05:45.12587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:45.12587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:05:45.12587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:05:45.12587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:05:45.12587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:05:45.12598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:05:45.12598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:05:45.12599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:05:45.12599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:05:45.12599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:05:45.12599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:05:45.12600   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:05:45.12600   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:05:45.12606   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:05:45.12607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:05:45.12607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:05:45.12607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:05:45.12607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:05:45.12608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:05:45.12608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:05:45.12624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:05:45.12624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:05:45.12625   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:05:45.12625   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:05:45.12626   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:05:45.12626   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:05:45.12627   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:05:45.12627   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:05:45.12627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:05:45.12628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:05:45.12628   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:05:45.12628   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:05:45.12628   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:05:45.12629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:05:45.12629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:05:45.12629   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:05:45.12636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:05:45.12637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:05:45.12637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:05:45.12637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:05:45.12638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:05:45.12638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:05:45.12638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:05:45.12638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:05:45.12638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:05:45.12639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:05:45.12640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:05:45.12640   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:05:45.12640   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:05:45.85502 {"timestamp":"2020-10-21T14:05:45.854Z","pid":63345,"message":"Puma starting in cluster mode..."}
2020-10-21_14:05:45.85530 {"timestamp":"2020-10-21T14:05:45.855Z","pid":63345,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:05:45.85545 {"timestamp":"2020-10-21T14:05:45.855Z","pid":63345,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:05:45.85560 {"timestamp":"2020-10-21T14:05:45.855Z","pid":63345,"message":"* Environment: production"}
2020-10-21_14:05:45.85574 {"timestamp":"2020-10-21T14:05:45.855Z","pid":63345,"message":"* Process workers: 2"}
2020-10-21_14:05:45.85588 {"timestamp":"2020-10-21T14:05:45.855Z","pid":63345,"message":"* Preloading application"}
2020-10-21_14:05:59.66527 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:06:00.54707 {"timestamp":"2020-10-21T14:06:00.544Z","pid":63345,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:06:00.54834 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:06:00.55524 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:06:00.55526   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:06:00.55527   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:06:00.55527   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:06:00.55528   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:06:00.55528   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:06:00.55528   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:06:00.55528   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:06:00.55528   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:06:00.55529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:06:00.55529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:06:00.55529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:06:00.55529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:06:00.55530   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:06:00.55531   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:06:00.55531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:06:00.55531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:06:00.55531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:06:00.55532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:06:00.55532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:06:00.55532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:06:00.55532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:06:00.55533   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:06:00.55534   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:06:00.55534   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:06:00.55534   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:06:00.55534   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:06:00.55534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:00.55535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:06:00.55535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:06:00.55535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:00.55535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:06:00.55536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:06:00.55537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:06:00.55537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:06:00.55537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:06:00.55538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:06:00.55538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:06:00.55538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:06:00.55538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:06:00.55539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:06:00.55540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:06:00.55540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:06:00.55540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:06:00.55540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:06:00.55540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:06:00.55541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:06:00.55541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:06:00.55541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:06:00.55541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:06:00.55542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:06:00.55543   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:06:00.55543   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:06:00.55543   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:06:00.55543   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:06:00.55543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:06:00.55544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:06:00.55544   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:06:00.55544   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:06:00.55544   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:06:00.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:06:00.55545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:06:00.55545   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:06:00.55546   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:06:00.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:06:00.55546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:06:00.55547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:06:00.55547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:06:00.55547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:06:00.55548   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:06:00.55548   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:06:00.55548   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:06:00.55548   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:06:00.55549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:06:00.55550   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:06:00.55550   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:06:01.34557 {"timestamp":"2020-10-21T14:06:01.345Z","pid":63825,"message":"Puma starting in cluster mode..."}
2020-10-21_14:06:01.34585 {"timestamp":"2020-10-21T14:06:01.345Z","pid":63825,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:06:01.34604 {"timestamp":"2020-10-21T14:06:01.345Z","pid":63825,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:06:01.34619 {"timestamp":"2020-10-21T14:06:01.346Z","pid":63825,"message":"* Environment: production"}
2020-10-21_14:06:01.34635 {"timestamp":"2020-10-21T14:06:01.346Z","pid":63825,"message":"* Process workers: 2"}
2020-10-21_14:06:01.34651 {"timestamp":"2020-10-21T14:06:01.346Z","pid":63825,"message":"* Preloading application"}
2020-10-21_14:06:14.79854 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:06:15.66223 {"timestamp":"2020-10-21T14:06:15.662Z","pid":63825,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:06:15.66256 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:06:15.66277 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:06:15.66281   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:06:15.66293   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:06:15.66294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:06:15.66294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:06:15.66294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:06:15.66295   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:06:15.66295   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:06:15.66310   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:06:15.66311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:06:15.66311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:06:15.66311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:06:15.66312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:06:15.66313   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:06:15.66313   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:06:15.66329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:06:15.66329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:06:15.66330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:06:15.66330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:06:15.66330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:06:15.66330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:06:15.66331   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:06:15.66331   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:06:15.66332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:06:15.66332   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:06:15.66340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:06:15.66344   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:06:15.66345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:15.66345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:06:15.66346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:06:15.66346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:15.66346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:06:15.66347   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:06:15.66348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:06:15.66348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:06:15.66348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:06:15.66348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:06:15.66349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:06:15.66349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:06:15.66349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:06:15.66362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:06:15.66363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:06:15.66363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:06:15.66363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:06:15.66364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:06:15.66364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:06:15.66365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:06:15.66365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:06:15.66365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:06:15.66365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:06:15.66366   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:06:15.66367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:06:15.66367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:06:15.66367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:06:15.66368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:06:15.66368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:06:15.66368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:06:15.66380   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:06:15.66381   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:06:15.66381   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:06:15.66382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:06:15.66382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:06:15.66382   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:06:15.66383   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:06:15.66384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:06:15.66384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:06:15.66384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:06:15.66384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:06:15.66385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:06:15.66385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:06:15.66385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:06:15.66385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:06:15.66386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:06:15.66387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:06:15.66387   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:06:15.66387   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:06:16.45876 {"timestamp":"2020-10-21T14:06:16.458Z","pid":64287,"message":"Puma starting in cluster mode..."}
2020-10-21_14:06:16.45900 {"timestamp":"2020-10-21T14:06:16.458Z","pid":64287,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:06:16.45920 {"timestamp":"2020-10-21T14:06:16.459Z","pid":64287,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:06:16.45939 {"timestamp":"2020-10-21T14:06:16.459Z","pid":64287,"message":"* Environment: production"}
2020-10-21_14:06:16.45959 {"timestamp":"2020-10-21T14:06:16.459Z","pid":64287,"message":"* Process workers: 2"}
2020-10-21_14:06:16.45980 {"timestamp":"2020-10-21T14:06:16.459Z","pid":64287,"message":"* Preloading application"}
2020-10-21_14:06:28.71681 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:06:29.46478 {"timestamp":"2020-10-21T14:06:29.464Z","pid":64287,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:06:29.46531 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:06:29.46545 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:06:29.46546   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:06:29.46546   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:06:29.46546   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:06:29.46547   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:06:29.46547   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:06:29.46547   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:06:29.46547   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:06:29.46547   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:06:29.46548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:06:29.46548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:06:29.46548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:06:29.46548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:06:29.46550   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:06:29.46550   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:06:29.46550   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:06:29.46550   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:06:29.46551   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:06:29.46551   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:06:29.46551   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:06:29.46551   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:06:29.46552   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:06:29.46552   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:06:29.46553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:06:29.46553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:06:29.46554   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:06:29.46554   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:06:29.46555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:29.46555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:06:29.46555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:06:29.46555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:29.46556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:06:29.46557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:06:29.46557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:06:29.46557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:06:29.46558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:06:29.46558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:06:29.46558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:06:29.46558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:06:29.46559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:06:29.46560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:06:29.46560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:06:29.46560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:06:29.46560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:06:29.46561   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:06:29.46561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:06:29.46561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:06:29.46561   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:06:29.46562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:06:29.46562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:06:29.46562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:06:29.46603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:06:29.46603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:06:29.46603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:06:29.46603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:06:29.46604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:06:29.46604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:06:29.46604   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:06:29.46605   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:06:29.46605   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:06:29.46605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:06:29.46605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:06:29.46606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:06:29.46607   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:06:29.46607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:06:29.46607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:06:29.46608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:06:29.46608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:06:29.46608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:06:29.46608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:06:29.46609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:06:29.46609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:06:29.46609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:06:29.46610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:06:29.46611   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:06:29.46611   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:06:30.45387 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"Puma starting in cluster mode..."}
2020-10-21_14:06:30.45390 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:06:30.45390 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:06:30.45391 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"* Environment: production"}
2020-10-21_14:06:30.45391 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"* Process workers: 2"}
2020-10-21_14:06:30.45392 {"timestamp":"2020-10-21T14:06:30.453Z","pid":64714,"message":"* Preloading application"}
2020-10-21_14:06:45.05164 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:06:45.92428 {"timestamp":"2020-10-21T14:06:45.924Z","pid":64714,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:06:45.92458 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:06:45.92462 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:06:45.92463   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:06:45.92463   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:06:45.92480   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:06:45.92483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:06:45.92483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:06:45.92484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:06:45.92484   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:06:45.92484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:06:45.92484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:06:45.92485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:06:45.92485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:06:45.92485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:06:45.92499   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:06:45.92503   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:06:45.92504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:06:45.92504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:06:45.92505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:06:45.92518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:06:45.92519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:06:45.92519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:06:45.92520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:06:45.92534   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:06:45.92535   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:06:45.92535   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:06:45.92550   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:06:45.92552   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:06:45.92553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:45.92553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:06:45.92553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:06:45.92553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:06:45.92555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:06:45.92555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:06:45.92555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:06:45.92555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:06:45.92571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:06:45.92572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:06:45.92585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:06:45.92585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:06:45.92586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:06:45.92599   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:06:45.92600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:06:45.92600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:06:45.92613   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:06:45.92615   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:06:45.92615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:06:45.92616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:06:45.92616   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:06:45.92616   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:06:45.92616   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:06:45.92618   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:06:45.92618   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:06:45.92618   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:06:45.92633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:06:45.92635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:06:45.92636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:06:45.92636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:06:45.92636   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:06:45.92637   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:06:45.92637   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:06:45.92637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:06:45.92637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:06:45.92651   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:06:45.92672   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:06:45.92674   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:06:45.92675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:06:45.92675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:06:45.92675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:06:45.92675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:06:45.92676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:06:45.92676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:06:45.92677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:06:45.92677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:06:45.92693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:06:45.92694   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:06:45.92694   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:06:46.59227 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"Puma starting in cluster mode..."}
2020-10-21_14:06:46.59240 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:06:46.59264 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:06:46.59272 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"* Environment: production"}
2020-10-21_14:06:46.59284 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"* Process workers: 2"}
2020-10-21_14:06:46.59297 {"timestamp":"2020-10-21T14:06:46.592Z","pid":65181,"message":"* Preloading application"}
2020-10-21_14:06:59.82644 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:07:00.82127 {"timestamp":"2020-10-21T14:07:00.820Z","pid":65181,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:07:00.82162 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:07:00.82179 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:07:00.82180   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:07:00.82181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:07:00.82181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:07:00.82181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:07:00.82182   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:07:00.82182   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:07:00.82182   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:07:00.82183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:07:00.82183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:07:00.82184   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:07:00.82184   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:07:00.82184   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:07:00.82186   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:07:00.82187   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:07:00.82187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:07:00.82187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:07:00.82189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:07:00.82189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:07:00.82190   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:07:00.82190   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:07:00.82190   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:07:00.82191   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:07:00.82192   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:07:00.82193   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:07:00.82193   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:07:00.82194   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:07:00.82194   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:00.82194   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:07:00.82195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:07:00.82195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:00.82195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:07:00.82197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:07:00.82197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:07:00.82198   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:07:00.82198   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:07:00.82199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:07:00.82199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:07:00.82199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:07:00.82200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:07:00.82201   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:07:00.82202   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:07:00.82202   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:07:00.82202   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:07:00.82203   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:07:00.82203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:07:00.82203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:07:00.82204   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:07:00.82204   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:07:00.82205   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:07:00.82205   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:07:00.82207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:07:00.82207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:07:00.82207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:07:00.82208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:07:00.82208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:07:00.82208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:07:00.82209   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:07:00.82209   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:07:00.82209   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:07:00.82210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:07:00.82210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:07:00.82210   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:07:00.82212   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:07:00.82212   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:07:00.82213   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:07:00.82213   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:07:00.82213   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:07:00.82214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:07:00.82214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:07:00.82214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:07:00.82215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:07:00.82215   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:07:00.82217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:07:00.82217   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:07:00.82217   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:07:01.75740 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"Puma starting in cluster mode..."}
2020-10-21_14:07:01.75744 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:07:01.75745 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:07:01.75746 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"* Environment: production"}
2020-10-21_14:07:01.75748 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"* Process workers: 2"}
2020-10-21_14:07:01.75776 {"timestamp":"2020-10-21T14:07:01.757Z","pid":65613,"message":"* Preloading application"}
2020-10-21_14:07:14.56013 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:07:15.38769 {"timestamp":"2020-10-21T14:07:15.387Z","pid":65613,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:07:15.38962 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:07:15.39006 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:07:15.39023   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:07:15.39033   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:07:15.39046   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:07:15.39058   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:07:15.39070   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:07:15.39082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:07:15.39095   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:07:15.39107   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:07:15.39128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:07:15.39130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:07:15.39130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:07:15.39131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:07:15.39132   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:07:15.39132   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:07:15.39132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:07:15.39133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:07:15.39149   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:07:15.39150   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:07:15.39150   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:07:15.39150   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:07:15.39151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:07:15.39151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:07:15.39152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:07:15.39170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:07:15.39172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:07:15.39172   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:07:15.39172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:15.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:07:15.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:07:15.39174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:15.39174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:07:15.39190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:07:15.39190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:07:15.39191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:07:15.39191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:07:15.39191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:07:15.39191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:07:15.39192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:07:15.39192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:07:15.39217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:07:15.39224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:07:15.39225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:07:15.39236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:07:15.39238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:07:15.39239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:07:15.39239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:07:15.39240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:07:15.39240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:07:15.39240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:07:15.39241   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:07:15.39258   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:07:15.39259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:07:15.39259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:07:15.39259   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:07:15.39260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:07:15.39260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:07:15.39260   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:07:15.39260   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:07:15.39261   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:07:15.39261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:07:15.39262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:07:15.39262   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:07:15.39291   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:07:15.39305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:07:15.39317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:07:15.39330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:07:15.39342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:07:15.39355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:07:15.39369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:07:15.39381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:07:15.39393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:07:15.39405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:07:15.39414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:07:15.39414   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:07:15.39415   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:07:16.28870 {"timestamp":"2020-10-21T14:07:16.288Z","pid":66067,"message":"Puma starting in cluster mode..."}
2020-10-21_14:07:16.28944 {"timestamp":"2020-10-21T14:07:16.289Z","pid":66067,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:07:16.28945 {"timestamp":"2020-10-21T14:07:16.289Z","pid":66067,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:07:16.28946 {"timestamp":"2020-10-21T14:07:16.289Z","pid":66067,"message":"* Environment: production"}
2020-10-21_14:07:16.28946 {"timestamp":"2020-10-21T14:07:16.289Z","pid":66067,"message":"* Process workers: 2"}
2020-10-21_14:07:16.28946 {"timestamp":"2020-10-21T14:07:16.289Z","pid":66067,"message":"* Preloading application"}
2020-10-21_14:07:29.50583 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:07:30.50311 {"timestamp":"2020-10-21T14:07:30.502Z","pid":66067,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:07:30.50336 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:07:30.50336 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:07:30.50337   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:07:30.50337   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:07:30.50337   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:07:30.50338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:07:30.50338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:07:30.50338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:07:30.50339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:07:30.50339   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:07:30.50340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:07:30.50340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:07:30.50340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:07:30.50340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:07:30.50341   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:07:30.50342   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:07:30.50342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:07:30.50342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:07:30.50342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:07:30.50343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:07:30.50343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:07:30.50343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:07:30.50343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:07:30.50344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:07:30.50345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:07:30.50345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:07:30.50345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:07:30.50345   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:07:30.50346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:30.50346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:07:30.50346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:07:30.50346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:30.50347   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:07:30.50348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:07:30.50348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:07:30.50348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:07:30.50348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:07:30.50349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:07:30.50349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:07:30.50349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:07:30.50350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:07:30.50351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:07:30.50351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:07:30.50351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:07:30.50351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:07:30.50352   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:07:30.50352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:07:30.50352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:07:30.50352   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:07:30.50352   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:07:30.50353   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:07:30.50354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:07:30.50354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:07:30.50354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:07:30.50354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:07:30.50355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:07:30.50355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:07:30.50355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:07:30.50355   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:07:30.50355   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:07:30.50356   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:07:30.50356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:07:30.50356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:07:30.50357   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:07:30.50357   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:07:30.50387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:07:30.50387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:07:30.50388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:07:30.50388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:07:30.50388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:07:30.50388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:07:30.50389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:07:30.50389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:07:30.50390   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:07:30.50391   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:07:30.50391   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:07:30.50391   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:07:31.43099 {"timestamp":"2020-10-21T14:07:31.430Z","pid":66513,"message":"Puma starting in cluster mode..."}
2020-10-21_14:07:31.43128 {"timestamp":"2020-10-21T14:07:31.431Z","pid":66513,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:07:31.43147 {"timestamp":"2020-10-21T14:07:31.431Z","pid":66513,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:07:31.43166 {"timestamp":"2020-10-21T14:07:31.431Z","pid":66513,"message":"* Environment: production"}
2020-10-21_14:07:31.43186 {"timestamp":"2020-10-21T14:07:31.431Z","pid":66513,"message":"* Process workers: 2"}
2020-10-21_14:07:31.43207 {"timestamp":"2020-10-21T14:07:31.432Z","pid":66513,"message":"* Preloading application"}
2020-10-21_14:07:45.23248 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:07:45.80391 {"timestamp":"2020-10-21T14:07:45.803Z","pid":66513,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:07:45.80396 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:07:45.80408 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:07:45.80417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:07:45.80417   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:07:45.80418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:07:45.80418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:07:45.80418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:07:45.80418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:07:45.80419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:07:45.80419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:07:45.80419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:07:45.80419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:07:45.80420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:07:45.80438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:07:45.80454   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:07:45.80469   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:07:45.80484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:07:45.80496   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:07:45.80496   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:07:45.80527   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:07:45.80531   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:07:45.80544   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:07:45.80557   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:07:45.80570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:07:45.80586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:07:45.80599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:07:45.80612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:07:45.80625   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:07:45.80637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:45.80651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:07:45.80663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:07:45.80663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:07:45.80664   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:07:45.80681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:07:45.80692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:07:45.80693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:07:45.80693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:07:45.80708   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:07:45.80720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:07:45.80720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:07:45.80731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:07:45.80736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:07:45.80748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:07:45.80749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:07:45.80749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:07:45.80763   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:07:45.80783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:07:45.80790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:07:45.80802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:07:45.80803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:07:45.80804   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:07:45.80816   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:07:45.80817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:07:45.80817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:07:45.80817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:07:45.80818   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:07:45.80818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:07:45.80830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:07:45.80831   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:07:45.80831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:07:45.80831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:07:45.80831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:07:45.80832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:07:45.80832   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:07:45.80848   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:07:45.80860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:07:45.80861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:07:45.80861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:07:45.80878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:07:45.80878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:07:45.80878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:07:45.80879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:07:45.80879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:07:45.80879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:07:45.80881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:07:45.80881   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:07:45.80881   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:07:46.50169 {"timestamp":"2020-10-21T14:07:46.501Z","pid":66946,"message":"Puma starting in cluster mode..."}
2020-10-21_14:07:46.50179 {"timestamp":"2020-10-21T14:07:46.501Z","pid":66946,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:07:46.50208 {"timestamp":"2020-10-21T14:07:46.501Z","pid":66946,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:07:46.50215 {"timestamp":"2020-10-21T14:07:46.502Z","pid":66946,"message":"* Environment: production"}
2020-10-21_14:07:46.50229 {"timestamp":"2020-10-21T14:07:46.502Z","pid":66946,"message":"* Process workers: 2"}
2020-10-21_14:07:46.50253 {"timestamp":"2020-10-21T14:07:46.502Z","pid":66946,"message":"* Preloading application"}
2020-10-21_14:07:59.15058 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:08:00.03555 {"timestamp":"2020-10-21T14:08:00.035Z","pid":66946,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:08:00.03594 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:08:00.03614 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:08:00.03615   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:08:00.03616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:08:00.03616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:08:00.03616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:08:00.03616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:08:00.03616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:08:00.03617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:08:00.03617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:08:00.03617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:08:00.03617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:08:00.03618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:08:00.03618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:08:00.03619   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:08:00.03619   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:08:00.03620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:08:00.03620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:08:00.03620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:08:00.03620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:08:00.03621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:08:00.03621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:08:00.03621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:08:00.03621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:08:00.03624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:08:00.03624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:08:00.03624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:08:00.03624   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:08:00.03625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:00.03625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:08:00.03626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:08:00.03626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:00.03626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:08:00.03627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:08:00.03628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:08:00.03628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:08:00.03628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:08:00.03628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:08:00.03629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:08:00.03629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:08:00.03629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:08:00.03630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:08:00.03630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:08:00.03631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:08:00.03631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:08:00.03631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:08:00.03631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:08:00.03631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:08:00.03632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:08:00.03632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:08:00.03632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:08:00.03632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:08:00.03633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:08:00.03634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:08:00.03634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:08:00.03634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:08:00.03634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:08:00.03634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:08:00.03635   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:08:00.03635   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:08:00.03635   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:08:00.03635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:08:00.03636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:08:00.03636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:08:00.03637   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:08:00.03637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:08:00.03638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:08:00.03638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:08:00.03638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:08:00.03638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:08:00.03638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:08:00.03639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:08:00.03639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:08:00.03639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:08:00.03640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:08:00.03641   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:08:00.03641   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:08:00.86176 {"timestamp":"2020-10-21T14:08:00.861Z","pid":67384,"message":"Puma starting in cluster mode..."}
2020-10-21_14:08:00.86181 {"timestamp":"2020-10-21T14:08:00.861Z","pid":67384,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:08:00.86181 {"timestamp":"2020-10-21T14:08:00.861Z","pid":67384,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:08:00.86181 {"timestamp":"2020-10-21T14:08:00.861Z","pid":67384,"message":"* Environment: production"}
2020-10-21_14:08:00.86203 {"timestamp":"2020-10-21T14:08:00.861Z","pid":67384,"message":"* Process workers: 2"}
2020-10-21_14:08:00.86221 {"timestamp":"2020-10-21T14:08:00.862Z","pid":67384,"message":"* Preloading application"}
2020-10-21_14:08:14.53178 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:08:15.14994 {"timestamp":"2020-10-21T14:08:15.149Z","pid":67384,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:08:15.15023 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:08:15.15041 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:08:15.15042   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:08:15.15042   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:08:15.15043   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:08:15.15043   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:08:15.15043   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:08:15.15043   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:08:15.15044   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:08:15.15044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:08:15.15045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:08:15.15045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:08:15.15046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:08:15.15046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:08:15.15047   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:08:15.15047   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:08:15.15047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:08:15.15048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:08:15.15048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:08:15.15048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:08:15.15048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:08:15.15049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:08:15.15049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:08:15.15049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:08:15.15050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:08:15.15051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:08:15.15051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:08:15.15051   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:08:15.15051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:15.15052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:08:15.15052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:08:15.15052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:15.15052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:08:15.15054   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:08:15.15054   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:08:15.15054   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:08:15.15054   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:08:15.15055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:08:15.15055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:08:15.15055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:08:15.15056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:08:15.15057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:08:15.15057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:08:15.15057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:08:15.15058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:08:15.15058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:08:15.15058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:08:15.15058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:08:15.15059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:08:15.15059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:08:15.15059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:08:15.15059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:08:15.15062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:08:15.15062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:08:15.15062   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:08:15.15063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:08:15.15063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:08:15.15063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:08:15.15063   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:08:15.15064   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:08:15.15064   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:08:15.15064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:08:15.15064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:08:15.15065   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:08:15.15066   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:08:15.15066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:08:15.15066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:08:15.15066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:08:15.15067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:08:15.15067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:08:15.15067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:08:15.15067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:08:15.15068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:08:15.15068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:08:15.15070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:08:15.15070   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:08:15.15070   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:08:15.93525 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"Puma starting in cluster mode..."}
2020-10-21_14:08:15.93529 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:08:15.93530 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:08:15.93530 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"* Environment: production"}
2020-10-21_14:08:15.93554 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"* Process workers: 2"}
2020-10-21_14:08:15.93574 {"timestamp":"2020-10-21T14:08:15.935Z","pid":67819,"message":"* Preloading application"}
2020-10-21_14:08:29.26907 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:08:29.99160 {"timestamp":"2020-10-21T14:08:29.991Z","pid":67819,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:08:29.99189 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:08:29.99191 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:08:29.99191   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:08:29.99192   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:08:29.99192   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:08:29.99192   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:08:29.99192   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:08:29.99193   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:08:29.99193   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:08:29.99193   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:08:29.99193   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:08:29.99193   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:08:29.99194   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:08:29.99194   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:08:29.99195   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:08:29.99195   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:08:29.99196   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:08:29.99196   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:08:29.99196   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:08:29.99196   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:08:29.99197   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:08:29.99198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:08:29.99198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:08:29.99198   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:08:29.99199   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:08:29.99200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:08:29.99200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:08:29.99200   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:08:29.99200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:29.99201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:08:29.99201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:08:29.99201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:29.99201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:08:29.99202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:08:29.99203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:08:29.99203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:08:29.99203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:08:29.99203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:08:29.99204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:08:29.99204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:08:29.99204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:08:29.99205   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:08:29.99206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:08:29.99206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:08:29.99206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:08:29.99206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:08:29.99207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:08:29.99207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:08:29.99207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:08:29.99207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:08:29.99207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:08:29.99208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:08:29.99217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:08:29.99217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:08:29.99218   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:08:29.99218   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:08:29.99218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:08:29.99218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:08:29.99219   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:08:29.99219   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:08:29.99219   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:08:29.99219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:08:29.99220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:08:29.99220   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:08:29.99226   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:08:29.99226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:08:29.99227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:08:29.99227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:08:29.99227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:08:29.99227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:08:29.99228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:08:29.99228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:08:29.99228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:08:29.99228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:08:29.99230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:08:29.99230   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:08:29.99230   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:08:30.75241 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"Puma starting in cluster mode..."}
2020-10-21_14:08:30.75243 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:08:30.75244 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:08:30.75245 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"* Environment: production"}
2020-10-21_14:08:30.75245 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"* Process workers: 2"}
2020-10-21_14:08:30.75246 {"timestamp":"2020-10-21T14:08:30.752Z","pid":68260,"message":"* Preloading application"}
2020-10-21_14:08:43.03164 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:08:43.76013 {"timestamp":"2020-10-21T14:08:43.760Z","pid":68260,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:08:43.76048 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:08:43.76065 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:08:43.76066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:08:43.76066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:08:43.76066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:08:43.76067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:08:43.76067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:08:43.76067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:08:43.76067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:08:43.76068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:08:43.76068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:08:43.76068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:08:43.76068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:08:43.76069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:08:43.76070   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:08:43.76070   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:08:43.76072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:08:43.76072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:08:43.76072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:08:43.76072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:08:43.76073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:08:43.76073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:08:43.76073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:08:43.76073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:08:43.76075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:08:43.76075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:08:43.76075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:08:43.76075   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:08:43.76076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:43.76076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:08:43.76076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:08:43.76077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:43.76077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:08:43.76078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:08:43.76079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:08:43.76079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:08:43.76079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:08:43.76079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:08:43.76080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:08:43.76080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:08:43.76080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:08:43.76081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:08:43.76082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:08:43.76082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:08:43.76082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:08:43.76082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:08:43.76083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:08:43.76083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:08:43.76083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:08:43.76083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:08:43.76084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:08:43.76084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:08:43.76085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:08:43.76085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:08:43.76085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:08:43.76085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:08:43.76086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:08:43.76086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:08:43.76086   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:08:43.76086   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:08:43.76087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:08:43.76087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:08:43.76087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:08:43.76087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:08:43.76088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:08:43.76089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:08:43.76089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:08:43.76089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:08:43.76090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:08:43.76090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:08:43.76090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:08:43.76090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:08:43.76091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:08:43.76091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:08:43.76092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:08:43.76092   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:08:43.76093   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:08:44.63806 {"timestamp":"2020-10-21T14:08:44.638Z","pid":68688,"message":"Puma starting in cluster mode..."}
2020-10-21_14:08:44.63835 {"timestamp":"2020-10-21T14:08:44.638Z","pid":68688,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:08:44.63855 {"timestamp":"2020-10-21T14:08:44.638Z","pid":68688,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:08:44.63874 {"timestamp":"2020-10-21T14:08:44.638Z","pid":68688,"message":"* Environment: production"}
2020-10-21_14:08:44.63893 {"timestamp":"2020-10-21T14:08:44.638Z","pid":68688,"message":"* Process workers: 2"}
2020-10-21_14:08:44.63916 {"timestamp":"2020-10-21T14:08:44.639Z","pid":68688,"message":"* Preloading application"}
2020-10-21_14:08:58.32020 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:08:59.01821 {"timestamp":"2020-10-21T14:08:59.018Z","pid":68688,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:08:59.01857 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:08:59.01879 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:08:59.01885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:08:59.01885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:08:59.01885   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:08:59.01886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:08:59.01886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:08:59.01886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:08:59.01886   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:08:59.01887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:08:59.01887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:08:59.01887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:08:59.01888   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:08:59.01889   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:08:59.01890   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:08:59.01890   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:08:59.01891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:08:59.01891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:08:59.01891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:08:59.01891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:08:59.01892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:08:59.01892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:08:59.01892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:08:59.01892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:08:59.01893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:08:59.01894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:08:59.01894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:08:59.01894   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:08:59.01895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:59.01895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:08:59.01895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:08:59.01895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:08:59.01896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:08:59.01897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:08:59.01897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:08:59.01897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:08:59.01897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:08:59.01898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:08:59.01898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:08:59.01898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:08:59.01898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:08:59.01900   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:08:59.01900   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:08:59.01900   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:08:59.01901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:08:59.01901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:08:59.01901   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:08:59.01901   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:08:59.01902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:08:59.01902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:08:59.01902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:08:59.01902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:08:59.01903   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:08:59.01904   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:08:59.01904   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:08:59.01904   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:08:59.01904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:08:59.01905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:08:59.01905   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:08:59.01905   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:08:59.01905   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:08:59.01906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:08:59.01906   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:08:59.01906   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:08:59.01907   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:08:59.01907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:08:59.01908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:08:59.01908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:08:59.01908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:08:59.01908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:08:59.01909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:08:59.01909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:08:59.01909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:08:59.01909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:08:59.01911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:08:59.01911   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:08:59.01911   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:08:59.79302 {"timestamp":"2020-10-21T14:08:59.792Z","pid":69133,"message":"Puma starting in cluster mode..."}
2020-10-21_14:08:59.79306 {"timestamp":"2020-10-21T14:08:59.793Z","pid":69133,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:08:59.79307 {"timestamp":"2020-10-21T14:08:59.793Z","pid":69133,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:08:59.79307 {"timestamp":"2020-10-21T14:08:59.793Z","pid":69133,"message":"* Environment: production"}
2020-10-21_14:08:59.79328 {"timestamp":"2020-10-21T14:08:59.793Z","pid":69133,"message":"* Process workers: 2"}
2020-10-21_14:08:59.79332 {"timestamp":"2020-10-21T14:08:59.793Z","pid":69133,"message":"* Preloading application"}
2020-10-21_14:09:13.10171 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:09:13.65517 {"timestamp":"2020-10-21T14:09:13.654Z","pid":69133,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:09:13.65526 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:09:13.65557 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:09:13.65558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:09:13.65558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:09:13.65559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:09:13.65559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:09:13.65559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:09:13.65559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:09:13.65559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:09:13.65560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:09:13.65560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:09:13.65560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:09:13.65560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:09:13.65561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:09:13.65562   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:09:13.65562   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:09:13.65562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:09:13.65562   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:09:13.65563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:09:13.65563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:09:13.65563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:09:13.65563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:09:13.65564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:09:13.65564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:09:13.65565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:09:13.65566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:09:13.65566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:09:13.65566   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:09:13.65566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:13.65567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:09:13.65567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:09:13.65567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:13.65567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:09:13.65568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:09:13.65569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:09:13.65569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:09:13.65569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:09:13.65569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:09:13.65570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:09:13.65570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:09:13.65570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:09:13.65571   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:09:13.65571   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:09:13.65572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:09:13.65572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:09:13.65572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:09:13.65572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:09:13.65573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:09:13.65573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:09:13.65573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:09:13.65573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:09:13.65573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:09:13.65574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:09:13.65575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:09:13.65587   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:09:13.65613   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:09:13.65613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:09:13.65613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:09:13.65613   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:09:13.65614   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:09:13.65614   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:09:13.65614   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:09:13.65614   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:09:13.65615   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:09:13.65616   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:09:13.65616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:09:13.65616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:09:13.65617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:09:13.65617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:09:13.65617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:09:13.65617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:09:13.65617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:09:13.65618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:09:13.65618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:09:13.65619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:09:13.65619   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:09:13.65619   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:09:14.32175 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"Puma starting in cluster mode..."}
2020-10-21_14:09:14.32178 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:09:14.32180 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:09:14.32180 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"* Environment: production"}
2020-10-21_14:09:14.32206 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"* Process workers: 2"}
2020-10-21_14:09:14.32208 {"timestamp":"2020-10-21T14:09:14.321Z","pid":69567,"message":"* Preloading application"}
2020-10-21_14:09:27.71118 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:09:28.58250 {"timestamp":"2020-10-21T14:09:28.582Z","pid":69567,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:09:28.58286 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:09:28.58586 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:09:28.58590   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:09:28.58590   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:09:28.58590   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:09:28.58591   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:09:28.58591   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:09:28.58591   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:09:28.58591   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:09:28.58592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:09:28.58592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:09:28.58592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:09:28.58592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:09:28.58593   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:09:28.58594   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:09:28.58594   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:09:28.58594   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:09:28.58595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:09:28.58595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:09:28.58621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:09:28.58634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:09:28.58647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:09:28.58660   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:09:28.58674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:09:28.58688   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:09:28.58703   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:09:28.58719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:09:28.58720   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:09:28.58730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:28.58736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:09:28.58759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:09:28.58764   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:28.58777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:09:28.58791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:09:28.58805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:09:28.58805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:09:28.58806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:09:28.58806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:09:28.58806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:09:28.58806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:09:28.58807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:09:28.58823   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:09:28.58836   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:09:28.58848   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:09:28.58860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:09:28.58875   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:09:28.58876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:09:28.58876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:09:28.58876   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:09:28.58876   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:09:28.58877   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:09:28.58877   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:09:28.58878   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:09:28.58878   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:09:28.58879   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:09:28.58879   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:09:28.58879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:09:28.58879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:09:28.58880   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:09:28.58880   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:09:28.58880   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:09:28.58880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:09:28.58881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:09:28.58881   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:09:28.58911   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:09:28.58916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:09:28.58930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:09:28.58943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:09:28.58954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:09:28.58967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:09:28.58979   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:09:28.58991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:09:28.59004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:09:28.59005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:09:28.59006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:09:28.59006   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:09:28.59006   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:09:29.39462 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"Puma starting in cluster mode..."}
2020-10-21_14:09:29.39465 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:09:29.39466 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:09:29.39466 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"* Environment: production"}
2020-10-21_14:09:29.39467 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"* Process workers: 2"}
2020-10-21_14:09:29.39467 {"timestamp":"2020-10-21T14:09:29.394Z","pid":70019,"message":"* Preloading application"}
2020-10-21_14:09:41.65008 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:09:42.43240 {"timestamp":"2020-10-21T14:09:42.432Z","pid":70019,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:09:42.43310 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:09:42.43311 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:09:42.43311   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:09:42.43312   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:09:42.43312   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:09:42.43312   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:09:42.43313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:09:42.43313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:09:42.43313   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:09:42.43314   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:09:42.43315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:09:42.43315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:09:42.43315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:09:42.43316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:09:42.43343   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:09:42.43355   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:09:42.43356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:09:42.43375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:09:42.43376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:09:42.43395   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:09:42.43396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:09:42.43396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:09:42.43396   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:09:42.43398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:09:42.43398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:09:42.43398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:09:42.43398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:09:42.43410   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:09:42.43415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:42.43416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:09:42.43416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:09:42.43429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:42.43439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:09:42.43440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:09:42.43440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:09:42.43440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:09:42.43440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:09:42.43441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:09:42.43441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:09:42.43441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:09:42.43441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:09:42.43443   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:09:42.43459   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:09:42.43469   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:09:42.43473   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:09:42.43474   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:09:42.43474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:09:42.43486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:09:42.43487   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:09:42.43488   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:09:42.43500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:09:42.43510   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:09:42.43511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:09:42.43511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:09:42.43511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:09:42.43511   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:09:42.43512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:09:42.43512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:09:42.43512   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:09:42.43512   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:09:42.43530   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:09:42.43532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:09:42.43532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:09:42.43533   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:09:42.43534   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:09:42.43534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:09:42.43534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:09:42.43534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:09:42.43534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:09:42.43535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:09:42.43550   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:09:42.43550   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:09:42.43551   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:09:42.43560   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:09:42.43565   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:09:42.43566   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:09:42.43566   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:09:43.22384 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"Puma starting in cluster mode..."}
2020-10-21_14:09:43.22388 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:09:43.22390 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:09:43.22390 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"* Environment: production"}
2020-10-21_14:09:43.22390 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"* Process workers: 2"}
2020-10-21_14:09:43.22412 {"timestamp":"2020-10-21T14:09:43.223Z","pid":70454,"message":"* Preloading application"}
2020-10-21_14:09:55.95190 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:09:56.65849 {"timestamp":"2020-10-21T14:09:56.658Z","pid":70454,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:09:56.65887 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:09:56.65902 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:09:56.65905   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:09:56.65906   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:09:56.65906   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:09:56.65907   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:09:56.65907   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:09:56.65907   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:09:56.65907   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:09:56.65908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:09:56.65908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:09:56.65908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:09:56.65908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:09:56.65919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:09:56.65925   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:09:56.65925   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:09:56.65925   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:09:56.65925   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:09:56.65926   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:09:56.65926   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:09:56.65926   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:09:56.65926   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:09:56.65927   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:09:56.65927   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:09:56.65944   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:09:56.65945   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:09:56.65945   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:09:56.65945   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:09:56.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:56.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:09:56.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:09:56.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:09:56.65947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:09:56.65948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:09:56.65948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:09:56.65948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:09:56.65949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:09:56.65949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:09:56.65949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:09:56.65949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:09:56.65950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:09:56.65970   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:09:56.65971   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:09:56.65971   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:09:56.65972   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:09:56.65972   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:09:56.65972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:09:56.65972   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:09:56.65973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:09:56.65973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:09:56.65973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:09:56.65973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:09:56.65982   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:09:56.65983   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:09:56.65983   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:09:56.65983   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:09:56.65984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:09:56.65984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:09:56.65985   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:09:56.65985   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:09:56.65985   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:09:56.65985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:09:56.65986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:09:56.65986   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:09:56.66005   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:09:56.66005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:09:56.66005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:09:56.66006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:09:56.66006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:09:56.66006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:09:56.66006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:09:56.66007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:09:56.66007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:09:56.66007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:09:56.66008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:09:56.66009   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:09:56.66009   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:09:57.52239 {"timestamp":"2020-10-21T14:09:57.522Z","pid":70894,"message":"Puma starting in cluster mode..."}
2020-10-21_14:09:57.52271 {"timestamp":"2020-10-21T14:09:57.522Z","pid":70894,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:09:57.52286 {"timestamp":"2020-10-21T14:09:57.522Z","pid":70894,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:09:57.52303 {"timestamp":"2020-10-21T14:09:57.522Z","pid":70894,"message":"* Environment: production"}
2020-10-21_14:09:57.52320 {"timestamp":"2020-10-21T14:09:57.523Z","pid":70894,"message":"* Process workers: 2"}
2020-10-21_14:09:57.52338 {"timestamp":"2020-10-21T14:09:57.523Z","pid":70894,"message":"* Preloading application"}
2020-10-21_14:10:12.11815 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:10:12.92610 {"timestamp":"2020-10-21T14:10:12.925Z","pid":70894,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:10:12.92639 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:10:12.92643 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:10:12.92646   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:10:12.92646   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:10:12.92647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:10:12.92647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:10:12.92647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:10:12.92647   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:10:12.92648   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:10:12.92648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:10:12.92648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:10:12.92665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:10:12.92665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:10:12.92678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:10:12.92689   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:10:12.92689   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:10:12.92690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:10:12.92690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:10:12.92690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:10:12.92690   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:10:12.92691   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:10:12.92691   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:10:12.92691   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:10:12.92692   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:10:12.92711   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:10:12.92713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:10:12.92714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:10:12.92714   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:10:12.92714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:12.92715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:10:12.92715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:10:12.92715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:12.92716   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:10:12.92717   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:10:12.92732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:10:12.92733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:10:12.92745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:10:12.92746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:10:12.92760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:10:12.92762   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:10:12.92763   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:10:12.92764   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:10:12.92764   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:10:12.92764   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:10:12.92765   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:10:12.92765   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:10:12.92765   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:10:12.92765   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:10:12.92766   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:10:12.92782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:10:12.92782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:10:12.92796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:10:12.92796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:10:12.92808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:10:12.92810   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:10:12.92811   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:10:12.92811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:10:12.92811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:10:12.92812   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:10:12.92812   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:10:12.92812   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:10:12.92812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:10:12.92812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:10:12.92814   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:10:12.92825   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:10:12.92828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:10:12.92829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:10:12.92840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:10:12.92841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:10:12.92841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:10:12.92841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:10:12.92842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:10:12.92842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:10:12.92842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:10:12.92858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:10:12.92859   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:10:12.92872   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:10:13.67107 {"timestamp":"2020-10-21T14:10:13.670Z","pid":71359,"message":"Puma starting in cluster mode..."}
2020-10-21_14:10:13.67109 {"timestamp":"2020-10-21T14:10:13.670Z","pid":71359,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:10:13.67110 {"timestamp":"2020-10-21T14:10:13.670Z","pid":71359,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:10:13.67110 {"timestamp":"2020-10-21T14:10:13.670Z","pid":71359,"message":"* Environment: production"}
2020-10-21_14:10:13.67110 {"timestamp":"2020-10-21T14:10:13.671Z","pid":71359,"message":"* Process workers: 2"}
2020-10-21_14:10:13.67110 {"timestamp":"2020-10-21T14:10:13.671Z","pid":71359,"message":"* Preloading application"}
2020-10-21_14:10:27.37376 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:10:28.37773 {"timestamp":"2020-10-21T14:10:28.377Z","pid":71359,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:10:28.37803 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:10:28.37805 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:10:28.37805   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:10:28.37806   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:10:28.37806   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:10:28.37806   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:10:28.37807   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:10:28.37807   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:10:28.37807   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:10:28.37808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:10:28.37808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:10:28.37809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:10:28.37809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:10:28.37809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:10:28.37811   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:10:28.37812   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:10:28.37813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:10:28.37813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:10:28.37813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:10:28.37814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:10:28.37814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:10:28.37814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:10:28.37815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:10:28.37816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:10:28.37817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:10:28.37817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:10:28.37817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:10:28.37818   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:10:28.37818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:28.37819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:10:28.37819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:10:28.37819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:28.37821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:10:28.37821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:10:28.37821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:10:28.37822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:10:28.37822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:10:28.37823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:10:28.37823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:10:28.37823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:10:28.37824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:10:28.37825   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:10:28.37825   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:10:28.37826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:10:28.37826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:10:28.37827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:10:28.37827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:10:28.37828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:10:28.37828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:10:28.37828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:10:28.37829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:10:28.37830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:10:28.37830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:10:28.37831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:10:28.37831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:10:28.37831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:10:28.37831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:10:28.37832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:10:28.37832   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:10:28.37832   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:10:28.37833   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:10:28.37833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:10:28.37833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:10:28.37835   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:10:28.37835   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:10:28.37914   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:10:28.37915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:10:28.37915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:10:28.37916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:10:28.37916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:10:28.37917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:10:28.37918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:10:28.37918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:10:28.37918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:10:28.37921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:10:28.37921   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:10:28.37921   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:10:29.46922 {"timestamp":"2020-10-21T14:10:29.468Z","pid":71833,"message":"Puma starting in cluster mode..."}
2020-10-21_14:10:29.46925 {"timestamp":"2020-10-21T14:10:29.468Z","pid":71833,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:10:29.46927 {"timestamp":"2020-10-21T14:10:29.469Z","pid":71833,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:10:29.46927 {"timestamp":"2020-10-21T14:10:29.469Z","pid":71833,"message":"* Environment: production"}
2020-10-21_14:10:29.46927 {"timestamp":"2020-10-21T14:10:29.469Z","pid":71833,"message":"* Process workers: 2"}
2020-10-21_14:10:29.46928 {"timestamp":"2020-10-21T14:10:29.469Z","pid":71833,"message":"* Preloading application"}
2020-10-21_14:10:45.77856 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:10:46.44407 {"timestamp":"2020-10-21T14:10:46.443Z","pid":71833,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:10:46.44427 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:10:46.44456 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:10:46.44458   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:10:46.44459   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:10:46.44459   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:10:46.44459   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:10:46.44460   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:10:46.44460   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:10:46.44460   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:10:46.44460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:10:46.44461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:10:46.44461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:10:46.44461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:10:46.44461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:10:46.44473   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:10:46.44473   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:10:46.44473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:10:46.44474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:10:46.44474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:10:46.44474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:10:46.44474   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:10:46.44475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:10:46.44475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:10:46.44475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:10:46.44476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:10:46.44477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:10:46.44478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:10:46.44478   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:10:46.44478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:46.44478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:10:46.44479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:10:46.44479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:10:46.44479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:10:46.44480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:10:46.44480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:10:46.44481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:10:46.44481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:10:46.44481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:10:46.44481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:10:46.44482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:10:46.44482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:10:46.44483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:10:46.44483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:10:46.44483   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:10:46.44484   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:10:46.44484   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:10:46.44484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:10:46.44484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:10:46.44485   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:10:46.44485   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:10:46.44485   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:10:46.44491   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:10:46.44492   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:10:46.44493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:10:46.44493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:10:46.44493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:10:46.44493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:10:46.44494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:10:46.44494   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:10:46.44519   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:10:46.44520   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:10:46.44520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:10:46.44520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:10:46.44520   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:10:46.44528   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:10:46.44528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:10:46.44529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:10:46.44529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:10:46.44529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:10:46.44529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:10:46.44530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:10:46.44530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:10:46.44530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:10:46.44530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:10:46.44532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:10:46.44549   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:10:46.44550   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:10:47.22580 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"Puma starting in cluster mode..."}
2020-10-21_14:10:47.22582 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:10:47.22583 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:10:47.22584 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"* Environment: production"}
2020-10-21_14:10:47.22584 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"* Process workers: 2"}
2020-10-21_14:10:47.22585 {"timestamp":"2020-10-21T14:10:47.225Z","pid":72348,"message":"* Preloading application"}
2020-10-21_14:11:03.26466 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:11:04.32668 {"timestamp":"2020-10-21T14:11:04.326Z","pid":72348,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:11:04.32705 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:11:04.32724 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:11:04.32725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:11:04.32726   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:11:04.32727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:11:04.32727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:11:04.32727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:11:04.32728   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:11:04.32728   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:11:04.32728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:11:04.32728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:11:04.32728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:11:04.32729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:11:04.32729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:11:04.32730   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:11:04.32730   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:11:04.32731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:11:04.32731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:11:04.32731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:11:04.32731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:11:04.32732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:11:04.32732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:11:04.32732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:11:04.32732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:11:04.32733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:11:04.32734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:11:04.32734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:11:04.32734   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:11:04.32734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:04.32735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:11:04.32735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:11:04.32735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:04.32735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:11:04.32736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:11:04.32737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:11:04.32737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:11:04.32737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:11:04.32738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:11:04.32738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:11:04.32738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:11:04.32738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:11:04.32739   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:11:04.32740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:11:04.32740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:11:04.32740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:11:04.32740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:11:04.32741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:11:04.32741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:11:04.32741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:11:04.32741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:11:04.32742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:11:04.32742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:11:04.32743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:11:04.32743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:11:04.32743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:11:04.32743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:11:04.32744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:11:04.32744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:11:04.32744   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:11:04.32744   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:11:04.32745   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:11:04.32745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:11:04.32745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:11:04.32745   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:11:04.32746   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:11:04.32746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:11:04.32747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:11:04.32747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:11:04.32747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:11:04.32747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:11:04.32748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:11:04.32748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:11:04.32748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:11:04.32749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:11:04.32750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:11:04.32750   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:11:04.32750   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:11:05.35981 {"timestamp":"2020-10-21T14:11:05.359Z","pid":72883,"message":"Puma starting in cluster mode..."}
2020-10-21_14:11:05.36024 {"timestamp":"2020-10-21T14:11:05.359Z","pid":72883,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:11:05.36101 {"timestamp":"2020-10-21T14:11:05.360Z","pid":72883,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:11:05.36111 {"timestamp":"2020-10-21T14:11:05.361Z","pid":72883,"message":"* Environment: production"}
2020-10-21_14:11:05.36142 {"timestamp":"2020-10-21T14:11:05.361Z","pid":72883,"message":"* Process workers: 2"}
2020-10-21_14:11:05.36160 {"timestamp":"2020-10-21T14:11:05.361Z","pid":72883,"message":"* Preloading application"}
2020-10-21_14:11:21.09631 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:11:21.71214 {"timestamp":"2020-10-21T14:11:21.711Z","pid":72883,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:11:21.71219 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:11:21.71232 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:11:21.71240   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:11:21.71241   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:11:21.71241   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:11:21.71242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:11:21.71242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:11:21.71242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:11:21.71242   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:11:21.71243   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:11:21.71243   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:11:21.71243   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:11:21.71257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:11:21.71273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:11:21.71283   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:11:21.71297   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:11:21.71309   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:11:21.71325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:11:21.71342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:11:21.71343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:11:21.71343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:11:21.71343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:11:21.71343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:11:21.71344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:11:21.71363   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:11:21.71374   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:11:21.71375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:11:21.71375   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:11:21.71376   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:21.71390   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:11:21.71402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:11:21.71403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:21.71403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:11:21.71419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:11:21.71431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:11:21.71431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:11:21.71432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:11:21.71432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:11:21.71432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:11:21.71432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:11:21.71433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:11:21.71449   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:11:21.71468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:11:21.71474   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:11:21.71485   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:11:21.71486   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:11:21.71486   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:11:21.71498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:11:21.71499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:11:21.71499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:11:21.71500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:11:21.71500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:11:21.71513   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:11:21.71514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:11:21.71514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:11:21.71514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:11:21.71514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:11:21.71515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:11:21.71515   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:11:21.71515   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:11:21.71531   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:11:21.71543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:11:21.71544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:11:21.71544   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:11:21.71560   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:11:21.71568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:11:21.71574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:11:21.71586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:11:21.71587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:11:21.71587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:11:21.71587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:11:21.71588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:11:21.71588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:11:21.71588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:11:21.71602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:11:21.71602   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:11:21.71603   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:11:22.39996 {"timestamp":"2020-10-21T14:11:22.399Z","pid":73395,"message":"Puma starting in cluster mode..."}
2020-10-21_14:11:22.40024 {"timestamp":"2020-10-21T14:11:22.400Z","pid":73395,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:11:22.40042 {"timestamp":"2020-10-21T14:11:22.400Z","pid":73395,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:11:22.40057 {"timestamp":"2020-10-21T14:11:22.400Z","pid":73395,"message":"* Environment: production"}
2020-10-21_14:11:22.40076 {"timestamp":"2020-10-21T14:11:22.400Z","pid":73395,"message":"* Process workers: 2"}
2020-10-21_14:11:22.40090 {"timestamp":"2020-10-21T14:11:22.400Z","pid":73395,"message":"* Preloading application"}
2020-10-21_14:11:35.97355 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:11:36.68251 {"timestamp":"2020-10-21T14:11:36.682Z","pid":73395,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:11:36.68297 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:11:36.68315 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:11:36.68316   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:11:36.68317   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:11:36.68317   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:11:36.68317   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:11:36.68318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:11:36.68318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:11:36.68319   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:11:36.68319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:11:36.68319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:11:36.68320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:11:36.68320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:11:36.68343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:11:36.68345   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:11:36.68346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:11:36.68346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:11:36.68347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:11:36.68347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:11:36.68347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:11:36.68348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:11:36.68348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:11:36.68349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:11:36.68349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:11:36.68351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:11:36.68351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:11:36.68351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:11:36.68352   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:11:36.68353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:36.68353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:11:36.68354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:11:36.68354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:36.68355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:11:36.68356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:11:36.68356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:11:36.68357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:11:36.68357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:11:36.68357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:11:36.68358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:11:36.68358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:11:36.68359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:11:36.68360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:11:36.68360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:11:36.68361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:11:36.68361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:11:36.68361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:11:36.68362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:11:36.68362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:11:36.68362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:11:36.68363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:11:36.68363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:11:36.68363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:11:36.68365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:11:36.68365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:11:36.68365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:11:36.68366   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:11:36.68366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:11:36.68366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:11:36.68367   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:11:36.68368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:11:36.68368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:11:36.68368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:11:36.68368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:11:36.68369   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:11:36.68370   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:11:36.68370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:11:36.68371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:11:36.68371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:11:36.68371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:11:36.68372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:11:36.68372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:11:36.68373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:11:36.68373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:11:36.68373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:11:36.68375   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:11:36.68375   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:11:36.68375   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:11:37.53641 {"timestamp":"2020-10-21T14:11:37.536Z","pid":73814,"message":"Puma starting in cluster mode..."}
2020-10-21_14:11:37.53666 {"timestamp":"2020-10-21T14:11:37.536Z","pid":73814,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:11:37.53684 {"timestamp":"2020-10-21T14:11:37.536Z","pid":73814,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:11:37.53702 {"timestamp":"2020-10-21T14:11:37.536Z","pid":73814,"message":"* Environment: production"}
2020-10-21_14:11:37.53717 {"timestamp":"2020-10-21T14:11:37.537Z","pid":73814,"message":"* Process workers: 2"}
2020-10-21_14:11:37.53733 {"timestamp":"2020-10-21T14:11:37.537Z","pid":73814,"message":"* Preloading application"}
2020-10-21_14:11:50.46853 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:11:51.40111 {"timestamp":"2020-10-21T14:11:51.400Z","pid":73814,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:11:51.40145 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:11:51.40160 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:11:51.40161   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:11:51.40161   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:11:51.40162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:11:51.40162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:11:51.40163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:11:51.40163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:11:51.40163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:11:51.40164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:11:51.40164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:11:51.40164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:11:51.40164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:11:51.40165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:11:51.40166   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:11:51.40166   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:11:51.40166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:11:51.40167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:11:51.40167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:11:51.40167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:11:51.40167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:11:51.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:11:51.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:11:51.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:11:51.40169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:11:51.40169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:11:51.40170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:11:51.40170   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:11:51.40170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:51.40170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:11:51.40171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:11:51.40171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:11:51.40171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:11:51.40172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:11:51.40172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:11:51.40173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:11:51.40173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:11:51.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:11:51.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:11:51.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:11:51.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:11:51.40175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:11:51.40176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:11:51.40176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:11:51.40176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:11:51.40176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:11:51.40177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:11:51.40177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:11:51.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:11:51.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:11:51.40178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:11:51.40178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:11:51.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:11:51.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:11:51.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:11:51.40180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:11:51.40180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:11:51.40180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:11:51.40180   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:11:51.40181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:11:51.40181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:11:51.40181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:11:51.40181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:11:51.40182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:11:51.40183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:11:51.40183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:11:51.40183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:11:51.40183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:11:51.40183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:11:51.40184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:11:51.40184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:11:51.40184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:11:51.40185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:11:51.40186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:11:51.40187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:11:51.40188   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:11:51.40188   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:11:52.26094 {"timestamp":"2020-10-21T14:11:52.260Z","pid":74272,"message":"Puma starting in cluster mode..."}
2020-10-21_14:11:52.26104 {"timestamp":"2020-10-21T14:11:52.261Z","pid":74272,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:11:52.26126 {"timestamp":"2020-10-21T14:11:52.261Z","pid":74272,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:11:52.26144 {"timestamp":"2020-10-21T14:11:52.261Z","pid":74272,"message":"* Environment: production"}
2020-10-21_14:11:52.26162 {"timestamp":"2020-10-21T14:11:52.261Z","pid":74272,"message":"* Process workers: 2"}
2020-10-21_14:11:52.26184 {"timestamp":"2020-10-21T14:11:52.261Z","pid":74272,"message":"* Preloading application"}
2020-10-21_14:12:04.91911 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:12:05.70711 {"timestamp":"2020-10-21T14:12:05.707Z","pid":74272,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:12:05.70745 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:12:05.70765 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:12:05.70770   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:12:05.70778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:12:05.70778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:12:05.70779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:12:05.70779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:12:05.70779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:12:05.70779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:12:05.70780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:12:05.70780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:12:05.70780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:12:05.70784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:12:05.70793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:12:05.70794   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:12:05.70794   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:12:05.70795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:12:05.70795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:12:05.70796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:12:05.70796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:12:05.70804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:12:05.70805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:12:05.70805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:12:05.70805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:12:05.70806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:12:05.70807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:12:05.70807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:12:05.70807   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:12:05.70826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:05.70834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:12:05.70834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:12:05.70835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:05.70835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:12:05.70846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:12:05.70848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:12:05.70848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:12:05.70849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:12:05.70849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:12:05.70849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:12:05.70849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:12:05.70850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:12:05.70856   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:12:05.70856   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:12:05.70857   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:12:05.70916   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:12:05.70917   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:12:05.70917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:12:05.70917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:12:05.70920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:12:05.70920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:12:05.70920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:12:05.70920   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:12:05.70922   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:12:05.70934   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:12:05.70938   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:12:05.70946   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:12:05.70946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:12:05.70946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:12:05.70947   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:12:05.70947   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:12:05.70947   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:12:05.70947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:12:05.70948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:12:05.70951   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:12:05.70960   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:12:05.70961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:12:05.70961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:12:05.70961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:12:05.70961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:12:05.70962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:12:05.70962   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:12:05.70967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:12:05.70967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:12:05.70968   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:12:05.70969   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:12:05.70969   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:12:05.70986   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:12:06.52023 {"timestamp":"2020-10-21T14:12:06.520Z","pid":74706,"message":"Puma starting in cluster mode..."}
2020-10-21_14:12:06.52049 {"timestamp":"2020-10-21T14:12:06.520Z","pid":74706,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:12:06.52065 {"timestamp":"2020-10-21T14:12:06.520Z","pid":74706,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:12:06.52101 {"timestamp":"2020-10-21T14:12:06.520Z","pid":74706,"message":"* Environment: production"}
2020-10-21_14:12:06.52118 {"timestamp":"2020-10-21T14:12:06.521Z","pid":74706,"message":"* Process workers: 2"}
2020-10-21_14:12:06.52132 {"timestamp":"2020-10-21T14:12:06.521Z","pid":74706,"message":"* Preloading application"}
2020-10-21_14:12:19.92543 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:12:20.57013 {"timestamp":"2020-10-21T14:12:20.569Z","pid":74706,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:12:20.57035 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:12:20.57037 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:12:20.57038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:12:20.57038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:12:20.57038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:12:20.57039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:12:20.57039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:12:20.57039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:12:20.57039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:12:20.57046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:12:20.57046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:12:20.57047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:12:20.57047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:12:20.57047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:12:20.57049   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:12:20.57067   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:12:20.57068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:12:20.57068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:12:20.57069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:12:20.57069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:12:20.57069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:12:20.57077   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:12:20.57078   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:12:20.57079   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:12:20.57083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:12:20.57084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:12:20.57084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:12:20.57085   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:12:20.57085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:20.57104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:12:20.57105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:12:20.57105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:20.57106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:12:20.57107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:12:20.57107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:12:20.57107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:12:20.57108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:12:20.57108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:12:20.57125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:12:20.57127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:12:20.57127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:12:20.57128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:12:20.57129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:12:20.57129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:12:20.57129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:12:20.57129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:12:20.57130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:12:20.57130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:12:20.57130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:12:20.57130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:12:20.57138   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:12:20.57139   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:12:20.57139   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:12:20.57145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:12:20.57146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:12:20.57146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:12:20.57146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:12:20.57146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:12:20.57146   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:12:20.57147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:12:20.57147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:12:20.57148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:12:20.57148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:12:20.57164   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:12:20.57164   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:12:20.57172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:12:20.57172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:12:20.57173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:12:20.57173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:12:20.57173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:12:20.57173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:12:20.57173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:12:20.57174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:12:20.57178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:12:20.57200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:12:20.57201   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:12:20.57201   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:12:21.26813 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"Puma starting in cluster mode..."}
2020-10-21_14:12:21.26815 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:12:21.26815 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:12:21.26815 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"* Environment: production"}
2020-10-21_14:12:21.26816 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"* Process workers: 2"}
2020-10-21_14:12:21.26817 {"timestamp":"2020-10-21T14:12:21.268Z","pid":75143,"message":"* Preloading application"}
2020-10-21_14:12:34.74176 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:12:35.39088 {"timestamp":"2020-10-21T14:12:35.390Z","pid":75143,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:12:35.39124 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:12:35.39148 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:12:35.39150   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:12:35.39150   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:12:35.39150   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:12:35.39151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:12:35.39151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:12:35.39151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:12:35.39152   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:12:35.39152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:12:35.39153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:12:35.39153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:12:35.39153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:12:35.39153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:12:35.39168   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:12:35.39168   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:12:35.39168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:12:35.39169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:12:35.39169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:12:35.39169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:12:35.39169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:12:35.39170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:12:35.39170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:12:35.39170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:12:35.39171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:12:35.39172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:12:35.39172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:12:35.39172   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:12:35.39172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:35.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:12:35.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:12:35.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:35.39173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:12:35.39196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:12:35.39197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:12:35.39197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:12:35.39197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:12:35.39198   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:12:35.39198   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:12:35.39210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:12:35.39211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:12:35.39212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:12:35.39213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:12:35.39213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:12:35.39213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:12:35.39232   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:12:35.39239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:12:35.39239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:12:35.39240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:12:35.39252   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:12:35.39253   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:12:35.39253   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:12:35.39254   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:12:35.39254   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:12:35.39287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:12:35.39288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:12:35.39288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:12:35.39288   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:12:35.39288   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:12:35.39288   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:12:35.39289   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:12:35.39289   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:12:35.39289   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:12:35.39289   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:12:35.39308   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:12:35.39309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:12:35.39309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:12:35.39309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:12:35.39310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:12:35.39310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:12:35.39310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:12:35.39310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:12:35.39310   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:12:35.39313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:12:35.39314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:12:35.39314   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:12:35.39315   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:12:36.18046 {"timestamp":"2020-10-21T14:12:36.180Z","pid":75592,"message":"Puma starting in cluster mode..."}
2020-10-21_14:12:36.18075 {"timestamp":"2020-10-21T14:12:36.180Z","pid":75592,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:12:36.18094 {"timestamp":"2020-10-21T14:12:36.180Z","pid":75592,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:12:36.18112 {"timestamp":"2020-10-21T14:12:36.181Z","pid":75592,"message":"* Environment: production"}
2020-10-21_14:12:36.18129 {"timestamp":"2020-10-21T14:12:36.181Z","pid":75592,"message":"* Process workers: 2"}
2020-10-21_14:12:36.18146 {"timestamp":"2020-10-21T14:12:36.181Z","pid":75592,"message":"* Preloading application"}
2020-10-21_14:12:50.54151 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:12:51.44474 {"timestamp":"2020-10-21T14:12:51.444Z","pid":75592,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:12:51.44538 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:12:51.44571 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:12:51.44572   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:12:51.44573   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:12:51.44573   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:12:51.44573   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:12:51.44574   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:12:51.44574   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:12:51.44574   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:12:51.44574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:12:51.44575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:12:51.44575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:12:51.44576   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:12:51.44576   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:12:51.44577   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:12:51.44578   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:12:51.44578   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:12:51.44578   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:12:51.44579   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:12:51.44579   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:12:51.44616   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:12:51.44617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:12:51.44618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:12:51.44618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:12:51.44620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:12:51.44634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:12:51.44634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:12:51.44655   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:12:51.44656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:51.44656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:12:51.44656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:12:51.44657   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:12:51.44657   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:12:51.44658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:12:51.44659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:12:51.44659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:12:51.44659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:12:51.44659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:12:51.44660   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:12:51.44660   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:12:51.44660   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:12:51.44661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:12:51.44661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:12:51.44662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:12:51.44662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:12:51.44662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:12:51.44662   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:12:51.44663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:12:51.44663   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:12:51.44663   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:12:51.44664   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:12:51.44664   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:12:51.44665   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:12:51.44666   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:12:51.44666   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:12:51.44666   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:12:51.44666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:12:51.44667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:12:51.44667   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:12:51.44667   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:12:51.44667   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:12:51.44667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:12:51.44668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:12:51.44668   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:12:51.44669   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:12:51.44669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:12:51.44669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:12:51.44670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:12:51.44670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:12:51.44670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:12:51.44670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:12:51.44671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:12:51.44671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:12:51.44671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:12:51.44672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:12:51.44673   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:12:51.44673   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:12:52.27783 {"timestamp":"2020-10-21T14:12:52.277Z","pid":76075,"message":"Puma starting in cluster mode..."}
2020-10-21_14:12:52.27812 {"timestamp":"2020-10-21T14:12:52.277Z","pid":76075,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:12:52.27833 {"timestamp":"2020-10-21T14:12:52.278Z","pid":76075,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:12:52.27852 {"timestamp":"2020-10-21T14:12:52.278Z","pid":76075,"message":"* Environment: production"}
2020-10-21_14:12:52.27872 {"timestamp":"2020-10-21T14:12:52.278Z","pid":76075,"message":"* Process workers: 2"}
2020-10-21_14:12:52.27893 {"timestamp":"2020-10-21T14:12:52.278Z","pid":76075,"message":"* Preloading application"}
2020-10-21_14:13:14.84542 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:13:16.18223 {"timestamp":"2020-10-21T14:13:16.182Z","pid":76075,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:13:16.18249 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:13:16.18250 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:13:16.18250   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:13:16.18250   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:13:16.18251   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:13:16.18251   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:13:16.18251   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:13:16.18251   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:13:16.18252   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:13:16.18252   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:13:16.18252   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:13:16.18252   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:13:16.18253   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:13:16.18253   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:13:16.18254   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:13:16.18254   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:13:16.18254   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:13:16.18255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:13:16.18255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:13:16.18255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:13:16.18255   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:13:16.18256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:13:16.18256   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:13:16.18257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:13:16.18257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:13:16.18257   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:13:16.18258   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:13:16.18258   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:13:16.18258   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:16.18258   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:13:16.18259   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:13:16.18260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:16.18261   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:13:16.18262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:13:16.18262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:13:16.18262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:13:16.18262   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:13:16.18263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:13:16.18263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:13:16.18263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:13:16.18263   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:13:16.18264   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:13:16.18265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:13:16.18265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:13:16.18265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:13:16.18265   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:13:16.18266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:13:16.18266   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:13:16.18266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:13:16.18266   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:13:16.18267   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:13:16.18268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:13:16.18268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:13:16.18268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:13:16.18268   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:13:16.18269   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:13:16.18269   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:13:16.18269   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:13:16.18269   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:13:16.18270   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:13:16.18270   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:13:16.18270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:13:16.18270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:13:16.18272   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:13:16.18272   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:13:16.18272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:13:16.18272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:13:16.18272   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:13:16.18273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:13:16.18273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:13:16.18273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:13:16.18273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:13:16.18274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:13:16.18274   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:13:16.18277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:13:16.18278   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:13:16.18278   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:13:17.24668 {"timestamp":"2020-10-21T14:13:17.246Z","pid":76769,"message":"Puma starting in cluster mode..."}
2020-10-21_14:13:17.24703 {"timestamp":"2020-10-21T14:13:17.246Z","pid":76769,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:13:17.24735 {"timestamp":"2020-10-21T14:13:17.247Z","pid":76769,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:13:17.24759 {"timestamp":"2020-10-21T14:13:17.247Z","pid":76769,"message":"* Environment: production"}
2020-10-21_14:13:17.24781 {"timestamp":"2020-10-21T14:13:17.247Z","pid":76769,"message":"* Process workers: 2"}
2020-10-21_14:13:17.24801 {"timestamp":"2020-10-21T14:13:17.247Z","pid":76769,"message":"* Preloading application"}
2020-10-21_14:13:32.38956 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:13:33.12282 {"timestamp":"2020-10-21T14:13:33.122Z","pid":76769,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:13:33.12317 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:13:33.12338 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:13:33.12339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:13:33.12339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:13:33.12339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:13:33.12340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:13:33.12340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:13:33.12340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:13:33.12340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:13:33.12340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:13:33.12341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:13:33.12342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:13:33.12342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:13:33.12342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:13:33.12343   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:13:33.12344   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:13:33.12344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:13:33.12344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:13:33.12344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:13:33.12345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:13:33.12345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:13:33.12345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:13:33.12345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:13:33.12346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:13:33.12347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:13:33.12347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:13:33.12347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:13:33.12347   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:13:33.12348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:33.12348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:13:33.12348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:13:33.12348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:33.12349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:13:33.12350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:13:33.12350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:13:33.12350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:13:33.12350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:13:33.12351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:13:33.12351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:13:33.12351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:13:33.12352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:13:33.12353   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:13:33.12353   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:13:33.12353   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:13:33.12353   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:13:33.12354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:13:33.12354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:13:33.12354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:13:33.12354   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:13:33.12355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:13:33.12355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:13:33.12355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:13:33.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:13:33.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:13:33.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:13:33.12357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:13:33.12357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:13:33.12357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:13:33.12357   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:13:33.12358   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:13:33.12358   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:13:33.12358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:13:33.12358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:13:33.12359   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:13:33.12360   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:13:33.12360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:13:33.12360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:13:33.12360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:13:33.12360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:13:33.12361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:13:33.12361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:13:33.12361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:13:33.12361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:13:33.12362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:13:33.12363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:13:33.12363   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:13:33.12364   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:13:33.94996 {"timestamp":"2020-10-21T14:13:33.949Z","pid":77258,"message":"Puma starting in cluster mode..."}
2020-10-21_14:13:33.95023 {"timestamp":"2020-10-21T14:13:33.950Z","pid":77258,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:13:33.95038 {"timestamp":"2020-10-21T14:13:33.950Z","pid":77258,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:13:33.95061 {"timestamp":"2020-10-21T14:13:33.950Z","pid":77258,"message":"* Environment: production"}
2020-10-21_14:13:33.95078 {"timestamp":"2020-10-21T14:13:33.950Z","pid":77258,"message":"* Process workers: 2"}
2020-10-21_14:13:33.95100 {"timestamp":"2020-10-21T14:13:33.950Z","pid":77258,"message":"* Preloading application"}
2020-10-21_14:13:48.65152 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:13:49.33763 {"timestamp":"2020-10-21T14:13:49.337Z","pid":77258,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:13:49.33792 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:13:49.33811 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:13:49.33812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:13:49.33813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:13:49.33813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:13:49.33814   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:13:49.33814   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:13:49.33814   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:13:49.33815   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:13:49.33815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:13:49.33815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:13:49.33816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:13:49.33816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:13:49.33817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:13:49.33818   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:13:49.33819   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:13:49.33819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:13:49.33819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:13:49.33820   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:13:49.33820   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:13:49.33821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:13:49.33821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:13:49.33822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:13:49.33823   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:13:49.33824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:13:49.33824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:13:49.33825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:13:49.33825   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:13:49.33825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:49.33826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:13:49.33826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:13:49.33827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:13:49.33827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:13:49.33828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:13:49.33829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:13:49.33829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:13:49.33829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:13:49.33830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:13:49.33830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:13:49.33830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:13:49.33831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:13:49.33832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:13:49.33832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:13:49.33833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:13:49.33833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:13:49.33833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:13:49.33834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:13:49.33834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:13:49.33834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:13:49.33835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:13:49.33835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:13:49.33835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:13:49.33837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:13:49.33837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:13:49.33838   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:13:49.33838   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:13:49.33838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:13:49.33839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:13:49.33839   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:13:49.33839   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:13:49.33840   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:13:49.33840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:13:49.33840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:13:49.33841   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:13:49.33842   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:13:49.33842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:13:49.33843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:13:49.33843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:13:49.33843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:13:49.33844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:13:49.33844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:13:49.33844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:13:49.33845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:13:49.33845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:13:49.33847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:13:49.33847   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:13:49.33847   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:13:50.36859 {"timestamp":"2020-10-21T14:13:50.368Z","pid":77725,"message":"Puma starting in cluster mode..."}
2020-10-21_14:13:50.36892 {"timestamp":"2020-10-21T14:13:50.368Z","pid":77725,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:13:50.36906 {"timestamp":"2020-10-21T14:13:50.369Z","pid":77725,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:13:50.36920 {"timestamp":"2020-10-21T14:13:50.369Z","pid":77725,"message":"* Environment: production"}
2020-10-21_14:13:50.36936 {"timestamp":"2020-10-21T14:13:50.369Z","pid":77725,"message":"* Process workers: 2"}
2020-10-21_14:13:50.36950 {"timestamp":"2020-10-21T14:13:50.369Z","pid":77725,"message":"* Preloading application"}
2020-10-21_14:14:11.69996 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:14:12.37681 {"timestamp":"2020-10-21T14:14:12.376Z","pid":77725,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:14:12.37702 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:14:12.37711 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:14:12.37712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:14:12.37712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:14:12.37713   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:14:12.37713   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:14:12.37713   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:14:12.37713   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:14:12.37714   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:14:12.37714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:14:12.37714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:14:12.37714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:14:12.37715   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:14:12.37715   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:14:12.37716   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:14:12.37716   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:14:12.37716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:14:12.37717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:14:12.37717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:14:12.37717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:14:12.37717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:14:12.37718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:14:12.37718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:14:12.37718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:14:12.37719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:14:12.37719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:14:12.37720   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:14:12.37720   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:14:12.37720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:12.37720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:14:12.37721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:14:12.37721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:12.37722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:14:12.37723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:14:12.37723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:14:12.37723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:14:12.37723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:14:12.37724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:14:12.37724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:14:12.37724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:14:12.37724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:14:12.37727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:14:12.37727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:14:12.37728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:14:12.37728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:14:12.37728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:14:12.37728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:14:12.37729   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:14:12.37729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:14:12.37729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:14:12.37729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:14:12.37730   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:14:12.37731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:14:12.37731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:14:12.37731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:14:12.37731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:14:12.37731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:14:12.37732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:14:12.37732   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:14:12.37732   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:14:12.37732   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:14:12.37733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:14:12.37733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:14:12.37733   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:14:12.37734   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:14:12.37735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:14:12.37735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:14:12.37735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:14:12.37735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:14:12.37736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:14:12.37736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:14:12.37736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:14:12.37736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:14:12.37736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:14:12.37738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:14:12.37738   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:14:12.37738   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:14:13.05263 {"timestamp":"2020-10-21T14:14:13.052Z","pid":78364,"message":"Puma starting in cluster mode..."}
2020-10-21_14:14:13.05277 {"timestamp":"2020-10-21T14:14:13.052Z","pid":78364,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:14:13.05286 {"timestamp":"2020-10-21T14:14:13.052Z","pid":78364,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:14:13.05295 {"timestamp":"2020-10-21T14:14:13.052Z","pid":78364,"message":"* Environment: production"}
2020-10-21_14:14:13.05303 {"timestamp":"2020-10-21T14:14:13.052Z","pid":78364,"message":"* Process workers: 2"}
2020-10-21_14:14:13.05312 {"timestamp":"2020-10-21T14:14:13.053Z","pid":78364,"message":"* Preloading application"}
2020-10-21_14:14:26.18382 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:14:26.95078 {"timestamp":"2020-10-21T14:14:26.950Z","pid":78364,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:14:26.95104 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:14:26.95116 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:14:26.95117   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:14:26.95117   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:14:26.95118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:14:26.95118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:14:26.95118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:14:26.95118   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:14:26.95119   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:14:26.95119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:14:26.95119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:14:26.95119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:14:26.95120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:14:26.95121   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:14:26.95122   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:14:26.95122   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:14:26.95122   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:14:26.95122   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:14:26.95123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:14:26.95123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:14:26.95123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:14:26.95123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:14:26.95124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:14:26.95124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:14:26.95125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:14:26.95125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:14:26.95125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:14:26.95126   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:14:26.95126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:26.95126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:14:26.95126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:14:26.95127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:26.95127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:14:26.95128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:14:26.95128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:14:26.95128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:14:26.95129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:14:26.95129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:14:26.95129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:14:26.95129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:14:26.95129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:14:26.95131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:14:26.95131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:14:26.95131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:14:26.95132   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:14:26.95132   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:14:26.95132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:14:26.95132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:14:26.95132   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:14:26.95133   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:14:26.95133   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:14:26.95133   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:14:26.95134   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:14:26.95134   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:14:26.95135   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:14:26.95135   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:14:26.95135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:14:26.95135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:14:26.95136   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:14:26.95136   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:14:26.95136   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:14:26.95136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:14:26.95136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:14:26.95137   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:14:26.95138   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:14:26.95138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:14:26.95138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:14:26.95138   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:14:26.95139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:14:26.95139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:14:26.95139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:14:26.95139   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:14:26.95140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:14:26.95140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:14:26.95141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:14:26.95141   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:14:26.95141   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:14:27.85966 {"timestamp":"2020-10-21T14:14:27.859Z","pid":78795,"message":"Puma starting in cluster mode..."}
2020-10-21_14:14:27.85978 {"timestamp":"2020-10-21T14:14:27.859Z","pid":78795,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:14:27.85985 {"timestamp":"2020-10-21T14:14:27.859Z","pid":78795,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:14:27.85997 {"timestamp":"2020-10-21T14:14:27.859Z","pid":78795,"message":"* Environment: production"}
2020-10-21_14:14:27.86011 {"timestamp":"2020-10-21T14:14:27.860Z","pid":78795,"message":"* Process workers: 2"}
2020-10-21_14:14:27.86022 {"timestamp":"2020-10-21T14:14:27.860Z","pid":78795,"message":"* Preloading application"}
2020-10-21_14:14:40.85647 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:14:41.72608 {"timestamp":"2020-10-21T14:14:41.725Z","pid":78795,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:14:41.72640 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:14:41.72659 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:14:41.72660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:14:41.72660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:14:41.72660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:14:41.72660   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:14:41.72661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:14:41.72661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:14:41.72661   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:14:41.72661   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:14:41.72662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:14:41.72662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:14:41.72662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:14:41.72662   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:14:41.72663   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:14:41.72664   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:14:41.72664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:14:41.72664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:14:41.72664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:14:41.72665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:14:41.72665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:14:41.72665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:14:41.72665   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:14:41.72666   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:14:41.72667   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:14:41.72668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:14:41.72668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:14:41.72668   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:14:41.72669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:41.72669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:14:41.72669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:14:41.72669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:41.72670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:14:41.72671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:14:41.72671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:14:41.72671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:14:41.72671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:14:41.72672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:14:41.72672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:14:41.72672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:14:41.72672   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:14:41.72673   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:14:41.72674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:14:41.72674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:14:41.72674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:14:41.72674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:14:41.72675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:14:41.72675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:14:41.72675   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:14:41.72675   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:14:41.72676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:14:41.72676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:14:41.72677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:14:41.72677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:14:41.72678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:14:41.72678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:14:41.72678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:14:41.72679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:14:41.72679   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:14:41.72679   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:14:41.72679   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:14:41.72679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:14:41.72680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:14:41.72680   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:14:41.72681   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:14:41.72681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:14:41.72682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:14:41.72682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:14:41.72682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:14:41.72682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:14:41.72683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:14:41.72683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:14:41.72683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:14:41.72683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:14:41.72684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:14:41.72685   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:14:41.72685   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:14:42.69915 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"Puma starting in cluster mode..."}
2020-10-21_14:14:42.69928 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:14:42.69940 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:14:42.69956 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"* Environment: production"}
2020-10-21_14:14:42.69965 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"* Process workers: 2"}
2020-10-21_14:14:42.69979 {"timestamp":"2020-10-21T14:14:42.699Z","pid":79237,"message":"* Preloading application"}
2020-10-21_14:14:55.55945 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:14:56.30092 {"timestamp":"2020-10-21T14:14:56.300Z","pid":79237,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:14:56.30118 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:14:56.30127 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:14:56.30128   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:14:56.30128   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:14:56.30129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:14:56.30129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:14:56.30129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:14:56.30129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:14:56.30130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:14:56.30130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:14:56.30130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:14:56.30130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:14:56.30131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:14:56.30131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:14:56.30135   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:14:56.30135   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:14:56.30136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:14:56.30136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:14:56.30136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:14:56.30137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:14:56.30137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:14:56.30137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:14:56.30137   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:14:56.30138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:14:56.30139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:14:56.30139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:14:56.30139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:14:56.30139   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:14:56.30140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:56.30140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:14:56.30140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:14:56.30140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:14:56.30141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:14:56.30142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:14:56.30143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:14:56.30143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:14:56.30143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:14:56.30143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:14:56.30144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:14:56.30144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:14:56.30144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:14:56.30145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:14:56.30145   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:14:56.30146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:14:56.30146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:14:56.30146   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:14:56.30146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:14:56.30146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:14:56.30147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:14:56.30147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:14:56.30147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:14:56.30147   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:14:56.30148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:14:56.30149   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:14:56.30149   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:14:56.30149   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:14:56.30149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:14:56.30150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:14:56.30150   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:14:56.30150   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:14:56.30150   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:14:56.30150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:14:56.30151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:14:56.30151   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:14:56.30152   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:14:56.30152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:14:56.30152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:14:56.30153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:14:56.30153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:14:56.30153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:14:56.30154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:14:56.30154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:14:56.30154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:14:56.30154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:14:56.30156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:14:56.30156   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:14:56.30156   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:14:57.17366 {"timestamp":"2020-10-21T14:14:57.173Z","pid":79694,"message":"Puma starting in cluster mode..."}
2020-10-21_14:14:57.17390 {"timestamp":"2020-10-21T14:14:57.173Z","pid":79694,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:14:57.17407 {"timestamp":"2020-10-21T14:14:57.174Z","pid":79694,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:14:57.17422 {"timestamp":"2020-10-21T14:14:57.174Z","pid":79694,"message":"* Environment: production"}
2020-10-21_14:14:57.17435 {"timestamp":"2020-10-21T14:14:57.174Z","pid":79694,"message":"* Process workers: 2"}
2020-10-21_14:14:57.17448 {"timestamp":"2020-10-21T14:14:57.174Z","pid":79694,"message":"* Preloading application"}
2020-10-21_14:15:11.06930 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:15:11.65308 {"timestamp":"2020-10-21T14:15:11.652Z","pid":79694,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:15:11.65330 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:15:11.65338 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:15:11.65339   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:15:11.65340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:15:11.65340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:15:11.65340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:15:11.65340   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:15:11.65341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:15:11.65341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:15:11.65341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:15:11.65341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:15:11.65342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:15:11.65342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:15:11.65342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:15:11.65344   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:15:11.65346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:15:11.65347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:15:11.65347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:15:11.65347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:15:11.65347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:15:11.65348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:15:11.65348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:15:11.65348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:15:11.65349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:15:11.65350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:15:11.65350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:15:11.65351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:15:11.65351   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:15:11.65351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:11.65351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:15:11.65352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:15:11.65352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:11.65352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:15:11.65354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:15:11.65354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:15:11.65354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:15:11.65355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:15:11.65355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:15:11.65355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:15:11.65356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:15:11.65356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:15:11.65357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:15:11.65357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:15:11.65357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:15:11.65358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:15:11.65358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:15:11.65358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:15:11.65359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:15:11.65359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:15:11.65359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:15:11.65359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:15:11.65360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:15:11.65361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:15:11.65361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:15:11.65361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:15:11.65361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:15:11.65361   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:15:11.65362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:15:11.65362   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:15:11.65362   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:15:11.65362   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:15:11.65363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:15:11.65363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:15:11.65363   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:15:11.65364   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:15:11.65364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:15:11.65364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:15:11.65365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:15:11.65365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:15:11.65365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:15:11.65365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:15:11.65365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:15:11.65366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:15:11.65366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:15:11.65367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:15:11.65367   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:15:11.65367   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:15:12.30924 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"Puma starting in cluster mode..."}
2020-10-21_14:15:12.30933 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:15:12.30940 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:15:12.30946 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"* Environment: production"}
2020-10-21_14:15:12.30952 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"* Process workers: 2"}
2020-10-21_14:15:12.30958 {"timestamp":"2020-10-21T14:15:12.309Z","pid":80147,"message":"* Preloading application"}
2020-10-21_14:15:25.08283 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:15:25.76071 {"timestamp":"2020-10-21T14:15:25.760Z","pid":80147,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:15:25.76148 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:15:25.76166 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:15:25.76167   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:15:25.76167   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:15:25.76167   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:15:25.76168   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:15:25.76168   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:15:25.76168   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:15:25.76168   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:15:25.76169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:15:25.76169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:15:25.76169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:15:25.76169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:15:25.76170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:15:25.76171   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:15:25.76171   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:15:25.76171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:15:25.76172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:15:25.76172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:15:25.76172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:15:25.76172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:15:25.76172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:15:25.76173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:15:25.76173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:15:25.76174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:15:25.76175   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:15:25.76175   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:15:25.76176   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:15:25.76176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:25.76176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:15:25.76176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:15:25.76177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:25.76177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:15:25.76178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:15:25.76178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:15:25.76178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:15:25.76179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:15:25.76179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:15:25.76179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:15:25.76179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:15:25.76180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:15:25.76181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:15:25.76181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:15:25.76181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:15:25.76181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:15:25.76182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:15:25.76182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:15:25.76182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:15:25.76182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:15:25.76183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:15:25.76183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:15:25.76183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:15:25.76184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:15:25.76184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:15:25.76185   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:15:25.76185   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:15:25.76185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:15:25.76186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:15:25.76186   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:15:25.76186   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:15:25.76186   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:15:25.76186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:15:25.76187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:15:25.76187   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:15:25.76188   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:15:25.76188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:15:25.76227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:15:25.76228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:15:25.76228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:15:25.76228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:15:25.76229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:15:25.76229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:15:25.76229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:15:25.76229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:15:25.76231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:15:25.76231   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:15:25.76231   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:15:26.58773 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"Puma starting in cluster mode..."}
2020-10-21_14:15:26.58776 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:15:26.58776 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:15:26.58776 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"* Environment: production"}
2020-10-21_14:15:26.58777 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"* Process workers: 2"}
2020-10-21_14:15:26.58778 {"timestamp":"2020-10-21T14:15:26.587Z","pid":80561,"message":"* Preloading application"}
2020-10-21_14:15:40.29178 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:15:41.07007 {"timestamp":"2020-10-21T14:15:41.069Z","pid":80561,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:15:41.07041 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:15:41.07056 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:15:41.07062   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:15:41.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:15:41.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:15:41.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:15:41.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:15:41.07064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:15:41.07064   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:15:41.07064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:15:41.07064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:15:41.07065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:15:41.07065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:15:41.07065   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:15:41.07066   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:15:41.07067   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:15:41.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:15:41.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:15:41.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:15:41.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:15:41.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:15:41.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:15:41.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:15:41.07069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:15:41.07070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:15:41.07070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:15:41.07070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:15:41.07070   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:15:41.07071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:41.07071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:15:41.07071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:15:41.07071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:41.07072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:15:41.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:15:41.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:15:41.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:15:41.07074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:15:41.07074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:15:41.07074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:15:41.07074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:15:41.07075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:15:41.07076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:15:41.07076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:15:41.07076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:15:41.07076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:15:41.07077   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:15:41.07077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:15:41.07077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:15:41.07077   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:15:41.07078   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:15:41.07078   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:15:41.07078   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:15:41.07079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:15:41.07079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:15:41.07080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:15:41.07080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:15:41.07080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:15:41.07080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:15:41.07081   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:15:41.07081   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:15:41.07081   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:15:41.07081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:15:41.07082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:15:41.07082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:15:41.07083   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:15:41.07083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:15:41.07083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:15:41.07083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:15:41.07084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:15:41.07084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:15:41.07084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:15:41.07085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:15:41.07085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:15:41.07085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:15:41.07086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:15:41.07087   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:15:41.07087   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:15:41.90417 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"Puma starting in cluster mode..."}
2020-10-21_14:15:41.90475 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:15:41.90501 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:15:41.90502 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"* Environment: production"}
2020-10-21_14:15:41.90503 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"* Process workers: 2"}
2020-10-21_14:15:41.90503 {"timestamp":"2020-10-21T14:15:41.904Z","pid":80998,"message":"* Preloading application"}
2020-10-21_14:15:56.17930 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:15:57.03048 {"timestamp":"2020-10-21T14:15:57.030Z","pid":80998,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:15:57.03084 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:15:57.03105 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:15:57.03106   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:15:57.03107   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:15:57.03107   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:15:57.03107   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:15:57.03114   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:15:57.03115   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:15:57.03138   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:15:57.03138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:15:57.03139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:15:57.03139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:15:57.03139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:15:57.03140   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:15:57.03141   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:15:57.03141   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:15:57.03142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:15:57.03142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:15:57.03143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:15:57.03143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:15:57.03143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:15:57.03143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:15:57.03144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:15:57.03144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:15:57.03145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:15:57.03145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:15:57.03145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:15:57.03146   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:15:57.03146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:57.03146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:15:57.03146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:15:57.03147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:15:57.03147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:15:57.03148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:15:57.03148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:15:57.03149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:15:57.03149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:15:57.03149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:15:57.03149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:15:57.03150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:15:57.03150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:15:57.03151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:15:57.03151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:15:57.03151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:15:57.03152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:15:57.03152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:15:57.03153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:15:57.03153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:15:57.03153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:15:57.03153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:15:57.03154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:15:57.03154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:15:57.03155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:15:57.03155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:15:57.03155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:15:57.03156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:15:57.03156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:15:57.03156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:15:57.03156   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:15:57.03157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:15:57.03157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:15:57.03157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:15:57.03157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:15:57.03157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:15:57.03158   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:15:57.03159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:15:57.03159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:15:57.03159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:15:57.03159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:15:57.03160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:15:57.03160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:15:57.03160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:15:57.03160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:15:57.03161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:15:57.03162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:15:57.03162   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:15:57.03162   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:15:57.83414 {"timestamp":"2020-10-21T14:15:57.834Z","pid":81455,"message":"Puma starting in cluster mode..."}
2020-10-21_14:15:57.83441 {"timestamp":"2020-10-21T14:15:57.834Z","pid":81455,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:15:57.83460 {"timestamp":"2020-10-21T14:15:57.834Z","pid":81455,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:15:57.83480 {"timestamp":"2020-10-21T14:15:57.834Z","pid":81455,"message":"* Environment: production"}
2020-10-21_14:15:57.83503 {"timestamp":"2020-10-21T14:15:57.835Z","pid":81455,"message":"* Process workers: 2"}
2020-10-21_14:15:57.83522 {"timestamp":"2020-10-21T14:15:57.835Z","pid":81455,"message":"* Preloading application"}
2020-10-21_14:16:11.62293 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:16:12.53764 {"timestamp":"2020-10-21T14:16:12.537Z","pid":81455,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:16:12.53794 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:16:12.53811 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:16:12.53811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:16:12.53812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:16:12.53812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:16:12.53812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:16:12.53813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:16:12.53813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:16:12.53813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:16:12.53813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:16:12.53813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:16:12.53814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:16:12.53814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:16:12.53814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:16:12.53815   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:16:12.53816   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:16:12.53816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:16:12.53816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:16:12.53816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:16:12.53817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:16:12.53817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:16:12.53817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:16:12.53817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:16:12.53818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:16:12.53819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:16:12.53819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:16:12.53819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:16:12.53820   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:16:12.53820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:12.53821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:16:12.53821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:16:12.53821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:12.53821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:16:12.53822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:16:12.53823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:16:12.53823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:16:12.53823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:16:12.53823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:16:12.53824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:16:12.53824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:16:12.53824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:16:12.53825   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:16:12.53825   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:16:12.53826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:16:12.53826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:16:12.53826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:16:12.53826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:16:12.53827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:16:12.53827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:16:12.53827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:16:12.53827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:16:12.53828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:16:12.53829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:16:12.53829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:16:12.53829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:16:12.53829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:16:12.53830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:16:12.53830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:16:12.53830   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:16:12.53831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:16:12.53831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:16:12.53831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:16:12.53831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:16:12.53831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:16:12.53832   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:16:12.53833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:16:12.53833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:16:12.53833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:16:12.53833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:16:12.53834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:16:12.53834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:16:12.53834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:16:12.53834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:16:12.53835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:16:12.53836   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:16:12.53836   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:16:12.53836   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:16:13.28970 {"timestamp":"2020-10-21T14:16:13.289Z","pid":81917,"message":"Puma starting in cluster mode..."}
2020-10-21_14:16:13.28994 {"timestamp":"2020-10-21T14:16:13.289Z","pid":81917,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:16:13.29008 {"timestamp":"2020-10-21T14:16:13.290Z","pid":81917,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:16:13.29022 {"timestamp":"2020-10-21T14:16:13.290Z","pid":81917,"message":"* Environment: production"}
2020-10-21_14:16:13.29035 {"timestamp":"2020-10-21T14:16:13.290Z","pid":81917,"message":"* Process workers: 2"}
2020-10-21_14:16:13.29049 {"timestamp":"2020-10-21T14:16:13.290Z","pid":81917,"message":"* Preloading application"}
2020-10-21_14:16:25.50638 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:16:26.39739 {"timestamp":"2020-10-21T14:16:26.397Z","pid":81917,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:16:26.39775 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:16:26.39800 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:16:26.39801   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:16:26.39801   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:16:26.39802   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:16:26.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:16:26.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:16:26.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:16:26.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:16:26.39804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:16:26.39804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:16:26.39804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:16:26.39804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:16:26.39805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:16:26.39806   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:16:26.39806   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:16:26.39806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:16:26.39806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:16:26.39807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:16:26.39807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:16:26.39807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:16:26.39807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:16:26.39808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:16:26.39808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:16:26.39809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:16:26.39809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:16:26.39809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:16:26.39810   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:16:26.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:26.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:16:26.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:16:26.39811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:26.39811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:16:26.39812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:16:26.39812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:16:26.39812   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:16:26.39813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:16:26.39813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:16:26.39813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:16:26.39814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:16:26.39814   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:16:26.39815   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:16:26.39815   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:16:26.39815   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:16:26.39816   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:16:26.39816   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:16:26.39816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:16:26.39816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:16:26.39817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:16:26.39817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:16:26.39817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:16:26.39817   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:16:26.39818   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:16:26.39819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:16:26.39819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:16:26.39819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:16:26.39819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:16:26.39819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:16:26.39820   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:16:26.39820   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:16:26.39820   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:16:26.39820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:16:26.39821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:16:26.39821   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:16:26.39822   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:16:26.39822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:16:26.39822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:16:26.39823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:16:26.39823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:16:26.39823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:16:26.39824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:16:26.39824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:16:26.39824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:16:26.39824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:16:26.39825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:16:26.39826   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:16:26.39826   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:16:27.23042 {"timestamp":"2020-10-21T14:16:27.230Z","pid":82343,"message":"Puma starting in cluster mode..."}
2020-10-21_14:16:27.23068 {"timestamp":"2020-10-21T14:16:27.230Z","pid":82343,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:16:27.23090 {"timestamp":"2020-10-21T14:16:27.230Z","pid":82343,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:16:27.23108 {"timestamp":"2020-10-21T14:16:27.231Z","pid":82343,"message":"* Environment: production"}
2020-10-21_14:16:27.23126 {"timestamp":"2020-10-21T14:16:27.231Z","pid":82343,"message":"* Process workers: 2"}
2020-10-21_14:16:27.23143 {"timestamp":"2020-10-21T14:16:27.231Z","pid":82343,"message":"* Preloading application"}
2020-10-21_14:16:40.32901 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:16:40.94682 {"timestamp":"2020-10-21T14:16:40.946Z","pid":82343,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:16:40.94715 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:16:40.94737 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:16:40.94742   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:16:40.94743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:16:40.94743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:16:40.94743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:16:40.94743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:16:40.94743   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:16:40.94744   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:16:40.94744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:16:40.94744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:16:40.94744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:16:40.94745   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:16:40.94745   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:16:40.94746   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:16:40.94746   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:16:40.94746   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:16:40.94763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:16:40.94763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:16:40.94764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:16:40.94764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:16:40.94764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:16:40.94764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:16:40.94765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:16:40.94766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:16:40.94766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:16:40.94766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:16:40.94766   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:16:40.94767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:40.94767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:16:40.94784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:16:40.94785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:40.94785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:16:40.94787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:16:40.94787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:16:40.94787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:16:40.94787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:16:40.94788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:16:40.94788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:16:40.94788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:16:40.94788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:16:40.94805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:16:40.94805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:16:40.94806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:16:40.94806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:16:40.94806   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:16:40.94806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:16:40.94807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:16:40.94807   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:16:40.94808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:16:40.94808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:16:40.94808   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:16:40.94809   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:16:40.94809   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:16:40.94826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:16:40.94827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:16:40.94827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:16:40.94827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:16:40.94828   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:16:40.94828   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:16:40.94828   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:16:40.94828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:16:40.94829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:16:40.94829   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:16:40.94830   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:16:40.94830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:16:40.94830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:16:40.94831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:16:40.94831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:16:40.94843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:16:40.94848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:16:40.94848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:16:40.94849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:16:40.94849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:16:40.94850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:16:40.94850   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:16:40.94851   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:16:41.73064 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"Puma starting in cluster mode..."}
2020-10-21_14:16:41.73069 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:16:41.73070 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:16:41.73070 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"* Environment: production"}
2020-10-21_14:16:41.73091 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"* Process workers: 2"}
2020-10-21_14:16:41.73096 {"timestamp":"2020-10-21T14:16:41.730Z","pid":82779,"message":"* Preloading application"}
2020-10-21_14:16:55.95959 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:16:56.97449 {"timestamp":"2020-10-21T14:16:56.974Z","pid":82779,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:16:56.97484 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:16:56.97502 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:16:56.97503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:16:56.97503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:16:56.97503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:16:56.97504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:16:56.97504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:16:56.97504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:16:56.97504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:16:56.97505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:16:56.97505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:16:56.97505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:16:56.97506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:16:56.97506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:16:56.97507   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:16:56.97507   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:16:56.97508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:16:56.97508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:16:56.97508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:16:56.97508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:16:56.97509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:16:56.97509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:16:56.97509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:16:56.97510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:16:56.97511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:16:56.97511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:16:56.97511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:16:56.97512   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:16:56.97513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:56.97513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:16:56.97513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:16:56.97513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:16:56.97514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:16:56.97515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:16:56.97515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:16:56.97515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:16:56.97516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:16:56.97516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:16:56.97516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:16:56.97516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:16:56.97516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:16:56.97518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:16:56.97518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:16:56.97518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:16:56.97518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:16:56.97519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:16:56.97519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:16:56.97519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:16:56.97519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:16:56.97520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:16:56.97520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:16:56.97520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:16:56.97521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:16:56.97521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:16:56.97521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:16:56.97522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:16:56.97522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:16:56.97522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:16:56.97522   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:16:56.97523   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:16:56.97523   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:16:56.97523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:16:56.97524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:16:56.97524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:16:56.97525   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:16:56.97525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:16:56.97525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:16:56.97526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:16:56.97526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:16:56.97526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:16:56.97526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:16:56.97527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:16:56.97527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:16:56.97527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:16:56.97536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:16:56.97572   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:16:56.97572   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:16:57.65247 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"Puma starting in cluster mode..."}
2020-10-21_14:16:57.65251 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:16:57.65251 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:16:57.65252 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"* Environment: production"}
2020-10-21_14:16:57.65252 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"* Process workers: 2"}
2020-10-21_14:16:57.65252 {"timestamp":"2020-10-21T14:16:57.652Z","pid":83238,"message":"* Preloading application"}
2020-10-21_14:17:13.39181 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:17:14.23411 {"timestamp":"2020-10-21T14:17:14.234Z","pid":83238,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:17:14.23445 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:17:14.23468 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:17:14.23470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:17:14.23471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:17:14.23471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:17:14.23471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:17:14.23472   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:17:14.23474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:17:14.23474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:17:14.23475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:17:14.23475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:17:14.23475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:17:14.23475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:17:14.23476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:17:14.23477   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:17:14.23477   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:17:14.23493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:17:14.23494   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:17:14.23494   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:17:14.23501   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:17:14.23501   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:17:14.23502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:17:14.23502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:17:14.23502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:17:14.23503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:17:14.23504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:17:14.23504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:17:14.23504   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:17:14.23504   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:14.23505   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:17:14.23522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:17:14.23524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:14.23525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:17:14.23526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:17:14.23526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:17:14.23526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:17:14.23527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:17:14.23527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:17:14.23534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:17:14.23534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:17:14.23534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:17:14.23536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:17:14.23536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:17:14.23536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:17:14.23536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:17:14.23537   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:17:14.23537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:17:14.23537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:17:14.23556   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:17:14.23557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:17:14.23557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:17:14.23557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:17:14.23560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:17:14.23560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:17:14.23560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:17:14.23560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:17:14.23566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:17:14.23566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:17:14.23567   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:17:14.23567   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:17:14.23567   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:17:14.23567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:17:14.23568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:17:14.23568   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:17:14.23569   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:17:14.23569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:17:14.23570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:17:14.23570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:17:14.23588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:17:14.23588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:17:14.23589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:17:14.23594   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:17:14.23595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:17:14.23595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:17:14.23596   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:17:14.23597   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:17:14.23597   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:17:15.20763 {"timestamp":"2020-10-21T14:17:15.207Z","pid":83744,"message":"Puma starting in cluster mode..."}
2020-10-21_14:17:15.20773 {"timestamp":"2020-10-21T14:17:15.207Z","pid":83744,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:17:15.20798 {"timestamp":"2020-10-21T14:17:15.207Z","pid":83744,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:17:15.20818 {"timestamp":"2020-10-21T14:17:15.208Z","pid":83744,"message":"* Environment: production"}
2020-10-21_14:17:15.20833 {"timestamp":"2020-10-21T14:17:15.208Z","pid":83744,"message":"* Process workers: 2"}
2020-10-21_14:17:15.20850 {"timestamp":"2020-10-21T14:17:15.208Z","pid":83744,"message":"* Preloading application"}
2020-10-21_14:17:31.99030 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:17:34.14347 {"timestamp":"2020-10-21T14:17:34.143Z","pid":83744,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:17:34.14595 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:17:34.14605 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:17:34.14622   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:17:34.14623   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:17:34.14623   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:17:34.14624   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:17:34.14624   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:17:34.14625   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:17:34.14625   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:17:34.14625   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:17:34.14626   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:17:34.14626   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:17:34.14626   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:17:34.14627   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:17:34.14628   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:17:34.14629   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:17:34.14629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:17:34.14629   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:17:34.14630   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:17:34.14631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:17:34.14631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:17:34.14632   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:17:34.14632   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:17:34.14632   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:17:34.14634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:17:34.14634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:17:34.14634   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:17:34.14635   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:17:34.14635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:34.14635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:17:34.14636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:17:34.14636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:34.14636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:17:34.14638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:17:34.14638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:17:34.14639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:17:34.14639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:17:34.14639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:17:34.14640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:17:34.14640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:17:34.14640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:17:34.14642   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:17:34.14642   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:17:34.14642   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:17:34.14643   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:17:34.14643   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:17:34.14643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:17:34.14644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:17:34.14644   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:17:34.14645   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:17:34.14645   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:17:34.14646   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:17:34.14647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:17:34.14647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:17:34.14648   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:17:34.14648   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:17:34.14648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:17:34.14649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:17:34.14649   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:17:34.14649   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:17:34.14649   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:17:34.14650   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:17:34.14650   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:17:34.14650   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:17:34.14652   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:17:34.14652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:17:34.14652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:17:34.14653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:17:34.14653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:17:34.14653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:17:34.14654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:17:34.14654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:17:34.14654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:17:34.14654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:17:34.14656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:17:34.14656   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:17:34.14657   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:17:35.51498 {"timestamp":"2020-10-21T14:17:35.514Z","pid":84311,"message":"Puma starting in cluster mode..."}
2020-10-21_14:17:35.51532 {"timestamp":"2020-10-21T14:17:35.515Z","pid":84311,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:17:35.51556 {"timestamp":"2020-10-21T14:17:35.515Z","pid":84311,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:17:35.51582 {"timestamp":"2020-10-21T14:17:35.515Z","pid":84311,"message":"* Environment: production"}
2020-10-21_14:17:35.51606 {"timestamp":"2020-10-21T14:17:35.516Z","pid":84311,"message":"* Process workers: 2"}
2020-10-21_14:17:35.51630 {"timestamp":"2020-10-21T14:17:35.516Z","pid":84311,"message":"* Preloading application"}
2020-10-21_14:17:59.06950 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:17:59.86186 {"timestamp":"2020-10-21T14:17:59.861Z","pid":84311,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:17:59.86213 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:17:59.86214 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:17:59.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:17:59.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:17:59.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:17:59.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:17:59.86216   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:17:59.86216   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:17:59.86216   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:17:59.86216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:17:59.86216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:17:59.86217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:17:59.86217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:17:59.86217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:17:59.86218   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:17:59.86218   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:17:59.86219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:17:59.86219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:17:59.86219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:17:59.86219   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:17:59.86220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:17:59.86220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:17:59.86220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:17:59.86221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:17:59.86221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:17:59.86221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:17:59.86222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:17:59.86222   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:17:59.86222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:59.86222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:17:59.86223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:17:59.86224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:17:59.86225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:17:59.86225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:17:59.86225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:17:59.86225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:17:59.86226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:17:59.86226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:17:59.86226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:17:59.86226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:17:59.86227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:17:59.86228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:17:59.86228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:17:59.86228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:17:59.86228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:17:59.86228   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:17:59.86229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:17:59.86229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:17:59.86229   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:17:59.86229   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:17:59.86230   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:17:59.86231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:17:59.86231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:17:59.86231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:17:59.86231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:17:59.86231   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:17:59.86232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:17:59.86232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:17:59.86232   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:17:59.86232   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:17:59.86233   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:17:59.86233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:17:59.86233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:17:59.86234   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:17:59.86234   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:17:59.86235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:17:59.86235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:17:59.86235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:17:59.86235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:17:59.86236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:17:59.86236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:17:59.86236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:17:59.86236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:17:59.86236   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:17:59.86238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:17:59.86238   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:17:59.86238   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:18:00.68257 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"Puma starting in cluster mode..."}
2020-10-21_14:18:00.68259 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:18:00.68260 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:18:00.68260 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"* Environment: production"}
2020-10-21_14:18:00.68261 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"* Process workers: 2"}
2020-10-21_14:18:00.68262 {"timestamp":"2020-10-21T14:18:00.682Z","pid":84992,"message":"* Preloading application"}
2020-10-21_14:18:21.96111 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:18:22.73951 {"timestamp":"2020-10-21T14:18:22.739Z","pid":84992,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:18:22.73977 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:18:22.73999 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:18:22.74000   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:18:22.74001   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:18:22.74001   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:18:22.74002   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:18:22.74002   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:18:22.74002   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:18:22.74003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:18:22.74004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:18:22.74004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:18:22.74005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:18:22.74005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:18:22.74005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:18:22.74007   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:18:22.74007   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:18:22.74008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:18:22.74008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:18:22.74008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:18:22.74009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:18:22.74009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:18:22.74009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:18:22.74010   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:18:22.74010   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:18:22.74011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:18:22.74012   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:18:22.74012   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:18:22.74012   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:18:22.74013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:22.74013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:18:22.74013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:18:22.74014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:22.74014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:18:22.74015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:18:22.74016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:18:22.74016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:18:22.74016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:18:22.74017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:18:22.74017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:18:22.74018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:18:22.74018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:18:22.74019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:18:22.74020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:18:22.74020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:18:22.74020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:18:22.74021   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:18:22.74021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:18:22.74021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:18:22.74022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:18:22.74022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:18:22.74022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:18:22.74023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:18:22.74024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:18:22.74024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:18:22.74025   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:18:22.74025   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:18:22.74025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:18:22.74025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:18:22.74026   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:18:22.74026   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:18:22.74026   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:18:22.74027   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:18:22.74027   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:18:22.74027   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:18:22.74029   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:18:22.74029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:18:22.74029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:18:22.74030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:18:22.74030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:18:22.74030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:18:22.74031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:18:22.74031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:18:22.74031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:18:22.74032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:18:22.74034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:18:22.74034   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:18:22.74034   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:18:23.65330 {"timestamp":"2020-10-21T14:18:23.653Z","pid":85607,"message":"Puma starting in cluster mode..."}
2020-10-21_14:18:23.65361 {"timestamp":"2020-10-21T14:18:23.653Z","pid":85607,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:18:23.65378 {"timestamp":"2020-10-21T14:18:23.653Z","pid":85607,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:18:23.65393 {"timestamp":"2020-10-21T14:18:23.653Z","pid":85607,"message":"* Environment: production"}
2020-10-21_14:18:23.65409 {"timestamp":"2020-10-21T14:18:23.654Z","pid":85607,"message":"* Process workers: 2"}
2020-10-21_14:18:23.65425 {"timestamp":"2020-10-21T14:18:23.654Z","pid":85607,"message":"* Preloading application"}
2020-10-21_14:18:37.81064 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:18:38.40097 {"timestamp":"2020-10-21T14:18:38.400Z","pid":85607,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:18:38.40147 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:18:38.40159 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:18:38.40163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:18:38.40164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:18:38.40164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:18:38.40164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:18:38.40164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:18:38.40164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:18:38.40165   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:18:38.40165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:18:38.40165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:18:38.40165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:18:38.40166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:18:38.40166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:18:38.40167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:18:38.40167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:18:38.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:18:38.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:18:38.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:18:38.40168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:18:38.40169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:18:38.40169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:18:38.40170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:18:38.40170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:18:38.40171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:18:38.40171   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:18:38.40172   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:18:38.40172   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:18:38.40172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:38.40172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:18:38.40173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:18:38.40173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:38.40173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:18:38.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:18:38.40174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:18:38.40175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:18:38.40175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:18:38.40175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:18:38.40175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:18:38.40176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:18:38.40176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:18:38.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:18:38.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:18:38.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:18:38.40177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:18:38.40178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:18:38.40178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:18:38.40178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:18:38.40178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:18:38.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:18:38.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:18:38.40179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:18:38.40180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:18:38.40181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:18:38.40181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:18:38.40181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:18:38.40181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:18:38.40182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:18:38.40182   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:18:38.40182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:18:38.40182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:18:38.40182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:18:38.40183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:18:38.40183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:18:38.40184   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:18:38.40184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:18:38.40184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:18:38.40185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:18:38.40185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:18:38.40185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:18:38.40185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:18:38.40186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:18:38.40186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:18:38.40186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:18:38.40187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:18:38.40187   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:18:38.40188   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:18:39.19389 {"timestamp":"2020-10-21T14:18:39.193Z","pid":86063,"message":"Puma starting in cluster mode..."}
2020-10-21_14:18:39.19399 {"timestamp":"2020-10-21T14:18:39.193Z","pid":86063,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:18:39.19405 {"timestamp":"2020-10-21T14:18:39.194Z","pid":86063,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:18:39.19413 {"timestamp":"2020-10-21T14:18:39.194Z","pid":86063,"message":"* Environment: production"}
2020-10-21_14:18:39.19419 {"timestamp":"2020-10-21T14:18:39.194Z","pid":86063,"message":"* Process workers: 2"}
2020-10-21_14:18:39.19425 {"timestamp":"2020-10-21T14:18:39.194Z","pid":86063,"message":"* Preloading application"}
2020-10-21_14:18:54.66165 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:18:55.80845 {"timestamp":"2020-10-21T14:18:55.808Z","pid":86063,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:18:55.80869 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:18:55.80881 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:18:55.80882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:18:55.80882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:18:55.80882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:18:55.80882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:18:55.80883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:18:55.80883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:18:55.80883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:18:55.80883   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:18:55.80884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:18:55.80884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:18:55.80884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:18:55.80884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:18:55.80885   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:18:55.80886   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:18:55.80886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:18:55.80886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:18:55.80886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:18:55.80887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:18:55.80887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:18:55.80887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:18:55.80887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:18:55.80888   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:18:55.80889   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:18:55.80889   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:18:55.80889   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:18:55.80889   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:18:55.80890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:55.80890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:18:55.80890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:18:55.80891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:18:55.80891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:18:55.80892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:18:55.80892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:18:55.80893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:18:55.80893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:18:55.80893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:18:55.80893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:18:55.80894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:18:55.80894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:18:55.80895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:18:55.80895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:18:55.80895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:18:55.80896   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:18:55.80896   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:18:55.80896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:18:55.80896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:18:55.80897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:18:55.80897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:18:55.80897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:18:55.80897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:18:55.80898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:18:55.80898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:18:55.80899   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:18:55.80899   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:18:55.80899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:18:55.80899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:18:55.80900   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:18:55.80900   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:18:55.80900   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:18:55.80900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:18:55.80901   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:18:55.80901   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:18:55.80902   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:18:55.80902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:18:55.80903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:18:55.80903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:18:55.80903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:18:55.80903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:18:55.80903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:18:55.80904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:18:55.80904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:18:55.80904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:18:55.80905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:18:55.80906   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:18:55.80906   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:18:56.52926 {"timestamp":"2020-10-21T14:18:56.529Z","pid":86561,"message":"Puma starting in cluster mode..."}
2020-10-21_14:18:56.53011 {"timestamp":"2020-10-21T14:18:56.530Z","pid":86561,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:18:56.53021 {"timestamp":"2020-10-21T14:18:56.530Z","pid":86561,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:18:56.53030 {"timestamp":"2020-10-21T14:18:56.530Z","pid":86561,"message":"* Environment: production"}
2020-10-21_14:18:56.53039 {"timestamp":"2020-10-21T14:18:56.530Z","pid":86561,"message":"* Process workers: 2"}
2020-10-21_14:18:56.53047 {"timestamp":"2020-10-21T14:18:56.530Z","pid":86561,"message":"* Preloading application"}
2020-10-21_14:19:10.74672 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:19:11.68915 {"timestamp":"2020-10-21T14:19:11.689Z","pid":86561,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:19:11.68957 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:19:11.69039 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:19:11.69040   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:19:11.69040   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:19:11.69041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:19:11.69041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:19:11.69041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:19:11.69041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:19:11.69042   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:19:11.69042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:19:11.69042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:19:11.69043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:19:11.69044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:19:11.69044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:19:11.69045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:19:11.69045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:19:11.69046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:19:11.69046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:19:11.69046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:19:11.69046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:19:11.69046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:19:11.69047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:19:11.69047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:19:11.69047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:19:11.69048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:19:11.69048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:19:11.69049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:19:11.69049   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:19:11.69049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:11.69049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:19:11.69050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:19:11.69050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:11.69050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:19:11.69051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:19:11.69051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:19:11.69052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:19:11.69052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:19:11.69052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:19:11.69052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:19:11.69053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:19:11.69053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:19:11.69054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:19:11.69054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:19:11.69055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:19:11.69055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:19:11.69055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:19:11.69055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:19:11.69056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:19:11.69056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:19:11.69056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:19:11.69056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:19:11.69057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:19:11.69058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:19:11.69058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:19:11.69058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:19:11.69058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:19:11.69058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:19:11.69059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:19:11.69059   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:19:11.69059   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:19:11.69059   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:19:11.69060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:19:11.69060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:19:11.69060   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:19:11.69061   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:19:11.69061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:19:11.69062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:19:11.69062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:19:11.69062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:19:11.69062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:19:11.69062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:19:11.69063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:19:11.69063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:19:11.69063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:19:11.69064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:19:11.69065   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:19:11.69065   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:19:12.56023 {"timestamp":"2020-10-21T14:19:12.560Z","pid":87040,"message":"Puma starting in cluster mode..."}
2020-10-21_14:19:12.56049 {"timestamp":"2020-10-21T14:19:12.560Z","pid":87040,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:19:12.56063 {"timestamp":"2020-10-21T14:19:12.560Z","pid":87040,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:19:12.56076 {"timestamp":"2020-10-21T14:19:12.560Z","pid":87040,"message":"* Environment: production"}
2020-10-21_14:19:12.56089 {"timestamp":"2020-10-21T14:19:12.560Z","pid":87040,"message":"* Process workers: 2"}
2020-10-21_14:19:12.56121 {"timestamp":"2020-10-21T14:19:12.561Z","pid":87040,"message":"* Preloading application"}
2020-10-21_14:19:26.91689 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:19:27.82512 {"timestamp":"2020-10-21T14:19:27.824Z","pid":87040,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:19:27.82516 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:19:27.82517 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:19:27.82517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:19:27.82517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:19:27.82518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:19:27.82518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:19:27.82518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:19:27.82518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:19:27.82519   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:19:27.82519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:19:27.82519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:19:27.82519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:19:27.82520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:19:27.82520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:19:27.82521   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:19:27.82521   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:19:27.82522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:19:27.82522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:19:27.82522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:19:27.82522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:19:27.82523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:19:27.82523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:19:27.82524   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:19:27.82525   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:19:27.82525   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:19:27.82526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:19:27.82526   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:19:27.82526   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:19:27.82526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:27.82527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:19:27.82527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:19:27.82527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:27.82528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:19:27.82528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:19:27.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:19:27.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:19:27.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:19:27.82529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:19:27.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:19:27.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:19:27.82530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:19:27.82531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:19:27.82531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:19:27.82532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:19:27.82532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:19:27.82532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:19:27.82532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:19:27.82533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:19:27.82533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:19:27.82533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:19:27.82533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:19:27.82534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:19:27.82535   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:19:27.82535   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:19:27.82536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:19:27.82536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:19:27.82536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:19:27.82536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:19:27.82536   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:19:27.82537   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:19:27.82537   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:19:27.82537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:19:27.82537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:19:27.82538   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:19:27.82539   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:19:27.82539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:19:27.82539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:19:27.82541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:19:27.82542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:19:27.82542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:19:27.82542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:19:27.82543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:19:27.82543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:19:27.82543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:19:27.82544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:19:27.82545   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:19:27.82545   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:19:28.89571 {"timestamp":"2020-10-21T14:19:28.895Z","pid":87506,"message":"Puma starting in cluster mode..."}
2020-10-21_14:19:28.89588 {"timestamp":"2020-10-21T14:19:28.895Z","pid":87506,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:19:28.89597 {"timestamp":"2020-10-21T14:19:28.895Z","pid":87506,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:19:28.89613 {"timestamp":"2020-10-21T14:19:28.896Z","pid":87506,"message":"* Environment: production"}
2020-10-21_14:19:28.89628 {"timestamp":"2020-10-21T14:19:28.896Z","pid":87506,"message":"* Process workers: 2"}
2020-10-21_14:19:28.89642 {"timestamp":"2020-10-21T14:19:28.896Z","pid":87506,"message":"* Preloading application"}
2020-10-21_14:19:45.33123 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:19:46.42288 {"timestamp":"2020-10-21T14:19:46.422Z","pid":87506,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:19:46.42327 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:19:46.42346 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:19:46.42347   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:19:46.42347   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:19:46.42348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:19:46.42348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:19:46.42348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:19:46.42348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:19:46.42348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:19:46.42349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:19:46.42349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:19:46.42349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:19:46.42349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:19:46.42350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:19:46.42351   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:19:46.42351   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:19:46.42351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:19:46.42352   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:19:46.42352   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:19:46.42352   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:19:46.42352   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:19:46.42353   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:19:46.42353   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:19:46.42353   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:19:46.42354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:19:46.42354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:19:46.42355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:19:46.42355   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:19:46.42355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:46.42355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:19:46.42356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:19:46.42356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:19:46.42357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:19:46.42358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:19:46.42358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:19:46.42358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:19:46.42358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:19:46.42359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:19:46.42359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:19:46.42359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:19:46.42359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:19:46.42361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:19:46.42361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:19:46.42361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:19:46.42361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:19:46.42362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:19:46.42362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:19:46.42362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:19:46.42362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:19:46.42362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:19:46.42363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:19:46.42363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:19:46.42364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:19:46.42364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:19:46.42364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:19:46.42365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:19:46.42365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:19:46.42365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:19:46.42365   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:19:46.42366   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:19:46.42366   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:19:46.42366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:19:46.42366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:19:46.42367   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:19:46.42368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:19:46.42368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:19:46.42368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:19:46.42369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:19:46.42369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:19:46.42369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:19:46.42369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:19:46.42370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:19:46.42370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:19:46.42370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:19:46.42371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:19:46.42371   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:19:46.42372   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:19:47.48384 {"timestamp":"2020-10-21T14:19:47.483Z","pid":88045,"message":"Puma starting in cluster mode..."}
2020-10-21_14:19:47.48411 {"timestamp":"2020-10-21T14:19:47.483Z","pid":88045,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:19:47.48432 {"timestamp":"2020-10-21T14:19:47.484Z","pid":88045,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:19:47.48451 {"timestamp":"2020-10-21T14:19:47.484Z","pid":88045,"message":"* Environment: production"}
2020-10-21_14:19:47.48469 {"timestamp":"2020-10-21T14:19:47.484Z","pid":88045,"message":"* Process workers: 2"}
2020-10-21_14:19:47.48490 {"timestamp":"2020-10-21T14:19:47.484Z","pid":88045,"message":"* Preloading application"}
2020-10-21_14:20:04.08294 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:20:04.86037 {"timestamp":"2020-10-21T14:20:04.859Z","pid":88045,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:20:04.86039 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:20:04.86040 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:20:04.86040   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:20:04.86040   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:20:04.86041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:20:04.86041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:20:04.86041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:20:04.86041   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:20:04.86042   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:20:04.86042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:20:04.86042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:20:04.86042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:20:04.86044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:20:04.86045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:20:04.86045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:20:04.86045   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:20:04.86046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:20:04.86046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:20:04.86046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:20:04.86046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:20:04.86047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:20:04.86047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:20:04.86048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:20:04.86048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:20:04.86048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:20:04.86049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:20:04.86049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:20:04.86049   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:20:04.86049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:04.86050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:20:04.86051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:20:04.86051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:04.86051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:20:04.86051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:20:04.86052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:20:04.86052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:20:04.86052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:20:04.86052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:20:04.86053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:20:04.86056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:20:04.86056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:20:04.86056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:20:04.86056   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:20:04.86057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:20:04.86057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:20:04.86057   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:20:04.86058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:20:04.86058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:20:04.86058   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:20:04.86059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:20:04.86059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:20:04.86060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:20:04.86060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:20:04.86060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:20:04.86060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:20:04.86061   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:20:04.86061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:20:04.86061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:20:04.86061   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:20:04.86061   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:20:04.86062   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:20:04.86063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:20:04.86063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:20:04.86063   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:20:04.86063   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:20:04.86064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:20:04.86064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:20:04.86064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:20:04.86064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:20:04.86065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:20:04.86065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:20:04.86134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:20:04.86137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:20:04.86137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:20:04.86137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:20:04.86137   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:20:04.86138   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:20:05.76939 {"timestamp":"2020-10-21T14:20:05.769Z","pid":88562,"message":"Puma starting in cluster mode..."}
2020-10-21_14:20:05.76950 {"timestamp":"2020-10-21T14:20:05.769Z","pid":88562,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:20:05.76972 {"timestamp":"2020-10-21T14:20:05.769Z","pid":88562,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:20:05.76991 {"timestamp":"2020-10-21T14:20:05.769Z","pid":88562,"message":"* Environment: production"}
2020-10-21_14:20:05.77014 {"timestamp":"2020-10-21T14:20:05.770Z","pid":88562,"message":"* Process workers: 2"}
2020-10-21_14:20:05.77021 {"timestamp":"2020-10-21T14:20:05.770Z","pid":88562,"message":"* Preloading application"}
2020-10-21_14:20:22.09059 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:20:23.23134 {"timestamp":"2020-10-21T14:20:23.231Z","pid":88562,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:20:23.23160 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:20:23.23161 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:20:23.23162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:20:23.23162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:20:23.23162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:20:23.23162   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:20:23.23163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:20:23.23163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:20:23.23163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:20:23.23163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:20:23.23164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:20:23.23164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:20:23.23164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:20:23.23164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:20:23.23165   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:20:23.23166   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:20:23.23166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:20:23.23166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:20:23.23166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:20:23.23167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:20:23.23167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:20:23.23167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:20:23.23167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:20:23.23168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:20:23.23169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:20:23.23170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:20:23.23170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:20:23.23170   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:20:23.23170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:23.23171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:20:23.23171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:20:23.23171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:23.23172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:20:23.23172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:20:23.23173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:20:23.23173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:20:23.23173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:20:23.23173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:20:23.23174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:20:23.23210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:20:23.23211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:20:23.23212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:20:23.23212   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:20:23.23213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:20:23.23213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:20:23.23213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:20:23.23213   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:20:23.23214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:20:23.23214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:20:23.23214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:20:23.23214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:20:23.23215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:20:23.23216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:20:23.23216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:20:23.23216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:20:23.23217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:20:23.23217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:20:23.23217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:20:23.23218   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:20:23.23218   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:20:23.23218   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:20:23.23218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:20:23.23219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:20:23.23220   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:20:23.23220   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:20:23.23220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:20:23.23220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:20:23.23221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:20:23.23221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:20:23.23221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:20:23.23221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:20:23.23221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:20:23.23222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:20:23.23222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:20:23.23223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:20:23.23224   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:20:23.23224   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:20:24.09448 {"timestamp":"2020-10-21T14:20:24.094Z","pid":89097,"message":"Puma starting in cluster mode..."}
2020-10-21_14:20:24.09473 {"timestamp":"2020-10-21T14:20:24.094Z","pid":89097,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:20:24.09488 {"timestamp":"2020-10-21T14:20:24.094Z","pid":89097,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:20:24.09502 {"timestamp":"2020-10-21T14:20:24.094Z","pid":89097,"message":"* Environment: production"}
2020-10-21_14:20:24.09523 {"timestamp":"2020-10-21T14:20:24.095Z","pid":89097,"message":"* Process workers: 2"}
2020-10-21_14:20:24.09538 {"timestamp":"2020-10-21T14:20:24.095Z","pid":89097,"message":"* Preloading application"}
2020-10-21_14:20:39.49671 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:20:40.10749 {"timestamp":"2020-10-21T14:20:40.107Z","pid":89097,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:20:40.10771 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:20:40.10784 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:20:40.10785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:20:40.10785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:20:40.10786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:20:40.10786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:20:40.10786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:20:40.10786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:20:40.10786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:20:40.10787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:20:40.10787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:20:40.10787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:20:40.10787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:20:40.10788   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:20:40.10789   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:20:40.10789   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:20:40.10789   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:20:40.10789   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:20:40.10790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:20:40.10790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:20:40.10790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:20:40.10790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:20:40.10791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:20:40.10791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:20:40.10792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:20:40.10792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:20:40.10792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:20:40.10792   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:20:40.10793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:40.10793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:20:40.10793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:20:40.10793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:40.10794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:20:40.10795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:20:40.10795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:20:40.10796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:20:40.10796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:20:40.10796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:20:40.10796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:20:40.10797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:20:40.10797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:20:40.10798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:20:40.10798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:20:40.10798   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:20:40.10799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:20:40.10799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:20:40.10799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:20:40.10799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:20:40.10799   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:20:40.10800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:20:40.10800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:20:40.10800   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:20:40.10801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:20:40.10801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:20:40.10801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:20:40.10802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:20:40.10802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:20:40.10802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:20:40.10802   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:20:40.10803   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:20:40.10803   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:20:40.10803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:20:40.10803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:20:40.10803   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:20:40.10804   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:20:40.10805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:20:40.10805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:20:40.10805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:20:40.10806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:20:40.10806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:20:40.10806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:20:40.10806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:20:40.10806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:20:40.10807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:20:40.10808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:20:40.10808   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:20:40.10808   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:20:40.92380 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"Puma starting in cluster mode..."}
2020-10-21_14:20:40.92383 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:20:40.92384 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:20:40.92384 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"* Environment: production"}
2020-10-21_14:20:40.92385 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"* Process workers: 2"}
2020-10-21_14:20:40.92385 {"timestamp":"2020-10-21T14:20:40.923Z","pid":89567,"message":"* Preloading application"}
2020-10-21_14:20:57.21823 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:20:58.25919 {"timestamp":"2020-10-21T14:20:58.259Z","pid":89567,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:20:58.25955 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:20:58.25978 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:20:58.25980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:20:58.25981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:20:58.25981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:20:58.25981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:20:58.25981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:20:58.25982   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:20:58.25982   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:20:58.25982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:20:58.25982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:20:58.25983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:20:58.25983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:20:58.25983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:20:58.25997   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:20:58.25998   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:20:58.25998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:20:58.25999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:20:58.25999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:20:58.25999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:20:58.25999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:20:58.26000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:20:58.26000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:20:58.26000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:20:58.26016   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:20:58.26017   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:20:58.26017   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:20:58.26018   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:20:58.26028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:58.26028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:20:58.26029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:20:58.26029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:20:58.26029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:20:58.26044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:20:58.26045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:20:58.26045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:20:58.26046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:20:58.26059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:20:58.26060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:20:58.26060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:20:58.26060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:20:58.26072   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:20:58.26073   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:20:58.26074   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:20:58.26075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:20:58.26075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:20:58.26075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:20:58.26075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:20:58.26076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:20:58.26076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:20:58.26076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:20:58.26087   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:20:58.26089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:20:58.26089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:20:58.26089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:20:58.26090   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:20:58.26090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:20:58.26090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:20:58.26090   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:20:58.26091   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:20:58.26091   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:20:58.26091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:20:58.26106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:20:58.26107   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:20:58.26118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:20:58.26119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:20:58.26119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:20:58.26120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:20:58.26120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:20:58.26120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:20:58.26120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:20:58.26134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:20:58.26135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:20:58.26135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:20:58.26146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:20:58.26146   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:20:58.26147   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:20:59.03931 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"Puma starting in cluster mode..."}
2020-10-21_14:20:59.03941 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:20:59.03964 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:20:59.03973 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"* Environment: production"}
2020-10-21_14:20:59.03988 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"* Process workers: 2"}
2020-10-21_14:20:59.04006 {"timestamp":"2020-10-21T14:20:59.039Z","pid":90075,"message":"* Preloading application"}
2020-10-21_14:21:15.31281 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:21:16.40391 {"timestamp":"2020-10-21T14:21:16.403Z","pid":90075,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:21:16.40430 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:21:16.40435 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:21:16.40436   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:21:16.40436   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:21:16.40437   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:21:16.40437   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:21:16.40438   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:21:16.40452   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:21:16.40462   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:21:16.40472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:21:16.40473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:21:16.40473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:21:16.40473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:21:16.40487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:21:16.40488   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:21:16.40489   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:21:16.40489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:21:16.40498   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:21:16.40499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:21:16.40499   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:21:16.40500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:21:16.40500   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:21:16.40519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:21:16.40521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:21:16.40521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:21:16.40539   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:21:16.40553   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:21:16.40554   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:21:16.40554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:16.40554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:21:16.40554   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:21:16.40555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:16.40580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:21:16.40592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:21:16.40605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:21:16.40617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:21:16.40632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:21:16.40634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:21:16.40635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:21:16.40635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:21:16.40635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:21:16.40636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:21:16.40650   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:21:16.40659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:21:16.40667   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:21:16.40688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:21:16.40715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:21:16.40719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:21:16.40720   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:21:16.40720   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:21:16.40734   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:21:16.40735   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:21:16.40736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:21:16.40736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:21:16.40736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:21:16.40743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:21:16.40746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:21:16.40769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:21:16.40769   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:21:16.40770   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:21:16.40770   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:21:16.40770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:21:16.40770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:21:16.40789   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:21:16.40790   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:21:16.40790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:21:16.40790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:21:16.40791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:21:16.40791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:21:16.40791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:21:16.40791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:21:16.40815   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:21:16.40822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:21:16.40823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:21:16.40847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:21:16.40854   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:21:16.40918   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:21:17.31763 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"Puma starting in cluster mode..."}
2020-10-21_14:21:17.31766 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:21:17.31767 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:21:17.31767 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"* Environment: production"}
2020-10-21_14:21:17.31767 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"* Process workers: 2"}
2020-10-21_14:21:17.31768 {"timestamp":"2020-10-21T14:21:17.317Z","pid":90616,"message":"* Preloading application"}
2020-10-21_14:21:33.33345 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:21:34.17395 {"timestamp":"2020-10-21T14:21:34.173Z","pid":90616,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:21:34.17432 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:21:34.17467 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:21:34.17471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:21:34.17486   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:21:34.17500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:21:34.17517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:21:34.17518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:21:34.17518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:21:34.17518   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:21:34.17518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:21:34.17519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:21:34.17519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:21:34.17519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:21:34.17519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:21:34.17573   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:21:34.17574   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:21:34.17574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:21:34.17575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:21:34.17575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:21:34.17575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:21:34.17595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:21:34.17612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:21:34.17631   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:21:34.17648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:21:34.17668   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:21:34.17669   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:21:34.17669   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:21:34.17670   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:21:34.17670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:34.17670   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:21:34.17671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:21:34.17671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:34.17671   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:21:34.17673   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:21:34.17673   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:21:34.17674   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:21:34.17675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:21:34.17675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:21:34.17675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:21:34.17675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:21:34.17676   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:21:34.17677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:21:34.17677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:21:34.17678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:21:34.17678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:21:34.17678   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:21:34.17679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:21:34.17679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:21:34.17679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:21:34.17679   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:21:34.17680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:21:34.17680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:21:34.17681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:21:34.17682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:21:34.17682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:21:34.17682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:21:34.17682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:21:34.17683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:21:34.17683   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:21:34.17683   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:21:34.17684   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:21:34.17684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:21:34.17684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:21:34.17684   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:21:34.17686   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:21:34.17686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:21:34.17686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:21:34.17687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:21:34.17687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:21:34.17688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:21:34.17689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:21:34.17710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:21:34.17711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:21:34.17712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:21:34.17713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:21:34.17714   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:21:34.17714   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:21:35.11117 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"Puma starting in cluster mode..."}
2020-10-21_14:21:35.11120 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:21:35.11122 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:21:35.11122 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"* Environment: production"}
2020-10-21_14:21:35.11123 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"* Process workers: 2"}
2020-10-21_14:21:35.11136 {"timestamp":"2020-10-21T14:21:35.111Z","pid":91123,"message":"* Preloading application"}
2020-10-21_14:21:57.49050 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:21:58.95022 {"timestamp":"2020-10-21T14:21:58.949Z","pid":91123,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:21:58.95024 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:21:58.95024 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:21:58.95025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:21:58.95025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:21:58.95025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:21:58.95025   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:21:58.95026   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:21:58.95026   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:21:58.95026   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:21:58.95027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:21:58.95027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:21:58.95027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:21:58.95028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:21:58.95029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:21:58.95029   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:21:58.95029   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:21:58.95030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:21:58.95030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:21:58.95031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:21:58.95031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:21:58.95031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:21:58.95031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:21:58.95033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:21:58.95033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:21:58.95033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:21:58.95033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:21:58.95034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:21:58.95034   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:21:58.95034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:58.95034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:21:58.95035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:21:58.95036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:21:58.95036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:21:58.95036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:21:58.95036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:21:58.95037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:21:58.95037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:21:58.95037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:21:58.95037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:21:58.95038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:21:58.95039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:21:58.95039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:21:58.95039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:21:58.95039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:21:58.95040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:21:58.95040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:21:58.95040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:21:58.95041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:21:58.95041   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:21:58.95042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:21:58.95042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:21:58.95042   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:21:58.95043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:21:58.95043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:21:58.95043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:21:58.95043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:21:58.95043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:21:58.95044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:21:58.95044   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:21:58.95044   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:21:58.95044   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:21:58.95046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:21:58.95046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:21:58.95046   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:21:58.95046   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:21:58.95046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:21:58.95047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:21:58.95047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:21:58.95047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:21:58.95047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:21:58.95048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:21:58.95048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:21:58.95049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:21:58.95049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:21:58.95050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:21:58.95050   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:21:58.95050   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:22:00.62280 {"timestamp":"2020-10-21T14:22:00.622Z","pid":91789,"message":"Puma starting in cluster mode..."}
2020-10-21_14:22:00.62294 {"timestamp":"2020-10-21T14:22:00.622Z","pid":91789,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:22:00.62301 {"timestamp":"2020-10-21T14:22:00.622Z","pid":91789,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:22:00.62307 {"timestamp":"2020-10-21T14:22:00.623Z","pid":91789,"message":"* Environment: production"}
2020-10-21_14:22:00.62314 {"timestamp":"2020-10-21T14:22:00.623Z","pid":91789,"message":"* Process workers: 2"}
2020-10-21_14:22:00.62320 {"timestamp":"2020-10-21T14:22:00.623Z","pid":91789,"message":"* Preloading application"}
2020-10-21_14:22:43.02547 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:22:44.90513 {"timestamp":"2020-10-21T14:22:44.898Z","pid":91789,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:22:44.90515 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:22:44.90515 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:22:44.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:22:44.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:22:44.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:22:44.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:22:44.90517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:22:44.90517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:22:44.90517   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:22:44.90518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:22:44.90518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:22:44.90518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:22:44.90519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:22:44.90520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:22:44.90520   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:22:44.90520   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:22:44.90520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:22:44.90521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:22:44.90521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:22:44.90521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:22:44.90521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:22:44.90522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:22:44.90523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:22:44.90523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:22:44.90523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:22:44.90524   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:22:44.90524   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:22:44.90525   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:22:44.90525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:22:44.90526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:22:44.90527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:22:44.90527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:22:44.90527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:22:44.90527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:22:44.90528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:22:44.90528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:22:44.90528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:22:44.90528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:22:44.90529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:22:44.90530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:22:44.90530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:22:44.90530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:22:44.90530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:22:44.90531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:22:44.90531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:22:44.90531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:22:44.90531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:22:44.90531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:22:44.90532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:22:44.90533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:22:44.90533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:22:44.90533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:22:44.90533   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:22:44.90534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:22:44.90534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:22:44.90534   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:22:44.90534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:22:44.90535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:22:44.90535   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:22:44.90535   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:22:44.90536   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:22:44.90537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:22:44.90537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:22:44.90537   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:22:44.90537   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:22:44.90538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:22:44.90538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:22:44.90538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:22:44.90538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:22:44.90538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:22:44.90539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:22:44.90539   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:22:44.90541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:22:44.90542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:22:44.90542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:22:44.90542   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:22:44.90542   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:22:47.00553 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"Puma starting in cluster mode..."}
2020-10-21_14:22:47.00555 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:22:47.00556 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:22:47.00556 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"* Environment: production"}
2020-10-21_14:22:47.00556 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"* Process workers: 2"}
2020-10-21_14:22:47.00557 {"timestamp":"2020-10-21T14:22:47.002Z","pid":92789,"message":"* Preloading application"}
2020-10-21_14:23:13.66499 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:23:14.45836 {"timestamp":"2020-10-21T14:23:14.458Z","pid":92789,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:23:14.45856 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:23:14.45866 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:23:14.45867   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:23:14.45867   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:23:14.45867   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:23:14.45868   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:23:14.45868   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:23:14.45869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:23:14.45869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:23:14.45869   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:23:14.45869   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:23:14.45870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:23:14.45870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:23:14.45870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:23:14.45871   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:23:14.45871   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:23:14.45872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:23:14.45872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:23:14.45872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:23:14.45872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:23:14.45873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:23:14.45873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:23:14.45873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:23:14.45873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:23:14.45876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:23:14.45876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:23:14.45876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:23:14.45876   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:23:14.45876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:14.45877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:23:14.45877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:23:14.45877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:14.45877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:23:14.45880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:23:14.45880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:23:14.45881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:23:14.45881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:23:14.45881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:23:14.45882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:23:14.45882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:23:14.45882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:23:14.45883   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:23:14.45883   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:23:14.45884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:23:14.45884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:23:14.45884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:23:14.45884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:23:14.45885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:23:14.45885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:23:14.45885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:23:14.45885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:23:14.45886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:23:14.45886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:23:14.45887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:23:14.45887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:23:14.45887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:23:14.45887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:23:14.45888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:23:14.45888   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:23:14.45888   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:23:14.45888   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:23:14.45888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:23:14.45889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:23:14.45889   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:23:14.45890   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:23:14.45890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:23:14.45890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:23:14.45891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:23:14.45891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:23:14.45891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:23:14.45891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:23:14.45892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:23:14.45892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:23:14.45892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:23:14.45893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:23:14.45894   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:23:14.45894   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:23:15.29339 {"timestamp":"2020-10-21T14:23:15.293Z","pid":93536,"message":"Puma starting in cluster mode..."}
2020-10-21_14:23:15.29375 {"timestamp":"2020-10-21T14:23:15.293Z","pid":93536,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:23:15.29384 {"timestamp":"2020-10-21T14:23:15.293Z","pid":93536,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:23:15.29393 {"timestamp":"2020-10-21T14:23:15.293Z","pid":93536,"message":"* Environment: production"}
2020-10-21_14:23:15.29401 {"timestamp":"2020-10-21T14:23:15.293Z","pid":93536,"message":"* Process workers: 2"}
2020-10-21_14:23:15.29408 {"timestamp":"2020-10-21T14:23:15.294Z","pid":93536,"message":"* Preloading application"}
2020-10-21_14:23:31.10395 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:23:31.71724 {"timestamp":"2020-10-21T14:23:31.717Z","pid":93536,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:23:31.71745 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:23:31.71756 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:23:31.71757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:23:31.71757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:23:31.71757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:23:31.71757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:23:31.71757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:23:31.71758   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:23:31.71758   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:23:31.71758   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:23:31.71758   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:23:31.71759   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:23:31.71759   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:23:31.71759   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:23:31.71760   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:23:31.71760   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:23:31.71761   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:23:31.71761   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:23:31.71762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:23:31.71762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:23:31.71762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:23:31.71762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:23:31.71763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:23:31.71763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:23:31.71764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:23:31.71764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:23:31.71764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:23:31.71765   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:23:31.71765   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:31.71765   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:23:31.71765   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:23:31.71766   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:31.71766   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:23:31.71767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:23:31.71767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:23:31.71767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:23:31.71768   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:23:31.71768   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:23:31.71768   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:23:31.71768   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:23:31.71769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:23:31.71770   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:23:31.71770   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:23:31.71770   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:23:31.71770   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:23:31.71771   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:23:31.71771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:23:31.71771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:23:31.71771   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:23:31.71772   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:23:31.71772   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:23:31.71772   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:23:31.71773   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:23:31.71773   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:23:31.71774   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:23:31.71774   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:23:31.71774   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:23:31.71774   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:23:31.71775   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:23:31.71775   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:23:31.71775   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:23:31.71775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:23:31.71775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:23:31.71776   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:23:31.71777   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:23:31.71777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:23:31.71777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:23:31.71777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:23:31.71778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:23:31.71778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:23:31.71778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:23:31.71778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:23:31.71778   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:23:31.71779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:23:31.71780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:23:31.71780   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:23:31.71780   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:23:32.38387 {"timestamp":"2020-10-21T14:23:32.383Z","pid":94018,"message":"Puma starting in cluster mode..."}
2020-10-21_14:23:32.38400 {"timestamp":"2020-10-21T14:23:32.383Z","pid":94018,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:23:32.38423 {"timestamp":"2020-10-21T14:23:32.384Z","pid":94018,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:23:32.38438 {"timestamp":"2020-10-21T14:23:32.384Z","pid":94018,"message":"* Environment: production"}
2020-10-21_14:23:32.38446 {"timestamp":"2020-10-21T14:23:32.384Z","pid":94018,"message":"* Process workers: 2"}
2020-10-21_14:23:32.38463 {"timestamp":"2020-10-21T14:23:32.384Z","pid":94018,"message":"* Preloading application"}
2020-10-21_14:23:45.92605 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:23:46.77139 {"timestamp":"2020-10-21T14:23:46.770Z","pid":94018,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:23:46.77178 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:23:46.77198 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:23:46.77198   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:23:46.77199   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:23:46.77199   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:23:46.77199   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:23:46.77200   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:23:46.77200   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:23:46.77200   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:23:46.77200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:23:46.77201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:23:46.77201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:23:46.77201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:23:46.77201   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:23:46.77203   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:23:46.77203   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:23:46.77203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:23:46.77203   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:23:46.77204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:23:46.77204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:23:46.77204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:23:46.77204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:23:46.77205   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:23:46.77205   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:23:46.77206   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:23:46.77206   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:23:46.77207   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:23:46.77207   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:23:46.77207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:46.77208   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:23:46.77209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:23:46.77209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:23:46.77209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:23:46.77210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:23:46.77210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:23:46.77211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:23:46.77211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:23:46.77211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:23:46.77211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:23:46.77211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:23:46.77212   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:23:46.77213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:23:46.77213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:23:46.77213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:23:46.77213   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:23:46.77214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:23:46.77214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:23:46.77214   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:23:46.77214   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:23:46.77215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:23:46.77215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:23:46.77215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:23:46.77216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:23:46.77216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:23:46.77217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:23:46.77217   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:23:46.77217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:23:46.77217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:23:46.77217   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:23:46.77218   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:23:46.77218   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:23:46.77218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:23:46.77219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:23:46.77219   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:23:46.77220   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:23:46.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:23:46.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:23:46.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:23:46.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:23:46.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:23:46.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:23:46.77222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:23:46.77222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:23:46.77222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:23:46.77223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:23:46.77223   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:23:46.77224   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:23:47.64731 {"timestamp":"2020-10-21T14:23:47.647Z","pid":94476,"message":"Puma starting in cluster mode..."}
2020-10-21_14:23:47.64771 {"timestamp":"2020-10-21T14:23:47.647Z","pid":94476,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:23:47.64795 {"timestamp":"2020-10-21T14:23:47.647Z","pid":94476,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:23:47.64822 {"timestamp":"2020-10-21T14:23:47.648Z","pid":94476,"message":"* Environment: production"}
2020-10-21_14:23:47.64848 {"timestamp":"2020-10-21T14:23:47.648Z","pid":94476,"message":"* Process workers: 2"}
2020-10-21_14:23:47.64871 {"timestamp":"2020-10-21T14:23:47.648Z","pid":94476,"message":"* Preloading application"}
2020-10-21_14:24:17.39054 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:24:18.33539 {"timestamp":"2020-10-21T14:24:18.335Z","pid":94476,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:24:18.33567 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:24:18.33584 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:24:18.33585   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:24:18.33585   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:24:18.33586   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:24:18.33586   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:24:18.33586   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:24:18.33586   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:24:18.33587   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:24:18.33588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:24:18.33588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:24:18.33588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:24:18.33589   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:24:18.33589   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:24:18.33590   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:24:18.33590   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:24:18.33591   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:24:18.33591   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:24:18.33591   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:24:18.33591   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:24:18.33592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:24:18.33592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:24:18.33592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:24:18.33592   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:24:18.33594   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:24:18.33594   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:24:18.33594   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:24:18.33594   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:24:18.33595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:24:18.33595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:24:18.33595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:24:18.33596   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:24:18.33596   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:24:18.33597   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:24:18.33597   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:24:18.33598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:24:18.33598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:24:18.33598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:24:18.33599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:24:18.33599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:24:18.33599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:24:18.33600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:24:18.33601   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:24:18.33601   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:24:18.33601   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:24:18.33601   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:24:18.33602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:24:18.33602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:24:18.33602   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:24:18.33603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:24:18.33603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:24:18.33603   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:24:18.33604   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:24:18.33604   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:24:18.33605   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:24:18.33605   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:24:18.33605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:24:18.33605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:24:18.33606   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:24:18.33606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:24:18.33606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:24:18.33606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:24:18.33607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:24:18.33607   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:24:18.33608   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:24:18.33608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:24:18.33609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:24:18.33609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:24:18.33609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:24:18.33609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:24:18.33610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:24:18.33610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:24:18.33611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:24:18.33611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:24:18.33612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:24:18.33612   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:24:18.33613   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:24:19.23752 {"timestamp":"2020-10-21T14:24:19.237Z","pid":95282,"message":"Puma starting in cluster mode..."}
2020-10-21_14:24:19.23766 {"timestamp":"2020-10-21T14:24:19.237Z","pid":95282,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:24:19.23778 {"timestamp":"2020-10-21T14:24:19.237Z","pid":95282,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:24:19.23793 {"timestamp":"2020-10-21T14:24:19.237Z","pid":95282,"message":"* Environment: production"}
2020-10-21_14:24:19.23808 {"timestamp":"2020-10-21T14:24:19.238Z","pid":95282,"message":"* Process workers: 2"}
2020-10-21_14:24:19.23823 {"timestamp":"2020-10-21T14:24:19.238Z","pid":95282,"message":"* Preloading application"}
2020-10-21_14:24:44.29458 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:24:45.11173 {"timestamp":"2020-10-21T14:24:45.111Z","pid":95282,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:24:45.11236 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:24:45.11324 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:24:45.11326   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:24:45.11327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:24:45.11327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:24:45.11327   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:24:45.11328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:24:45.11328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:24:45.11328   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:24:45.11329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:24:45.11329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:24:45.11329   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:24:45.11330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:24:45.11330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:24:45.11332   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:24:45.11332   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:24:45.11333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:24:45.11333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:24:45.11333   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:24:45.11335   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:24:45.11335   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:24:45.11336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:24:45.11336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:24:45.11336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:24:45.11338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:24:45.11338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:24:45.11338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:24:45.11339   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:24:45.11339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:24:45.11339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:24:45.11340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:24:45.11340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:24:45.11340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:24:45.11342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:24:45.11342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:24:45.11342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:24:45.11343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:24:45.11343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:24:45.11343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:24:45.11344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:24:45.11344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:24:45.11345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:24:45.11346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:24:45.11346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:24:45.11346   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:24:45.11347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:24:45.11347   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:24:45.11347   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:24:45.11348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:24:45.11348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:24:45.11349   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:24:45.11349   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:24:45.11350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:24:45.11351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:24:45.11351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:24:45.11351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:24:45.11351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:24:45.11352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:24:45.11352   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:24:45.11352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:24:45.11353   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:24:45.11353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:24:45.11353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:24:45.11354   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:24:45.11355   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:24:45.11355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:24:45.11356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:24:45.11356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:24:45.11356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:24:45.11357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:24:45.11357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:24:45.11357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:24:45.11358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:24:45.11358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:24:45.11360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:24:45.11360   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:24:45.11360   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:24:46.08953 {"timestamp":"2020-10-21T14:24:46.089Z","pid":96011,"message":"Puma starting in cluster mode..."}
2020-10-21_14:24:46.08979 {"timestamp":"2020-10-21T14:24:46.089Z","pid":96011,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:24:46.08997 {"timestamp":"2020-10-21T14:24:46.089Z","pid":96011,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:24:46.09013 {"timestamp":"2020-10-21T14:24:46.090Z","pid":96011,"message":"* Environment: production"}
2020-10-21_14:24:46.09026 {"timestamp":"2020-10-21T14:24:46.090Z","pid":96011,"message":"* Process workers: 2"}
2020-10-21_14:24:46.09045 {"timestamp":"2020-10-21T14:24:46.090Z","pid":96011,"message":"* Preloading application"}
2020-10-21_14:25:02.74167 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:25:03.94792 {"timestamp":"2020-10-21T14:25:03.947Z","pid":96011,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:25:03.94816 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:25:03.94841 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:25:03.94842   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:25:03.94842   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:25:03.94843   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:25:03.94843   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:25:03.94843   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:25:03.94844   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:25:03.94844   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:25:03.94844   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:25:03.94844   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:25:03.94845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:25:03.94845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:25:03.94845   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:25:03.94847   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:25:03.94847   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:25:03.94847   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:25:03.94848   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:25:03.94848   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:25:03.94849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:25:03.94849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:25:03.94849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:25:03.94849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:25:03.94850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:25:03.94851   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:25:03.94851   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:25:03.94852   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:25:03.94852   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:25:03.94852   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:03.94853   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:25:03.94854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:25:03.94854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:03.94855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:25:03.94856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:25:03.94856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:25:03.94857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:25:03.94857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:25:03.94857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:25:03.94858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:25:03.94858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:25:03.94858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:25:03.94860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:25:03.94860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:25:03.94860   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:25:03.94861   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:25:03.94861   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:25:03.94861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:25:03.94862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:25:03.94862   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:25:03.94862   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:25:03.94863   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:25:03.94863   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:25:03.94864   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:25:03.94864   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:25:03.94865   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:25:03.94865   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:25:03.94865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:25:03.94866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:25:03.94866   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:25:03.94866   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:25:03.94867   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:25:03.94867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:25:03.94868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:25:03.94868   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:25:03.94869   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:25:03.94870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:25:03.94870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:25:03.94870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:25:03.94871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:25:03.94871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:25:03.94871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:25:03.94872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:25:03.94872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:25:03.94929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:25:03.94932   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:25:03.94932   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:25:03.94932   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:25:04.89901 {"timestamp":"2020-10-21T14:25:04.898Z","pid":96545,"message":"Puma starting in cluster mode..."}
2020-10-21_14:25:04.89932 {"timestamp":"2020-10-21T14:25:04.899Z","pid":96545,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:25:04.89946 {"timestamp":"2020-10-21T14:25:04.899Z","pid":96545,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:25:04.89959 {"timestamp":"2020-10-21T14:25:04.899Z","pid":96545,"message":"* Environment: production"}
2020-10-21_14:25:04.89972 {"timestamp":"2020-10-21T14:25:04.899Z","pid":96545,"message":"* Process workers: 2"}
2020-10-21_14:25:04.89986 {"timestamp":"2020-10-21T14:25:04.899Z","pid":96545,"message":"* Preloading application"}
2020-10-21_14:25:21.60179 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:25:22.62966 {"timestamp":"2020-10-21T14:25:22.629Z","pid":96545,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:25:22.63002 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:25:22.63019 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:25:22.63020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:25:22.63020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:25:22.63020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:25:22.63021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:25:22.63021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:25:22.63021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:25:22.63021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:25:22.63022   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:25:22.63023   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:25:22.63023   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:25:22.63023   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:25:22.63024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:25:22.63025   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:25:22.63025   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:25:22.63025   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:25:22.63025   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:25:22.63026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:25:22.63026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:25:22.63026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:25:22.63026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:25:22.63027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:25:22.63027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:25:22.63028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:25:22.63028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:25:22.63028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:25:22.63028   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:25:22.63029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:22.63029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:25:22.63029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:25:22.63029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:22.63030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:25:22.63032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:25:22.63032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:25:22.63032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:25:22.63033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:25:22.63033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:25:22.63033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:25:22.63033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:25:22.63034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:25:22.63035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:25:22.63035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:25:22.63035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:25:22.63036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:25:22.63036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:25:22.63036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:25:22.63036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:25:22.63037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:25:22.63037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:25:22.63037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:25:22.63037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:25:22.63038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:25:22.63038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:25:22.63039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:25:22.63039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:25:22.63039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:25:22.63039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:25:22.63040   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:25:22.63040   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:25:22.63040   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:25:22.63040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:25:22.63041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:25:22.63041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:25:22.63042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:25:22.63042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:25:22.63042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:25:22.63042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:25:22.63043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:25:22.63043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:25:22.63043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:25:22.63043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:25:22.63044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:25:22.63044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:25:22.63045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:25:22.63045   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:25:22.63046   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:25:23.73225 {"timestamp":"2020-10-21T14:25:23.732Z","pid":97068,"message":"Puma starting in cluster mode..."}
2020-10-21_14:25:23.73261 {"timestamp":"2020-10-21T14:25:23.732Z","pid":97068,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:25:23.73277 {"timestamp":"2020-10-21T14:25:23.732Z","pid":97068,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:25:23.73284 {"timestamp":"2020-10-21T14:25:23.732Z","pid":97068,"message":"* Environment: production"}
2020-10-21_14:25:23.73309 {"timestamp":"2020-10-21T14:25:23.732Z","pid":97068,"message":"* Process workers: 2"}
2020-10-21_14:25:23.73336 {"timestamp":"2020-10-21T14:25:23.733Z","pid":97068,"message":"* Preloading application"}
2020-10-21_14:25:38.88907 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:25:39.53958 {"timestamp":"2020-10-21T14:25:39.539Z","pid":97068,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:25:39.53990 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:25:39.53992 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:25:39.53992   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:25:39.53993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:25:39.53993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:25:39.53993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:25:39.53993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:25:39.53994   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:25:39.53994   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:25:39.53994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:25:39.53994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:25:39.53995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:25:39.54011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:25:39.54013   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:25:39.54014   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:25:39.54015   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:25:39.54015   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:25:39.54015   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:25:39.54029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:25:39.54051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:25:39.54052   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:25:39.54052   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:25:39.54053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:25:39.54074   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:25:39.54075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:25:39.54075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:25:39.54076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:25:39.54076   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:25:39.54076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:39.54082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:25:39.54082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:25:39.54083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:39.54084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:25:39.54084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:25:39.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:25:39.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:25:39.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:25:39.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:25:39.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:25:39.54086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:25:39.54086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:25:39.54087   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:25:39.54087   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:25:39.54087   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:25:39.54088   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:25:39.54088   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:25:39.54088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:25:39.54088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:25:39.54089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:25:39.54089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:25:39.54089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:25:39.54091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:25:39.54091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:25:39.54091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:25:39.54091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:25:39.54091   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:25:39.54092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:25:39.54092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:25:39.54092   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:25:39.54092   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:25:39.54093   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:25:39.54093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:25:39.54094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:25:39.54095   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:25:39.54095   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:25:39.54096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:25:39.54096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:25:39.54096   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:25:39.54097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:25:39.54097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:25:39.54097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:25:39.54098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:25:39.54174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:25:39.54176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:25:39.54178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:25:39.54212   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:25:39.54213   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:25:40.38697 {"timestamp":"2020-10-21T14:25:40.386Z","pid":97569,"message":"Puma starting in cluster mode..."}
2020-10-21_14:25:40.38732 {"timestamp":"2020-10-21T14:25:40.387Z","pid":97569,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:25:40.38785 {"timestamp":"2020-10-21T14:25:40.387Z","pid":97569,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:25:40.38803 {"timestamp":"2020-10-21T14:25:40.387Z","pid":97569,"message":"* Environment: production"}
2020-10-21_14:25:40.38824 {"timestamp":"2020-10-21T14:25:40.388Z","pid":97569,"message":"* Process workers: 2"}
2020-10-21_14:25:40.38848 {"timestamp":"2020-10-21T14:25:40.388Z","pid":97569,"message":"* Preloading application"}
2020-10-21_14:25:55.49898 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:25:56.67352 {"timestamp":"2020-10-21T14:25:56.673Z","pid":97569,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:25:56.67383 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:25:56.67384 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:25:56.67385   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:25:56.67385   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:25:56.67385   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:25:56.67385   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:25:56.67386   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:25:56.67386   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:25:56.67386   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:25:56.67386   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:25:56.67387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:25:56.67387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:25:56.67387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:25:56.67387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:25:56.67388   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:25:56.67389   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:25:56.67389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:25:56.67389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:25:56.67389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:25:56.67390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:25:56.67390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:25:56.67390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:25:56.67390   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:25:56.67391   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:25:56.67392   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:25:56.67392   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:25:56.67392   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:25:56.67392   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:25:56.67393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:56.67393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:25:56.67393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:25:56.67394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:25:56.67395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:25:56.67396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:25:56.67396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:25:56.67396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:25:56.67396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:25:56.67397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:25:56.67397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:25:56.67397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:25:56.67397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:25:56.67398   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:25:56.67399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:25:56.67399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:25:56.67399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:25:56.67399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:25:56.67400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:25:56.67400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:25:56.67400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:25:56.67400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:25:56.67400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:25:56.67401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:25:56.67402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:25:56.67402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:25:56.67402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:25:56.67402   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:25:56.67403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:25:56.67403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:25:56.67403   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:25:56.67403   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:25:56.67404   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:25:56.67404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:25:56.67404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:25:56.67405   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:25:56.67406   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:25:56.67406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:25:56.67406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:25:56.67406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:25:56.67407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:25:56.67407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:25:56.67407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:25:56.67407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:25:56.67408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:25:56.67408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:25:56.67411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:25:56.67411   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:25:56.67412   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:25:57.44382 {"timestamp":"2020-10-21T14:25:57.443Z","pid":98042,"message":"Puma starting in cluster mode..."}
2020-10-21_14:25:57.44393 {"timestamp":"2020-10-21T14:25:57.443Z","pid":98042,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:25:57.44417 {"timestamp":"2020-10-21T14:25:57.444Z","pid":98042,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:25:57.44440 {"timestamp":"2020-10-21T14:25:57.444Z","pid":98042,"message":"* Environment: production"}
2020-10-21_14:25:57.44454 {"timestamp":"2020-10-21T14:25:57.444Z","pid":98042,"message":"* Process workers: 2"}
2020-10-21_14:25:57.44465 {"timestamp":"2020-10-21T14:25:57.444Z","pid":98042,"message":"* Preloading application"}
2020-10-21_14:26:14.03231 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:26:15.01046 {"timestamp":"2020-10-21T14:26:15.010Z","pid":98042,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:26:15.01086 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:26:15.01102 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:26:15.01103   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:26:15.01104   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:26:15.01104   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:26:15.01105   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:26:15.01105   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:26:15.01105   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:26:15.01106   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:26:15.01106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:26:15.01106   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:26:15.01107   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:26:15.01108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:26:15.01108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:26:15.01110   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:26:15.01110   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:26:15.01110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:26:15.01111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:26:15.01111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:26:15.01111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:26:15.01112   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:26:15.01112   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:26:15.01112   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:26:15.01113   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:26:15.01114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:26:15.01114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:26:15.01115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:26:15.01115   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:26:15.01115   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:15.01116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:26:15.01116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:26:15.01116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:15.01117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:26:15.01118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:26:15.01118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:26:15.01119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:26:15.01119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:26:15.01119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:26:15.01120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:26:15.01120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:26:15.01120   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:26:15.01122   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:26:15.01123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:26:15.01123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:26:15.01123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:26:15.01123   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:26:15.01124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:26:15.01124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:26:15.01124   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:26:15.01125   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:26:15.01125   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:26:15.01125   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:26:15.01127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:26:15.01127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:26:15.01127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:26:15.01128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:26:15.01128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:26:15.01128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:26:15.01128   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:26:15.01129   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:26:15.01129   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:26:15.01129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:26:15.01130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:26:15.01130   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:26:15.01131   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:26:15.01132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:26:15.01132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:26:15.01132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:26:15.01133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:26:15.01133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:26:15.01133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:26:15.01134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:26:15.01134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:26:15.01134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:26:15.01136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:26:15.01136   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:26:15.01137   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:26:15.84903 {"timestamp":"2020-10-21T14:26:15.848Z","pid":98590,"message":"Puma starting in cluster mode..."}
2020-10-21_14:26:15.85276 {"timestamp":"2020-10-21T14:26:15.852Z","pid":98590,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:26:15.85287 {"timestamp":"2020-10-21T14:26:15.852Z","pid":98590,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:26:15.85305 {"timestamp":"2020-10-21T14:26:15.853Z","pid":98590,"message":"* Environment: production"}
2020-10-21_14:26:15.85314 {"timestamp":"2020-10-21T14:26:15.853Z","pid":98590,"message":"* Process workers: 2"}
2020-10-21_14:26:15.85333 {"timestamp":"2020-10-21T14:26:15.853Z","pid":98590,"message":"* Preloading application"}
2020-10-21_14:26:31.87847 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:26:32.77080 {"timestamp":"2020-10-21T14:26:32.770Z","pid":98590,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:26:32.77114 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:26:32.77132 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:26:32.77133   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:26:32.77134   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:26:32.77134   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:26:32.77134   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:26:32.77134   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:26:32.77135   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:26:32.77135   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:26:32.77135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:26:32.77136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:26:32.77136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:26:32.77136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:26:32.77136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:26:32.77138   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:26:32.77138   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:26:32.77138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:26:32.77138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:26:32.77139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:26:32.77139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:26:32.77139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:26:32.77139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:26:32.77140   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:26:32.77141   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:26:32.77142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:26:32.77142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:26:32.77143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:26:32.77143   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:26:32.77143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:32.77143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:26:32.77144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:26:32.77144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:32.77144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:26:32.77145   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:26:32.77145   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:26:32.77146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:26:32.77146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:26:32.77146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:26:32.77146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:26:32.77147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:26:32.77147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:26:32.77148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:26:32.77148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:26:32.77148   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:26:32.77149   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:26:32.77149   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:26:32.77149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:26:32.77149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:26:32.77150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:26:32.77150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:26:32.77150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:26:32.77150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:26:32.77151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:26:32.77152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:26:32.77152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:26:32.77152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:26:32.77153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:26:32.77153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:26:32.77153   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:26:32.77153   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:26:32.77153   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:26:32.77154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:26:32.77154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:26:32.77154   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:26:32.77155   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:26:32.77155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:26:32.77156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:26:32.77156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:26:32.77156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:26:32.77156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:26:32.77157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:26:32.77157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:26:32.77157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:26:32.77157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:26:32.77158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:26:32.77159   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:26:32.77159   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:26:33.69788 {"timestamp":"2020-10-21T14:26:33.697Z","pid":99095,"message":"Puma starting in cluster mode..."}
2020-10-21_14:26:33.69809 {"timestamp":"2020-10-21T14:26:33.698Z","pid":99095,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:26:33.69824 {"timestamp":"2020-10-21T14:26:33.698Z","pid":99095,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:26:33.69838 {"timestamp":"2020-10-21T14:26:33.698Z","pid":99095,"message":"* Environment: production"}
2020-10-21_14:26:33.69853 {"timestamp":"2020-10-21T14:26:33.698Z","pid":99095,"message":"* Process workers: 2"}
2020-10-21_14:26:33.69868 {"timestamp":"2020-10-21T14:26:33.698Z","pid":99095,"message":"* Preloading application"}
2020-10-21_14:26:48.68198 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:26:49.36927 {"timestamp":"2020-10-21T14:26:49.369Z","pid":99095,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:26:49.36961 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:26:49.36979 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:26:49.36980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:26:49.36980   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:26:49.36981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:26:49.36981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:26:49.36981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:26:49.36981   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:26:49.36982   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:26:49.36982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:26:49.36982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:26:49.36982   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:26:49.36983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:26:49.36983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:26:49.36984   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:26:49.36984   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:26:49.36985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:26:49.36985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:26:49.36985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:26:49.36985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:26:49.36986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:26:49.36986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:26:49.36986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:26:49.36986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:26:49.36987   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:26:49.36988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:26:49.36988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:26:49.36988   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:26:49.36988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:49.36989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:26:49.36989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:26:49.36989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:26:49.36989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:26:49.36991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:26:49.36991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:26:49.36992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:26:49.36992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:26:49.36992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:26:49.36992   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:26:49.36993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:26:49.36993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:26:49.36994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:26:49.36994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:26:49.36994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:26:49.36995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:26:49.36995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:26:49.36995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:26:49.36995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:26:49.36996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:26:49.36996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:26:49.36996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:26:49.36996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:26:49.36997   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:26:49.36998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:26:49.36998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:26:49.36998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:26:49.36998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:26:49.36999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:26:49.36999   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:26:49.36999   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:26:49.36999   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:26:49.37000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:26:49.37000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:26:49.37000   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:26:49.37001   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:26:49.37001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:26:49.37002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:26:49.37002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:26:49.37002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:26:49.37003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:26:49.37003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:26:49.37003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:26:49.37003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:26:49.37004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:26:49.37005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:26:49.37005   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:26:49.37005   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:26:50.24461 {"timestamp":"2020-10-21T14:26:50.244Z","pid":99586,"message":"Puma starting in cluster mode..."}
2020-10-21_14:26:50.24566 {"timestamp":"2020-10-21T14:26:50.245Z","pid":99586,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:26:50.24583 {"timestamp":"2020-10-21T14:26:50.245Z","pid":99586,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:26:50.24600 {"timestamp":"2020-10-21T14:26:50.245Z","pid":99586,"message":"* Environment: production"}
2020-10-21_14:26:50.24615 {"timestamp":"2020-10-21T14:26:50.246Z","pid":99586,"message":"* Process workers: 2"}
2020-10-21_14:26:50.24631 {"timestamp":"2020-10-21T14:26:50.246Z","pid":99586,"message":"* Preloading application"}
2020-10-21_14:27:04.37482 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:27:05.08546 {"timestamp":"2020-10-21T14:27:05.085Z","pid":99586,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:27:05.08579 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:27:05.08599 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:27:05.08601   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:27:05.08601   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:27:05.08602   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:27:05.08602   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:27:05.08602   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:27:05.08602   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:27:05.08603   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:27:05.08603   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:27:05.08603   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:27:05.08603   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:27:05.08604   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:27:05.08604   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:27:05.08614   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:27:05.08620   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:27:05.08620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:27:05.08621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:27:05.08621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:27:05.08621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:27:05.08622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:27:05.08622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:27:05.08622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:27:05.08622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:27:05.08624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:27:05.08641   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:27:05.08642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:27:05.08642   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:27:05.08642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:05.08643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:27:05.08643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:27:05.08643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:05.08651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:27:05.08653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:27:05.08653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:27:05.08658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:27:05.08658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:27:05.08658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:27:05.08659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:27:05.08659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:27:05.08659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:27:05.08676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:27:05.08677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:27:05.08680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:27:05.08680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:27:05.08680   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:27:05.08682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:27:05.08682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:27:05.08683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:27:05.08683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:27:05.08683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:27:05.08683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:27:05.08693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:27:05.08693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:27:05.08693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:27:05.08695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:27:05.08695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:27:05.08701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:27:05.08701   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:27:05.08701   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:27:05.08702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:27:05.08702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:27:05.08702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:27:05.08702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:27:05.08704   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:27:05.08704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:27:05.08721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:27:05.08722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:27:05.08723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:27:05.08723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:27:05.08723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:27:05.08723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:27:05.08724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:27:05.08732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:27:05.08733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:27:05.08734   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:27:05.08739   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:27:05.96492 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"Puma starting in cluster mode..."}
2020-10-21_14:27:05.96496 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:27:05.96496 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:27:05.96496 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"* Environment: production"}
2020-10-21_14:27:05.96497 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"* Process workers: 2"}
2020-10-21_14:27:05.96497 {"timestamp":"2020-10-21T14:27:05.964Z","pid":100051,"message":"* Preloading application"}
2020-10-21_14:27:19.41631 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:27:20.13975 {"timestamp":"2020-10-21T14:27:20.139Z","pid":100051,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:27:20.14002 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:27:20.14023 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:27:20.14029   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:27:20.14030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:27:20.14030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:27:20.14030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:27:20.14030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:27:20.14031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:27:20.14031   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:27:20.14031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:27:20.14031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:27:20.14043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:27:20.14044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:27:20.14044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:27:20.14046   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:27:20.14046   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:27:20.14046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:27:20.14046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:27:20.14047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:27:20.14047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:27:20.14047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:27:20.14047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:27:20.14048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:27:20.14048   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:27:20.14063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:27:20.14064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:27:20.14064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:27:20.14065   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:27:20.14065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:20.14065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:27:20.14065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:27:20.14065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:20.14066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:27:20.14067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:27:20.14067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:27:20.14067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:27:20.14068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:27:20.14068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:27:20.14068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:27:20.14068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:27:20.14069   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:27:20.14070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:27:20.14070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:27:20.14070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:27:20.14070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:27:20.14082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:27:20.14083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:27:20.14083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:27:20.14083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:27:20.14083   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:27:20.14084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:27:20.14084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:27:20.14085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:27:20.14085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:27:20.14086   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:27:20.14086   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:27:20.14086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:27:20.14087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:27:20.14087   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:27:20.14087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:27:20.14087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:27:20.14088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:27:20.14088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:27:20.14088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:27:20.14089   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:27:20.14089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:27:20.14090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:27:20.14090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:27:20.14090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:27:20.14090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:27:20.14103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:27:20.14104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:27:20.14104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:27:20.14104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:27:20.14105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:27:20.14106   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:27:20.14106   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:27:20.83117 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"Puma starting in cluster mode..."}
2020-10-21_14:27:20.83122 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:27:20.83137 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:27:20.83141 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"* Environment: production"}
2020-10-21_14:27:20.83169 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"* Process workers: 2"}
2020-10-21_14:27:20.83172 {"timestamp":"2020-10-21T14:27:20.831Z","pid":100509,"message":"* Preloading application"}
2020-10-21_14:27:34.89589 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:27:35.85849 {"timestamp":"2020-10-21T14:27:35.858Z","pid":100509,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:27:35.85865 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:27:35.85872 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:27:35.85873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:27:35.85874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:27:35.85874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:27:35.85874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:27:35.85874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:27:35.85875   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:27:35.85875   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:27:35.85875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:27:35.85875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:27:35.85875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:27:35.85876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:27:35.85876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:27:35.85877   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:27:35.85877   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:27:35.85878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:27:35.85878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:27:35.85878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:27:35.85878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:27:35.85879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:27:35.85879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:27:35.85879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:27:35.85879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:27:35.85880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:27:35.85881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:27:35.85881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:27:35.85881   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:27:35.85881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:35.85881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:27:35.85882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:27:35.85882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:35.85882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:27:35.85883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:27:35.85884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:27:35.85884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:27:35.85884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:27:35.85884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:27:35.85885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:27:35.85885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:27:35.85885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:27:35.85886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:27:35.85886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:27:35.85887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:27:35.85887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:27:35.85887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:27:35.85887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:27:35.85888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:27:35.85888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:27:35.85888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:27:35.85888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:27:35.85889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:27:35.85890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:27:35.85890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:27:35.85890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:27:35.85890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:27:35.85891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:27:35.85891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:27:35.85891   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:27:35.85891   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:27:35.85891   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:27:35.85892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:27:35.85892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:27:35.85892   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:27:35.85893   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:27:35.85893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:27:35.85894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:27:35.85894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:27:35.85894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:27:35.85895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:27:35.85895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:27:35.85895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:27:35.85895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:27:35.85895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:27:35.85897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:27:35.85897   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:27:35.85897   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:27:36.70629 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"Puma starting in cluster mode..."}
2020-10-21_14:27:36.70638 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:27:36.70659 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:27:36.70668 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"* Environment: production"}
2020-10-21_14:27:36.70683 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"* Process workers: 2"}
2020-10-21_14:27:36.70692 {"timestamp":"2020-10-21T14:27:36.706Z","pid":100948,"message":"* Preloading application"}
2020-10-21_14:27:49.78618 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:27:50.75801 {"timestamp":"2020-10-21T14:27:50.757Z","pid":100948,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:27:50.75827 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:27:50.75828 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:27:50.75828   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:27:50.75828   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:27:50.75829   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:27:50.75829   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:27:50.75829   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:27:50.75829   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:27:50.75830   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:27:50.75830   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:27:50.75830   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:27:50.75830   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:27:50.75830   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:27:50.75831   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:27:50.75832   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:27:50.75833   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:27:50.75833   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:27:50.75833   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:27:50.75834   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:27:50.75834   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:27:50.75834   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:27:50.75834   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:27:50.75835   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:27:50.75836   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:27:50.75836   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:27:50.75836   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:27:50.75836   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:27:50.75837   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:27:50.75837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:50.75837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:27:50.75837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:27:50.75838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:27:50.75839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:27:50.75839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:27:50.75839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:27:50.75840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:27:50.75840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:27:50.75840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:27:50.75840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:27:50.75841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:27:50.75841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:27:50.75842   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:27:50.75842   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:27:50.75842   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:27:50.75843   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:27:50.75843   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:27:50.75843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:27:50.75844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:27:50.75844   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:27:50.75844   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:27:50.75844   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:27:50.75845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:27:50.75846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:27:50.75846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:27:50.75846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:27:50.75846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:27:50.75846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:27:50.75847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:27:50.75847   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:27:50.75847   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:27:50.75847   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:27:50.75848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:27:50.75848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:27:50.75849   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:27:50.75849   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:27:50.75849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:27:50.75850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:27:50.75850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:27:50.75850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:27:50.75850   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:27:50.75851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:27:50.75851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:27:50.75851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:27:50.75851   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:27:50.75852   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:27:50.75853   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:27:50.75853   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:27:51.57905 {"timestamp":"2020-10-21T14:27:51.578Z","pid":101411,"message":"Puma starting in cluster mode..."}
2020-10-21_14:27:51.57908 {"timestamp":"2020-10-21T14:27:51.579Z","pid":101411,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:27:51.57910 {"timestamp":"2020-10-21T14:27:51.579Z","pid":101411,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:27:51.57910 {"timestamp":"2020-10-21T14:27:51.579Z","pid":101411,"message":"* Environment: production"}
2020-10-21_14:27:51.57910 {"timestamp":"2020-10-21T14:27:51.579Z","pid":101411,"message":"* Process workers: 2"}
2020-10-21_14:27:51.57911 {"timestamp":"2020-10-21T14:27:51.579Z","pid":101411,"message":"* Preloading application"}
2020-10-21_14:28:04.33750 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:28:05.09305 {"timestamp":"2020-10-21T14:28:05.092Z","pid":101411,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:28:05.09308 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:28:05.09308 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:28:05.09309   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:28:05.09309   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:28:05.09310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:28:05.09310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:28:05.09310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:28:05.09310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:28:05.09311   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:28:05.09311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:28:05.09311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:28:05.09312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:28:05.09313   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:28:05.09314   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:28:05.09314   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:28:05.09314   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:28:05.09315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:28:05.09315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:28:05.09315   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:28:05.09316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:28:05.09316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:28:05.09316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:28:05.09318   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:28:05.09318   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:28:05.09319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:28:05.09319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:28:05.09320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:28:05.09321   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:28:05.09321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:05.09321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:28:05.09323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:28:05.09323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:05.09324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:28:05.09324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:28:05.09324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:28:05.09325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:28:05.09325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:28:05.09326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:28:05.09326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:28:05.09327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:28:05.09328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:28:05.09328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:28:05.09328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:28:05.09329   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:28:05.09329   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:28:05.09329   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:28:05.09330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:28:05.09330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:28:05.09330   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:28:05.09332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:28:05.09332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:28:05.09332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:28:05.09333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:28:05.09333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:28:05.09333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:28:05.09334   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:28:05.09334   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:28:05.09335   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:28:05.09335   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:28:05.09335   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:28:05.09336   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:28:05.09337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:28:05.09337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:28:05.09338   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:28:05.09338   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:28:05.09338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:28:05.09339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:28:05.09339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:28:05.09339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:28:05.09340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:28:05.09340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:28:05.09340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:28:05.09342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:28:05.09342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:28:05.09342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:28:05.09343   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:28:05.09343   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:28:05.98581 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"Puma starting in cluster mode..."}
2020-10-21_14:28:05.98584 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:28:05.98584 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:28:05.98585 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"* Environment: production"}
2020-10-21_14:28:05.98585 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"* Process workers: 2"}
2020-10-21_14:28:05.98586 {"timestamp":"2020-10-21T14:28:05.985Z","pid":101850,"message":"* Preloading application"}
2020-10-21_14:28:19.49796 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:28:20.08278 {"timestamp":"2020-10-21T14:28:20.082Z","pid":101850,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:28:20.08312 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:28:20.08332 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:28:20.08333   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:28:20.08334   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:28:20.08334   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:28:20.08335   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:28:20.08335   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:28:20.08335   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:28:20.08335   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:28:20.08336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:28:20.08336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:28:20.08336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:28:20.08336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:28:20.08337   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:28:20.08338   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:28:20.08338   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:28:20.08338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:28:20.08338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:28:20.08339   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:28:20.08339   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:28:20.08339   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:28:20.08339   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:28:20.08340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:28:20.08340   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:28:20.08341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:28:20.08341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:28:20.08341   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:28:20.08341   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:28:20.08342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:20.08342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:28:20.08342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:28:20.08342   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:20.08343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:28:20.08344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:28:20.08344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:28:20.08344   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:28:20.08345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:28:20.08345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:28:20.08345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:28:20.08345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:28:20.08346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:28:20.08347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:28:20.08347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:28:20.08347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:28:20.08347   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:28:20.08348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:28:20.08348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:28:20.08348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:28:20.08348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:28:20.08348   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:28:20.08349   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:28:20.08349   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:28:20.08350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:28:20.08350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:28:20.08350   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:28:20.08351   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:28:20.08351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:28:20.08351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:28:20.08351   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:28:20.08351   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:28:20.08352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:28:20.08352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:28:20.08352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:28:20.08352   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:28:20.08353   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:28:20.08354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:28:20.08354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:28:20.08354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:28:20.08354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:28:20.08355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:28:20.08355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:28:20.08355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:28:20.08355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:28:20.08356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:28:20.08357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:28:20.08357   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:28:20.08357   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:28:20.75724 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"Puma starting in cluster mode..."}
2020-10-21_14:28:20.75726 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:28:20.75726 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:28:20.75726 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"* Environment: production"}
2020-10-21_14:28:20.75727 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"* Process workers: 2"}
2020-10-21_14:28:20.75728 {"timestamp":"2020-10-21T14:28:20.757Z","pid":102305,"message":"* Preloading application"}
2020-10-21_14:28:34.50254 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:28:35.29367 {"timestamp":"2020-10-21T14:28:35.293Z","pid":102305,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:28:35.29401 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:28:35.29417 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:28:35.29418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:28:35.29418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:28:35.29418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:28:35.29418   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:28:35.29419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:28:35.29419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:28:35.29419   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:28:35.29419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:28:35.29419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:28:35.29420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:28:35.29420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:28:35.29420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:28:35.29421   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:28:35.29422   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:28:35.29422   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:28:35.29423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:28:35.29423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:28:35.29423   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:28:35.29424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:28:35.29424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:28:35.29424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:28:35.29424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:28:35.29425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:28:35.29426   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:28:35.29426   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:28:35.29426   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:28:35.29426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:35.29426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:28:35.29427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:28:35.29427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:35.29427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:28:35.29428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:28:35.29429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:28:35.29429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:28:35.29429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:28:35.29429   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:28:35.29430   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:28:35.29430   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:28:35.29430   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:28:35.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:28:35.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:28:35.29431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:28:35.29432   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:28:35.29432   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:28:35.29432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:28:35.29433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:28:35.29433   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:28:35.29433   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:28:35.29433   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:28:35.29434   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:28:35.29435   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:28:35.29435   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:28:35.29435   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:28:35.29435   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:28:35.29436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:28:35.29436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:28:35.29436   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:28:35.29436   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:28:35.29437   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:28:35.29437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:28:35.29437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:28:35.29437   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:28:35.29438   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:28:35.29438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:28:35.29439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:28:35.29439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:28:35.29439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:28:35.29439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:28:35.29440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:28:35.29440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:28:35.29440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:28:35.29440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:28:35.29441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:28:35.29442   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:28:35.29442   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:28:36.09279 {"timestamp":"2020-10-21T14:28:36.092Z","pid":102731,"message":"Puma starting in cluster mode..."}
2020-10-21_14:28:36.09324 {"timestamp":"2020-10-21T14:28:36.093Z","pid":102731,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:28:36.09342 {"timestamp":"2020-10-21T14:28:36.093Z","pid":102731,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:28:36.09360 {"timestamp":"2020-10-21T14:28:36.093Z","pid":102731,"message":"* Environment: production"}
2020-10-21_14:28:36.09376 {"timestamp":"2020-10-21T14:28:36.093Z","pid":102731,"message":"* Process workers: 2"}
2020-10-21_14:28:36.09390 {"timestamp":"2020-10-21T14:28:36.093Z","pid":102731,"message":"* Preloading application"}
2020-10-21_14:28:50.50154 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:28:51.61133 {"timestamp":"2020-10-21T14:28:51.611Z","pid":102731,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:28:51.61149 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:28:51.61150 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:28:51.61151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:28:51.61151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:28:51.61151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:28:51.61151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:28:51.61152   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:28:51.61163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:28:51.61163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:28:51.61163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:28:51.61163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:28:51.61164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:28:51.61164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:28:51.61164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:28:51.61176   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:28:51.61176   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:28:51.61176   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:28:51.61177   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:28:51.61177   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:28:51.61188   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:28:51.61189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:28:51.61189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:28:51.61189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:28:51.61199   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:28:51.61200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:28:51.61200   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:28:51.61210   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:28:51.61215   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:28:51.61216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:51.61216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:28:51.61216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:28:51.61216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:28:51.61218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:28:51.61218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:28:51.61218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:28:51.61218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:28:51.61219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:28:51.61219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:28:51.61219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:28:51.61219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:28:51.61220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:28:51.61221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:28:51.61221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:28:51.61221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:28:51.61221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:28:51.61222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:28:51.61222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:28:51.61222   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:28:51.61222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:28:51.61222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:28:51.61223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:28:51.61224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:28:51.61224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:28:51.61224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:28:51.61224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:28:51.61225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:28:51.61225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:28:51.61225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:28:51.61225   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:28:51.61226   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:28:51.61226   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:28:51.61226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:28:51.61227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:28:51.61228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:28:51.61228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:28:51.61228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:28:51.61228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:28:51.61229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:28:51.61229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:28:51.61229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:28:51.61229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:28:51.61230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:28:51.61230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:28:51.61230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:28:51.61231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:28:51.61231   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:28:51.61232   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:28:52.53416 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"Puma starting in cluster mode..."}
2020-10-21_14:28:52.53420 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:28:52.53421 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:28:52.53422 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"* Environment: production"}
2020-10-21_14:28:52.53422 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"* Process workers: 2"}
2020-10-21_14:28:52.53436 {"timestamp":"2020-10-21T14:28:52.534Z","pid":103239,"message":"* Preloading application"}
2020-10-21_14:29:08.10802 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:29:08.96681 {"timestamp":"2020-10-21T14:29:08.966Z","pid":103239,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:29:08.96731 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:29:08.96757 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:29:08.96774   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:29:08.96775   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:29:08.96775   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:29:08.96776   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:29:08.96776   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:29:08.96777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:29:08.96777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:29:08.96777   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:29:08.96777   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:29:08.96778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:29:08.96778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:29:08.96778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:29:08.96779   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:29:08.96780   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:29:08.96780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:29:08.96780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:29:08.96780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:29:08.96781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:29:08.96781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:29:08.96781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:29:08.96781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:29:08.96782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:29:08.96783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:29:08.96783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:29:08.96783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:29:08.96783   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:29:08.96784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:08.96784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:29:08.96784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:29:08.96785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:08.96785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:29:08.96786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:29:08.96786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:29:08.96786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:29:08.96816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:29:08.96816   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:29:08.96817   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:29:08.96817   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:29:08.96817   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:29:08.96819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:29:08.96819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:29:08.96819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:29:08.96819   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:29:08.96820   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:29:08.96820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:29:08.96820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:29:08.96820   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:29:08.96820   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:29:08.96821   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:29:08.96821   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:29:08.96822   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:29:08.96822   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:29:08.96822   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:29:08.96823   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:29:08.96823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:29:08.96823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:29:08.96823   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:29:08.96824   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:29:08.96824   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:29:08.96824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:29:08.96824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:29:08.96825   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:29:08.96826   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:29:08.96826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:29:08.96826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:29:08.96826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:29:08.96827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:29:08.96827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:29:08.96827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:29:08.96828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:29:08.96828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:29:08.96828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:29:08.96829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:29:08.96830   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:29:08.96830   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:29:09.86839 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"Puma starting in cluster mode..."}
2020-10-21_14:29:09.86841 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:29:09.86843 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:29:09.86843 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"* Environment: production"}
2020-10-21_14:29:09.86843 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"* Process workers: 2"}
2020-10-21_14:29:09.86844 {"timestamp":"2020-10-21T14:29:09.868Z","pid":103737,"message":"* Preloading application"}
2020-10-21_14:29:23.65915 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:29:24.65674 {"timestamp":"2020-10-21T14:29:24.656Z","pid":103737,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:29:24.65721 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:29:24.65723 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:29:24.65723   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:29:24.65724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:29:24.65724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:29:24.65724   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:29:24.65725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:29:24.65725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:29:24.65725   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:29:24.65725   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:29:24.65726   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:29:24.65726   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:29:24.65726   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:29:24.65726   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:29:24.65728   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:29:24.65728   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:29:24.65728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:29:24.65728   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:29:24.65729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:29:24.65730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:29:24.65730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:29:24.65730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:29:24.65730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:29:24.65731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:29:24.65732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:29:24.65732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:29:24.65732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:29:24.65732   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:29:24.65733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:24.65733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:29:24.65733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:29:24.65733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:24.65734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:29:24.65735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:29:24.65735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:29:24.65735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:29:24.65735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:29:24.65736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:29:24.65736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:29:24.65736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:29:24.65736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:29:24.65737   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:29:24.65738   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:29:24.65738   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:29:24.65738   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:29:24.65738   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:29:24.65739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:29:24.65739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:29:24.65739   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:29:24.65740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:29:24.65740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:29:24.65740   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:29:24.65741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:29:24.65741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:29:24.65741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:29:24.65742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:29:24.65742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:29:24.65742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:29:24.65742   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:29:24.65743   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:29:24.65743   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:29:24.65743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:29:24.65743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:29:24.65744   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:29:24.65745   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:29:24.65745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:29:24.65745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:29:24.65745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:29:24.65746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:29:24.65746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:29:24.65746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:29:24.65746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:29:24.65746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:29:24.65747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:29:24.65748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:29:24.65748   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:29:24.65748   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:29:25.46363 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"Puma starting in cluster mode..."}
2020-10-21_14:29:25.46366 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:29:25.46368 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:29:25.46368 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"* Environment: production"}
2020-10-21_14:29:25.46369 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"* Process workers: 2"}
2020-10-21_14:29:25.46397 {"timestamp":"2020-10-21T14:29:25.463Z","pid":104220,"message":"* Preloading application"}
2020-10-21_14:29:39.56399 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:29:40.34366 {"timestamp":"2020-10-21T14:29:40.343Z","pid":104220,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:29:40.34373 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:29:40.34385 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:29:40.34386   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:29:40.34387   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:29:40.34387   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:29:40.34387   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:29:40.34387   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:29:40.34387   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:29:40.34388   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:29:40.34388   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:29:40.34388   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:29:40.34388   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:29:40.34389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:29:40.34389   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:29:40.34393   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:29:40.34394   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:29:40.34394   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:29:40.34394   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:29:40.34395   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:29:40.34398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:29:40.34398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:29:40.34398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:29:40.34399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:29:40.34399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:29:40.34400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:29:40.34400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:29:40.34401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:29:40.34401   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:29:40.34401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:40.34402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:29:40.34402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:29:40.34403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:40.34403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:29:40.34404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:29:40.34404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:29:40.34404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:29:40.34405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:29:40.34405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:29:40.34405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:29:40.34406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:29:40.34406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:29:40.34410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:29:40.34410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:29:40.34411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:29:40.34411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:29:40.34411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:29:40.34411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:29:40.34415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:29:40.34415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:29:40.34415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:29:40.34415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:29:40.34416   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:29:40.34417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:29:40.34417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:29:40.34417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:29:40.34418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:29:40.34418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:29:40.34418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:29:40.34418   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:29:40.34418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:29:40.34419   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:29:40.34419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:29:40.34420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:29:40.34420   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:29:40.34421   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:29:40.34421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:29:40.34421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:29:40.34422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:29:40.34422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:29:40.34422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:29:40.34422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:29:40.34423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:29:40.34423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:29:40.34423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:29:40.34424   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:29:40.34424   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:29:40.34425   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:29:41.01942 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"Puma starting in cluster mode..."}
2020-10-21_14:29:41.01944 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:29:41.01944 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:29:41.01945 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"* Environment: production"}
2020-10-21_14:29:41.01945 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"* Process workers: 2"}
2020-10-21_14:29:41.01945 {"timestamp":"2020-10-21T14:29:41.019Z","pid":104669,"message":"* Preloading application"}
2020-10-21_14:29:55.72965 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:29:56.47058 {"timestamp":"2020-10-21T14:29:56.470Z","pid":104669,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:29:56.47091 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:29:56.47112 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:29:56.47115   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:29:56.47121   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:29:56.47126   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:29:56.47126   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:29:56.47127   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:29:56.47129   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:29:56.47130   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:29:56.47130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:29:56.47130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:29:56.47130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:29:56.47131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:29:56.47131   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:29:56.47132   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:29:56.47132   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:29:56.47133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:29:56.47133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:29:56.47133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:29:56.47145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:29:56.47145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:29:56.47146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:29:56.47146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:29:56.47146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:29:56.47147   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:29:56.47148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:29:56.47148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:29:56.47148   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:29:56.47148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:56.47149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:29:56.47149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:29:56.47149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:29:56.47149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:29:56.47150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:29:56.47151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:29:56.47151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:29:56.47151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:29:56.47151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:29:56.47158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:29:56.47161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:29:56.47161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:29:56.47163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:29:56.47163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:29:56.47163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:29:56.47163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:29:56.47164   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:29:56.47164   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:29:56.47164   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:29:56.47164   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:29:56.47165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:29:56.47165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:29:56.47165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:29:56.47166   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:29:56.47166   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:29:56.47175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:29:56.47176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:29:56.47179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:29:56.47180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:29:56.47180   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:29:56.47180   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:29:56.47181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:29:56.47181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:29:56.47181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:29:56.47181   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:29:56.47182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:29:56.47183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:29:56.47183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:29:56.47183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:29:56.47183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:29:56.47184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:29:56.47184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:29:56.47184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:29:56.47185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:29:56.47185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:29:56.47197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:29:56.47198   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:29:56.47198   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:29:57.35623 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"Puma starting in cluster mode..."}
2020-10-21_14:29:57.35626 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:29:57.35628 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:29:57.35628 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"* Environment: production"}
2020-10-21_14:29:57.35629 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"* Process workers: 2"}
2020-10-21_14:29:57.35648 {"timestamp":"2020-10-21T14:29:57.356Z","pid":105136,"message":"* Preloading application"}
2020-10-21_14:30:10.60682 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:30:11.51058 {"timestamp":"2020-10-21T14:30:11.510Z","pid":105136,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:30:11.51094 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:30:11.51115 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:30:11.51119   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:30:11.51120   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:30:11.51120   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:30:11.51120   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:30:11.51121   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:30:11.51121   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:30:11.51132   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:30:11.51134   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:30:11.51135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:30:11.51135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:30:11.51136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:30:11.51136   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:30:11.51137   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:30:11.51137   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:30:11.51138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:30:11.51138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:30:11.51152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:30:11.51153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:30:11.51153   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:30:11.51154   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:30:11.51154   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:30:11.51154   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:30:11.51155   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:30:11.51168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:30:11.51168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:30:11.51169   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:30:11.51169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:11.51169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:30:11.51169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:30:11.51169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:11.51170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:30:11.51171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:30:11.51184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:30:11.51186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:30:11.51187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:30:11.51187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:30:11.51187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:30:11.51188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:30:11.51188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:30:11.51189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:30:11.51189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:30:11.51190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:30:11.51190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:30:11.51206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:30:11.51207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:30:11.51207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:30:11.51207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:30:11.51219   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:30:11.51220   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:30:11.51220   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:30:11.51221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:30:11.51221   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:30:11.51238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:30:11.51238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:30:11.51239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:30:11.51239   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:30:11.51239   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:30:11.51239   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:30:11.51239   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:30:11.51251   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:30:11.51252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:30:11.51252   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:30:11.51253   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:30:11.51253   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:30:11.51254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:30:11.51254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:30:11.51254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:30:11.51254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:30:11.51255   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:30:11.51270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:30:11.51271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:30:11.51271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:30:11.51275   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:30:11.51275   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:30:11.51275   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:30:12.48084 {"timestamp":"2020-10-21T14:30:12.480Z","pid":105605,"message":"Puma starting in cluster mode..."}
2020-10-21_14:30:12.48116 {"timestamp":"2020-10-21T14:30:12.480Z","pid":105605,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:30:12.48136 {"timestamp":"2020-10-21T14:30:12.481Z","pid":105605,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:30:12.48157 {"timestamp":"2020-10-21T14:30:12.481Z","pid":105605,"message":"* Environment: production"}
2020-10-21_14:30:12.48180 {"timestamp":"2020-10-21T14:30:12.481Z","pid":105605,"message":"* Process workers: 2"}
2020-10-21_14:30:12.48200 {"timestamp":"2020-10-21T14:30:12.481Z","pid":105605,"message":"* Preloading application"}
2020-10-21_14:30:27.78859 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:30:28.89466 {"timestamp":"2020-10-21T14:30:28.894Z","pid":105605,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:30:28.89494 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:30:28.89498 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:30:28.89509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:30:28.89509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:30:28.89510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:30:28.89510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:30:28.89510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:30:28.89510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:30:28.89511   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:30:28.89511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:30:28.89511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:30:28.89511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:30:28.89527   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:30:28.89529   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:30:28.89531   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:30:28.89531   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:30:28.89532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:30:28.89532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:30:28.89532   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:30:28.89554   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:30:28.89555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:30:28.89555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:30:28.89555   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:30:28.89567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:30:28.89572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:30:28.89582   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:30:28.89583   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:30:28.89583   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:30:28.89583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:28.89583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:30:28.89602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:30:28.89604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:28.89606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:30:28.89606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:30:28.89606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:30:28.89606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:30:28.89618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:30:28.89618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:30:28.89618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:30:28.89619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:30:28.89619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:30:28.89632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:30:28.89633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:30:28.89633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:30:28.89633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:30:28.89634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:30:28.89634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:30:28.89634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:30:28.89634   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:30:28.89635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:30:28.89635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:30:28.89651   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:30:28.89661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:30:28.89661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:30:28.89662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:30:28.89662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:30:28.89662   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:30:28.89662   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:30:28.89663   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:30:28.89663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:30:28.89663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:30:28.89663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:30:28.89684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:30:28.89695   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:30:28.89696   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:30:28.89696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:30:28.89697   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:30:28.89698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:30:28.89698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:30:28.89698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:30:28.89698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:30:28.89698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:30:28.89699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:30:28.89714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:30:28.89724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:30:28.89725   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:30:28.89725   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:30:29.75210 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"Puma starting in cluster mode..."}
2020-10-21_14:30:29.75235 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:30:29.75253 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:30:29.75266 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"* Environment: production"}
2020-10-21_14:30:29.75279 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"* Process workers: 2"}
2020-10-21_14:30:29.75293 {"timestamp":"2020-10-21T14:30:29.752Z","pid":106125,"message":"* Preloading application"}
2020-10-21_14:30:44.93700 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:30:45.70015 {"timestamp":"2020-10-21T14:30:45.699Z","pid":106125,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:30:45.70059 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:30:45.70101 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:30:45.70104   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:30:45.70105   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:30:45.70105   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:30:45.70106   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:30:45.70106   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:30:45.70107   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:30:45.70107   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:30:45.70119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:30:45.70121   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:30:45.70121   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:30:45.70125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:30:45.70125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:30:45.70127   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:30:45.70127   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:30:45.70127   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:30:45.70128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:30:45.70128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:30:45.70129   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:30:45.70129   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:30:45.70129   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:30:45.70130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:30:45.70130   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:30:45.70138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:30:45.70139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:30:45.70139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:30:45.70139   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:30:45.70140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:45.70143   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:30:45.70144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:30:45.70144   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:30:45.70145   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:30:45.70146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:30:45.70147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:30:45.70147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:30:45.70147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:30:45.70148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:30:45.70148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:30:45.70148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:30:45.70149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:30:45.70151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:30:45.70152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:30:45.70152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:30:45.70152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:30:45.70160   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:30:45.70161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:30:45.70161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:30:45.70162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:30:45.70162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:30:45.70162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:30:45.70166   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:30:45.70169   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:30:45.70170   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:30:45.70170   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:30:45.70170   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:30:45.70170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:30:45.70171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:30:45.70171   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:30:45.70171   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:30:45.70172   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:30:45.70172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:30:45.70172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:30:45.70173   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:30:45.70174   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:30:45.70174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:30:45.70175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:30:45.70175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:30:45.70175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:30:45.70176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:30:45.70176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:30:45.70176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:30:45.70177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:30:45.70177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:30:45.70179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:30:45.70180   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:30:45.70180   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:30:46.60387 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"Puma starting in cluster mode..."}
2020-10-21_14:30:46.60390 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:30:46.60392 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:30:46.60392 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"* Environment: production"}
2020-10-21_14:30:46.60392 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"* Process workers: 2"}
2020-10-21_14:30:46.60450 {"timestamp":"2020-10-21T14:30:46.603Z","pid":106609,"message":"* Preloading application"}
2020-10-21_14:31:02.13735 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:31:02.69328 {"timestamp":"2020-10-21T14:31:02.693Z","pid":106609,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:31:02.69396 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:31:02.69397 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:31:02.69398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:31:02.69398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:31:02.69398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:31:02.69398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:31:02.69399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:31:02.69399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:31:02.69399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:31:02.69399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:31:02.69400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:31:02.69400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:31:02.69400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:31:02.69400   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:31:02.69401   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:31:02.69402   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:31:02.69402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:31:02.69402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:31:02.69402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:31:02.69402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:31:02.69403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:31:02.69404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:31:02.69404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:31:02.69405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:31:02.69405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:31:02.69406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:31:02.69406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:31:02.69406   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:31:02.69406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:02.69406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:31:02.69407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:31:02.69407   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:02.69408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:31:02.69408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:31:02.69408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:31:02.69409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:31:02.69409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:31:02.69409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:31:02.69409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:31:02.69410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:31:02.69410   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:31:02.69411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:31:02.69411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:31:02.69411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:31:02.69412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:31:02.69412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:31:02.69412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:31:02.69412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:31:02.69412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:31:02.69413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:31:02.69413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:31:02.69414   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:31:02.69414   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:31:02.69415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:31:02.69415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:31:02.69415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:31:02.69415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:31:02.69415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:31:02.69416   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:31:02.69416   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:31:02.69416   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:31:02.69416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:31:02.69417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:31:02.69418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:31:02.69418   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:31:02.69418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:31:02.69418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:31:02.69418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:31:02.69419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:31:02.69419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:31:02.69419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:31:02.69419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:31:02.69420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:31:02.69420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:31:02.69423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:31:02.69423   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:31:02.69424   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:31:03.60990 {"timestamp":"2020-10-21T14:31:03.609Z","pid":107097,"message":"Puma starting in cluster mode..."}
2020-10-21_14:31:03.61018 {"timestamp":"2020-10-21T14:31:03.609Z","pid":107097,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:31:03.61040 {"timestamp":"2020-10-21T14:31:03.610Z","pid":107097,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:31:03.61059 {"timestamp":"2020-10-21T14:31:03.610Z","pid":107097,"message":"* Environment: production"}
2020-10-21_14:31:03.61078 {"timestamp":"2020-10-21T14:31:03.610Z","pid":107097,"message":"* Process workers: 2"}
2020-10-21_14:31:03.61097 {"timestamp":"2020-10-21T14:31:03.610Z","pid":107097,"message":"* Preloading application"}
2020-10-21_14:31:18.67257 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:31:19.85972 {"timestamp":"2020-10-21T14:31:19.859Z","pid":107097,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:31:19.86008 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:31:19.86030 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:31:19.86034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:31:19.86035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:31:19.86035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:31:19.86036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:31:19.86036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:31:19.86047   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:31:19.86051   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:31:19.86052   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:31:19.86067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:31:19.86067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:31:19.86068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:31:19.86068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:31:19.86083   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:31:19.86084   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:31:19.86097   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:31:19.86097   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:31:19.86107   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:31:19.86108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:31:19.86108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:31:19.86108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:31:19.86108   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:31:19.86109   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:31:19.86110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:31:19.86110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:31:19.86110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:31:19.86111   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:31:19.86126   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:19.86137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:31:19.86141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:31:19.86152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:19.86152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:31:19.86154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:31:19.86154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:31:19.86154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:31:19.86154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:31:19.86155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:31:19.86155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:31:19.86155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:31:19.86157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:31:19.86173   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:31:19.86173   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:31:19.86174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:31:19.86174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:31:19.86174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:31:19.86175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:31:19.86185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:31:19.86188   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:31:19.86189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:31:19.86201   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:31:19.86210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:31:19.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:31:19.86215   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:31:19.86216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:31:19.86216   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:31:19.86216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:31:19.86216   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:31:19.86217   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:31:19.86231   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:31:19.86232   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:31:19.86232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:31:19.86232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:31:19.86233   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:31:19.86247   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:31:19.86247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:31:19.86260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:31:19.86260   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:31:19.86270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:31:19.86270   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:31:19.86271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:31:19.86271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:31:19.86271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:31:19.86271   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:31:19.86273   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:31:19.86273   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:31:19.86273   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:31:20.54374 {"timestamp":"2020-10-21T14:31:20.543Z","pid":107603,"message":"Puma starting in cluster mode..."}
2020-10-21_14:31:20.54399 {"timestamp":"2020-10-21T14:31:20.543Z","pid":107603,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:31:20.54418 {"timestamp":"2020-10-21T14:31:20.544Z","pid":107603,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:31:20.54437 {"timestamp":"2020-10-21T14:31:20.544Z","pid":107603,"message":"* Environment: production"}
2020-10-21_14:31:20.54457 {"timestamp":"2020-10-21T14:31:20.544Z","pid":107603,"message":"* Process workers: 2"}
2020-10-21_14:31:20.54475 {"timestamp":"2020-10-21T14:31:20.544Z","pid":107603,"message":"* Preloading application"}
2020-10-21_14:31:33.87623 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:31:34.58306 {"timestamp":"2020-10-21T14:31:34.582Z","pid":107603,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:31:34.58343 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:31:34.58345 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:31:34.58346   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:31:34.58346   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:31:34.58347   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:31:34.58347   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:31:34.58348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:31:34.58348   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:31:34.58349   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:31:34.58349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:31:34.58349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:31:34.58362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:31:34.58370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:31:34.58370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:31:34.58372   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:31:34.58372   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:31:34.58373   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:31:34.58373   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:31:34.58373   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:31:34.58374   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:31:34.58376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:31:34.58376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:31:34.58376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:31:34.58401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:31:34.58402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:31:34.58403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:31:34.58403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:31:34.58404   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:31:34.58417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:34.58422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:31:34.58423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:31:34.58423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:34.58425   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:31:34.58426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:31:34.58445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:31:34.58456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:31:34.58457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:31:34.58457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:31:34.58464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:31:34.58480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:31:34.58482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:31:34.58502   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:31:34.58503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:31:34.58519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:31:34.58521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:31:34.58521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:31:34.58522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:31:34.58522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:31:34.58541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:31:34.58541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:31:34.58542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:31:34.58560   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:31:34.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:31:34.58561   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:31:34.58562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:31:34.58562   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:31:34.58563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:31:34.58563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:31:34.58585   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:31:34.58586   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:31:34.58586   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:31:34.58587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:31:34.58587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:31:34.58605   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:31:34.58606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:31:34.58606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:31:34.58607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:31:34.58607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:31:34.58629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:31:34.58630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:31:34.58631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:31:34.58631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:31:34.58631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:31:34.58643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:31:34.58650   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:31:34.58651   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:31:34.58652   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:31:35.43861 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"Puma starting in cluster mode..."}
2020-10-21_14:31:35.43864 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:31:35.43866 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:31:35.43866 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"* Environment: production"}
2020-10-21_14:31:35.43866 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"* Process workers: 2"}
2020-10-21_14:31:35.43891 {"timestamp":"2020-10-21T14:31:35.438Z","pid":108051,"message":"* Preloading application"}
2020-10-21_14:31:49.71010 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:31:50.55764 {"timestamp":"2020-10-21T14:31:50.557Z","pid":108051,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:31:50.55806 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:31:50.55814 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:31:50.55826   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:31:50.55827   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:31:50.55827   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:31:50.55827   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:31:50.55838   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:31:50.55839   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:31:50.55839   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:31:50.55839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:31:50.55840   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:31:50.55853   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:31:50.55853   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:31:50.55854   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:31:50.55880   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:31:50.55881   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:31:50.55882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:31:50.55882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:31:50.55893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:31:50.55893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:31:50.55894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:31:50.55894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:31:50.55919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:31:50.55920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:31:50.55942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:31:50.55943   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:31:50.55943   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:31:50.55943   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:31:50.55943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:50.55943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:31:50.55944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:31:50.55944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:31:50.55944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:31:50.55945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:31:50.55946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:31:50.55946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:31:50.55946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:31:50.55946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:31:50.55947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:31:50.55947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:31:50.55947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:31:50.55948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:31:50.55948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:31:50.55949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:31:50.55949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:31:50.55949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:31:50.55949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:31:50.55949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:31:50.55950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:31:50.55950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:31:50.55950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:31:50.55950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:31:50.55951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:31:50.55952   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:31:50.55952   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:31:50.55952   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:31:50.55953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:31:50.55953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:31:50.55953   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:31:50.55953   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:31:50.55954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:31:50.55954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:31:50.55954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:31:50.55954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:31:50.55955   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:31:50.55955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:31:50.55956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:31:50.55956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:31:50.55956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:31:50.55956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:31:50.55957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:31:50.55957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:31:50.55957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:31:50.55957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:31:50.55959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:31:50.55966   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:31:50.56002   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:31:51.34704 {"timestamp":"2020-10-21T14:31:51.346Z","pid":108532,"message":"Puma starting in cluster mode..."}
2020-10-21_14:31:51.34706 {"timestamp":"2020-10-21T14:31:51.347Z","pid":108532,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:31:51.34708 {"timestamp":"2020-10-21T14:31:51.347Z","pid":108532,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:31:51.34708 {"timestamp":"2020-10-21T14:31:51.347Z","pid":108532,"message":"* Environment: production"}
2020-10-21_14:31:51.34708 {"timestamp":"2020-10-21T14:31:51.347Z","pid":108532,"message":"* Process workers: 2"}
2020-10-21_14:31:51.34709 {"timestamp":"2020-10-21T14:31:51.347Z","pid":108532,"message":"* Preloading application"}
2020-10-21_14:32:05.84010 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:32:06.61727 {"timestamp":"2020-10-21T14:32:06.617Z","pid":108532,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:32:06.61760 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:32:06.61770 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:32:06.61777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:32:06.61778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:32:06.61778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:32:06.61778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:32:06.61779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:32:06.61779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:32:06.61779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:32:06.61779   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:32:06.61780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:32:06.61780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:32:06.61780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:32:06.61780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:32:06.61798   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:32:06.61798   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:32:06.61798   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:32:06.61799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:32:06.61799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:32:06.61799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:32:06.61799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:32:06.61800   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:32:06.61800   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:32:06.61800   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:32:06.61806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:32:06.61807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:32:06.61807   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:32:06.61807   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:32:06.61807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:06.61808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:32:06.61808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:32:06.61808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:06.61823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:32:06.61824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:32:06.61825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:32:06.61825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:32:06.61825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:32:06.61825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:32:06.61826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:32:06.61826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:32:06.61831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:32:06.61832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:32:06.61833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:32:06.61845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:32:06.61845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:32:06.61845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:32:06.61846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:32:06.61846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:32:06.61846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:32:06.61846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:32:06.61847   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:32:06.61847   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:32:06.61848   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:32:06.61853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:32:06.61853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:32:06.61854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:32:06.61854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:32:06.61854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:32:06.61866   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:32:06.61867   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:32:06.61867   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:32:06.61867   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:32:06.61868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:32:06.61868   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:32:06.61869   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:32:06.61869   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:32:06.61870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:32:06.61875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:32:06.61875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:32:06.61876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:32:06.61876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:32:06.61876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:32:06.61876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:32:06.61877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:32:06.61891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:32:06.61892   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:32:06.61892   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:32:07.47823 {"timestamp":"2020-10-21T14:32:07.478Z","pid":109004,"message":"Puma starting in cluster mode..."}
2020-10-21_14:32:07.47865 {"timestamp":"2020-10-21T14:32:07.478Z","pid":109004,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:32:07.47920 {"timestamp":"2020-10-21T14:32:07.478Z","pid":109004,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:32:07.47959 {"timestamp":"2020-10-21T14:32:07.479Z","pid":109004,"message":"* Environment: production"}
2020-10-21_14:32:07.47981 {"timestamp":"2020-10-21T14:32:07.479Z","pid":109004,"message":"* Process workers: 2"}
2020-10-21_14:32:07.48003 {"timestamp":"2020-10-21T14:32:07.479Z","pid":109004,"message":"* Preloading application"}
2020-10-21_14:32:23.32323 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:32:24.27474 {"timestamp":"2020-10-21T14:32:24.274Z","pid":109004,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:32:24.27521 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:32:24.27542 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:32:24.27551   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:32:24.27552   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:32:24.27553   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:32:24.27553   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:32:24.27553   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:32:24.27554   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:32:24.27570   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:32:24.27572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:32:24.27573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:32:24.27573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:32:24.27573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:32:24.27575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:32:24.27577   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:32:24.27577   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:32:24.27578   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:32:24.27596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:32:24.27598   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:32:24.27599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:32:24.27600   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:32:24.27600   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:32:24.27601   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:32:24.27601   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:32:24.27621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:32:24.27621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:32:24.27622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:32:24.27622   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:32:24.27623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:24.27623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:32:24.27623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:32:24.27624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:24.27624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:32:24.27626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:32:24.27626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:32:24.27646   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:32:24.27647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:32:24.27647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:32:24.27648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:32:24.27649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:32:24.27649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:32:24.27665   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:32:24.27672   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:32:24.27674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:32:24.27674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:32:24.27674   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:32:24.27675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:32:24.27675   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:32:24.27676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:32:24.27676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:32:24.27676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:32:24.27677   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:32:24.27701   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:32:24.27703   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:32:24.27703   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:32:24.27704   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:32:24.27704   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:32:24.27719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:32:24.27720   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:32:24.27721   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:32:24.27721   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:32:24.27721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:32:24.27722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:32:24.27722   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:32:24.27724   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:32:24.27724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:32:24.27725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:32:24.27754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:32:24.27755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:32:24.27755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:32:24.27755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:32:24.27756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:32:24.27756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:32:24.27757   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:32:24.27773   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:32:24.27774   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:32:24.27774   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:32:25.32244 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"Puma starting in cluster mode..."}
2020-10-21_14:32:25.32248 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:32:25.32249 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:32:25.32250 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"* Environment: production"}
2020-10-21_14:32:25.32250 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"* Process workers: 2"}
2020-10-21_14:32:25.32279 {"timestamp":"2020-10-21T14:32:25.322Z","pid":109535,"message":"* Preloading application"}
2020-10-21_14:32:45.50561 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:32:46.33611 {"timestamp":"2020-10-21T14:32:46.335Z","pid":109535,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:32:46.33663 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:32:46.33733 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:32:46.33736   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:32:46.33737   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:32:46.33738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:32:46.33738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:32:46.33738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:32:46.33739   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:32:46.33739   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:32:46.33739   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:32:46.33740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:32:46.33740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:32:46.33740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:32:46.33741   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:32:46.33742   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:32:46.33743   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:32:46.33743   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:32:46.33744   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:32:46.33775   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:32:46.33776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:32:46.33776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:32:46.33776   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:32:46.33777   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:32:46.33777   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:32:46.33801   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:32:46.33816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:32:46.33817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:32:46.33817   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:32:46.33818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:46.33818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:32:46.33819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:32:46.33840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:32:46.33841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:32:46.33856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:32:46.33860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:32:46.33861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:32:46.33861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:32:46.33881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:32:46.33884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:32:46.33885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:32:46.33885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:32:46.33887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:32:46.33887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:32:46.33887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:32:46.33888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:32:46.33888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:32:46.33897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:32:46.33908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:32:46.33909   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:32:46.33909   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:32:46.33910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:32:46.33910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:32:46.33912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:32:46.33912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:32:46.33912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:32:46.33936   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:32:46.33937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:32:46.33937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:32:46.33937   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:32:46.33938   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:32:46.33943   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:32:46.33944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:32:46.33944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:32:46.33945   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:32:46.33982   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:32:46.33983   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:32:46.33983   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:32:46.33984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:32:46.33984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:32:46.33984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:32:46.33985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:32:46.33985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:32:46.33985   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:32:46.33986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:32:46.33988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:32:46.33988   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:32:46.33988   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:32:47.27531 {"timestamp":"2020-10-21T14:32:47.275Z","pid":110143,"message":"Puma starting in cluster mode..."}
2020-10-21_14:32:47.27559 {"timestamp":"2020-10-21T14:32:47.275Z","pid":110143,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:32:47.27573 {"timestamp":"2020-10-21T14:32:47.275Z","pid":110143,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:32:47.27588 {"timestamp":"2020-10-21T14:32:47.275Z","pid":110143,"message":"* Environment: production"}
2020-10-21_14:32:47.27607 {"timestamp":"2020-10-21T14:32:47.275Z","pid":110143,"message":"* Process workers: 2"}
2020-10-21_14:32:47.27628 {"timestamp":"2020-10-21T14:32:47.276Z","pid":110143,"message":"* Preloading application"}
2020-10-21_14:33:07.18189 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:33:08.21749 {"timestamp":"2020-10-21T14:33:08.217Z","pid":110143,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:33:08.21773 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:33:08.21776 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:33:08.21777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:33:08.21777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:33:08.21777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:33:08.21777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:33:08.21778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:33:08.21778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:33:08.21778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:33:08.21778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:33:08.21778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:33:08.21779   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:33:08.21779   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:33:08.21779   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:33:08.21780   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:33:08.21780   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:33:08.21781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:33:08.21781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:33:08.21781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:33:08.21781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:33:08.21782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:33:08.21782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:33:08.21782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:33:08.21782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:33:08.21783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:33:08.21784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:33:08.21784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:33:08.21784   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:33:08.21784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:08.21785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:33:08.21785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:33:08.21785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:08.21785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:33:08.21787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:33:08.21787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:33:08.21787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:33:08.21788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:33:08.21788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:33:08.21788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:33:08.21788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:33:08.21789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:33:08.21790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:33:08.21790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:33:08.21790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:33:08.21790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:33:08.21791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:33:08.21791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:33:08.21791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:33:08.21791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:33:08.21792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:33:08.21792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:33:08.21792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:33:08.21793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:33:08.21793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:33:08.21793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:33:08.21794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:33:08.21794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:33:08.21794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:33:08.21794   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:33:08.21795   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:33:08.21795   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:33:08.21795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:33:08.21795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:33:08.21796   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:33:08.21797   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:33:08.21797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:33:08.21797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:33:08.21798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:33:08.21798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:33:08.21798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:33:08.21798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:33:08.21799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:33:08.21799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:33:08.21799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:33:08.21800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:33:08.21800   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:33:08.21801   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:33:09.18065 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"Puma starting in cluster mode..."}
2020-10-21_14:33:09.18069 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:33:09.18069 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:33:09.18070 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"* Environment: production"}
2020-10-21_14:33:09.18071 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"* Process workers: 2"}
2020-10-21_14:33:09.18089 {"timestamp":"2020-10-21T14:33:09.180Z","pid":110761,"message":"* Preloading application"}
2020-10-21_14:33:23.63283 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:33:24.51750 {"timestamp":"2020-10-21T14:33:24.517Z","pid":110761,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:33:24.51778 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:33:24.51782 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:33:24.51795   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:33:24.51809   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:33:24.51820   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:33:24.51820   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:33:24.51820   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:33:24.51821   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:33:24.51821   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:33:24.51821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:33:24.51821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:33:24.51822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:33:24.51822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:33:24.51839   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:33:24.51843   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:33:24.51855   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:33:24.51855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:33:24.51856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:33:24.51856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:33:24.51856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:33:24.51856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:33:24.51857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:33:24.51857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:33:24.51875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:33:24.51885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:33:24.51885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:33:24.51886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:33:24.51886   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:33:24.51886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:24.51887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:33:24.51887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:33:24.51887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:24.51905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:33:24.51915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:33:24.51916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:33:24.51916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:33:24.51916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:33:24.51916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:33:24.51917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:33:24.51917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:33:24.51917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:33:24.51935   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:33:24.51935   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:33:24.51936   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:33:24.51936   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:33:24.51937   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:33:24.51937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:33:24.51937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:33:24.51951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:33:24.51961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:33:24.51961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:33:24.51963   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:33:24.51963   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:33:24.51963   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:33:24.51977   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:33:24.51987   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:33:24.51988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:33:24.51988   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:33:24.51988   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:33:24.51988   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:33:24.51989   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:33:24.51989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:33:24.51989   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:33:24.52005   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:33:24.52016   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:33:24.52016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:33:24.52016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:33:24.52017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:33:24.52017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:33:24.52017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:33:24.52017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:33:24.52018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:33:24.52018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:33:24.52018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:33:24.52035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:33:24.52036   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:33:24.52036   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:33:25.46323 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"Puma starting in cluster mode..."}
2020-10-21_14:33:25.46328 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:33:25.46332 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:33:25.46358 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"* Environment: production"}
2020-10-21_14:33:25.46364 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"* Process workers: 2"}
2020-10-21_14:33:25.46380 {"timestamp":"2020-10-21T14:33:25.463Z","pid":111240,"message":"* Preloading application"}
2020-10-21_14:33:40.35161 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:33:41.18168 {"timestamp":"2020-10-21T14:33:41.181Z","pid":111240,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:33:41.18199 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:33:41.18202 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:33:41.18202   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:33:41.18203   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:33:41.18203   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:33:41.18203   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:33:41.18203   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:33:41.18204   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:33:41.18204   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:33:41.18204   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:33:41.18220   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:33:41.18233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:33:41.18244   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:33:41.18245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:33:41.18246   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:33:41.18246   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:33:41.18261   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:33:41.18272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:33:41.18272   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:33:41.18273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:33:41.18273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:33:41.18273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:33:41.18274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:33:41.18291   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:33:41.18337   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:33:41.18343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:33:41.18344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:33:41.18363   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:33:41.18380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:41.18409   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:33:41.18415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:33:41.18432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:41.18449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:33:41.18477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:33:41.18483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:33:41.18500   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:33:41.18510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:33:41.18511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:33:41.18511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:33:41.18511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:33:41.18511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:33:41.18528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:33:41.18538   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:33:41.18539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:33:41.18539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:33:41.18540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:33:41.18540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:33:41.18540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:33:41.18540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:33:41.18541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:33:41.18541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:33:41.18557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:33:41.18568   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:33:41.18568   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:33:41.18568   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:33:41.18569   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:33:41.18569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:33:41.18586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:33:41.18588   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:33:41.18589   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:33:41.18589   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:33:41.18589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:33:41.18589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:33:41.18606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:33:41.18608   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:33:41.18608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:33:41.18608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:33:41.18609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:33:41.18609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:33:41.18609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:33:41.18609   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:33:41.18610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:33:41.18610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:33:41.18610   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:33:41.18626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:33:41.18636   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:33:41.18637   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:33:42.01424 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"Puma starting in cluster mode..."}
2020-10-21_14:33:42.01453 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:33:42.01458 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:33:42.01468 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"* Environment: production"}
2020-10-21_14:33:42.01473 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"* Process workers: 2"}
2020-10-21_14:33:42.01484 {"timestamp":"2020-10-21T14:33:42.014Z","pid":111726,"message":"* Preloading application"}
2020-10-21_14:33:56.34624 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:33:57.10334 {"timestamp":"2020-10-21T14:33:57.103Z","pid":111726,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:33:57.10456 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:33:57.10499 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:33:57.10502   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:33:57.10503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:33:57.10503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:33:57.10503   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:33:57.10504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:33:57.10504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:33:57.10504   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:33:57.10504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:33:57.10505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:33:57.10513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:33:57.10513   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:33:57.10514   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:33:57.10515   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:33:57.10515   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:33:57.10515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:33:57.10516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:33:57.10520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:33:57.10520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:33:57.10520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:33:57.10520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:33:57.10521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:33:57.10521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:33:57.10522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:33:57.10522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:33:57.10523   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:33:57.10523   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:33:57.10523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:57.10523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:33:57.10533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:33:57.10534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:33:57.10534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:33:57.10536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:33:57.10536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:33:57.10537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:33:57.10537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:33:57.10537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:33:57.10538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:33:57.10538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:33:57.10538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:33:57.10539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:33:57.10539   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:33:57.10540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:33:57.10540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:33:57.10540   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:33:57.10540   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:33:57.10541   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:33:57.10541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:33:57.10541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:33:57.10541   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:33:57.10542   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:33:57.10556   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:33:57.10556   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:33:57.10557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:33:57.10557   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:33:57.10557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:33:57.10557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:33:57.10558   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:33:57.10558   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:33:57.10558   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:33:57.10558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:33:57.10559   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:33:57.10559   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:33:57.10560   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:33:57.10560   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:33:57.10561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:33:57.10561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:33:57.10561   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:33:57.10562   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:33:57.10562   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:33:57.10562   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:33:57.10563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:33:57.10563   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:33:57.10564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:33:57.10564   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:33:57.10564   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:33:58.05951 {"timestamp":"2020-10-21T14:33:58.059Z","pid":112211,"message":"Puma starting in cluster mode..."}
2020-10-21_14:33:58.05973 {"timestamp":"2020-10-21T14:33:58.059Z","pid":112211,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:33:58.05989 {"timestamp":"2020-10-21T14:33:58.059Z","pid":112211,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:33:58.06004 {"timestamp":"2020-10-21T14:33:58.059Z","pid":112211,"message":"* Environment: production"}
2020-10-21_14:33:58.06020 {"timestamp":"2020-10-21T14:33:58.060Z","pid":112211,"message":"* Process workers: 2"}
2020-10-21_14:33:58.06036 {"timestamp":"2020-10-21T14:33:58.060Z","pid":112211,"message":"* Preloading application"}
2020-10-21_14:34:14.87888 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:34:15.57703 {"timestamp":"2020-10-21T14:34:15.576Z","pid":112211,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:34:15.57734 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:34:15.57736 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:34:15.57737   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:34:15.57737   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:34:15.57737   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:34:15.57738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:34:15.57738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:34:15.57738   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:34:15.57739   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:34:15.57751   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:34:15.57753   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:34:15.57753   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:34:15.57754   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:34:15.57754   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:34:15.57755   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:34:15.57770   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:34:15.57772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:34:15.57772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:34:15.57772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:34:15.57772   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:34:15.57773   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:34:15.57787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:34:15.57789   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:34:15.57791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:34:15.57791   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:34:15.57792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:34:15.57792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:34:15.57805   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:34:15.57806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:15.57806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:34:15.57806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:34:15.57807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:15.57821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:34:15.57821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:34:15.57822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:34:15.57822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:34:15.57822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:34:15.57823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:34:15.57823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:34:15.57823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:34:15.57823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:34:15.57840   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:34:15.57841   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:34:15.57854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:34:15.57857   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:34:15.57857   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:34:15.57858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:34:15.57858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:34:15.57859   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:34:15.57859   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:34:15.57859   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:34:15.57877   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:34:15.57879   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:34:15.57879   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:34:15.57880   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:34:15.57880   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:34:15.57880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:34:15.57880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:34:15.57893   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:34:15.57894   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:34:15.57894   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:34:15.57894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:34:15.57895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:34:15.57930   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:34:15.57933   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:34:15.57934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:34:15.57935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:34:15.57935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:34:15.57936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:34:15.57936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:34:15.57936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:34:15.57955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:34:15.57976   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:34:15.57986   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:34:15.58021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:34:15.58023   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:34:15.58024   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:34:16.57449 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"Puma starting in cluster mode..."}
2020-10-21_14:34:16.57453 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:34:16.57454 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:34:16.57456 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"* Environment: production"}
2020-10-21_14:34:16.57457 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"* Process workers: 2"}
2020-10-21_14:34:16.57483 {"timestamp":"2020-10-21T14:34:16.574Z","pid":112748,"message":"* Preloading application"}
2020-10-21_14:34:32.79505 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:34:33.78172 {"timestamp":"2020-10-21T14:34:33.781Z","pid":112748,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:34:33.78205 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:34:33.78229 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:34:33.78231   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:34:33.78231   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:34:33.78232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:34:33.78232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:34:33.78232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:34:33.78232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:34:33.78232   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:34:33.78233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:34:33.78233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:34:33.78233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:34:33.78233   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:34:33.78234   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:34:33.78242   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:34:33.78249   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:34:33.78250   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:34:33.78250   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:34:33.78250   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:34:33.78250   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:34:33.78251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:34:33.78251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:34:33.78251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:34:33.78251   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:34:33.78268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:34:33.78268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:34:33.78269   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:34:33.78276   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:34:33.78276   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:33.78277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:34:33.78277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:34:33.78277   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:33.78283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:34:33.78297   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:34:33.78298   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:34:33.78298   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:34:33.78298   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:34:33.78305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:34:33.78305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:34:33.78306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:34:33.78306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:34:33.78311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:34:33.78311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:34:33.78311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:34:33.78311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:34:33.78312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:34:33.78327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:34:33.78328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:34:33.78328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:34:33.78328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:34:33.78333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:34:33.78335   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:34:33.78342   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:34:33.78342   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:34:33.78342   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:34:33.78343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:34:33.78343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:34:33.78343   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:34:33.78357   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:34:33.78358   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:34:33.78358   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:34:33.78358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:34:33.78365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:34:33.78365   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:34:33.78370   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:34:33.78370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:34:33.78370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:34:33.78370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:34:33.78371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:34:33.78371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:34:33.78371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:34:33.78371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:34:33.78372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:34:33.78372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:34:33.78388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:34:33.78389   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:34:33.78389   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:34:34.46597 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"Puma starting in cluster mode..."}
2020-10-21_14:34:34.46599 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:34:34.46600 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:34:34.46600 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"* Environment: production"}
2020-10-21_14:34:34.46600 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"* Process workers: 2"}
2020-10-21_14:34:34.46600 {"timestamp":"2020-10-21T14:34:34.465Z","pid":113254,"message":"* Preloading application"}
2020-10-21_14:34:48.45281 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:34:49.39086 {"timestamp":"2020-10-21T14:34:49.390Z","pid":113254,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:34:49.39120 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:34:49.39138 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:34:49.39139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:34:49.39140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:34:49.39140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:34:49.39141   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:34:49.39141   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:34:49.39142   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:34:49.39142   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:34:49.39142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:34:49.39142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:34:49.39143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:34:49.39143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:34:49.39143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:34:49.39144   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:34:49.39145   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:34:49.39145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:34:49.39145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:34:49.39145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:34:49.39146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:34:49.39146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:34:49.39146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:34:49.39146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:34:49.39147   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:34:49.39148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:34:49.39148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:34:49.39148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:34:49.39148   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:34:49.39149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:49.39149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:34:49.39149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:34:49.39149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:34:49.39150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:34:49.39151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:34:49.39151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:34:49.39151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:34:49.39152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:34:49.39152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:34:49.39152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:34:49.39153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:34:49.39153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:34:49.39154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:34:49.39154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:34:49.39154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:34:49.39155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:34:49.39155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:34:49.39155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:34:49.39155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:34:49.39156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:34:49.39156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:34:49.39197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:34:49.39197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:34:49.39199   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:34:49.39199   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:34:49.39199   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:34:49.39199   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:34:49.39200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:34:49.39200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:34:49.39200   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:34:49.39200   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:34:49.39201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:34:49.39201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:34:49.39201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:34:49.39201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:34:49.39202   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:34:49.39203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:34:49.39203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:34:49.39203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:34:49.39203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:34:49.39204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:34:49.39204   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:34:49.39205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:34:49.39205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:34:49.39205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:34:49.39206   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:34:49.39207   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:34:49.39207   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:34:50.20827 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"Puma starting in cluster mode..."}
2020-10-21_14:34:50.20831 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:34:50.20832 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:34:50.20832 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"* Environment: production"}
2020-10-21_14:34:50.20847 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"* Process workers: 2"}
2020-10-21_14:34:50.20851 {"timestamp":"2020-10-21T14:34:50.208Z","pid":113721,"message":"* Preloading application"}
2020-10-21_14:35:03.90691 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:35:04.70875 {"timestamp":"2020-10-21T14:35:04.708Z","pid":113721,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:35:04.70914 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:35:04.70932 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:35:04.70933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:35:04.70933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:35:04.70933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:35:04.70933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:35:04.70934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:35:04.70934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:35:04.70934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:35:04.70934   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:35:04.70935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:35:04.70935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:35:04.70935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:35:04.70935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:35:04.70936   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:35:04.70937   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:35:04.70937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:35:04.70938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:35:04.70938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:35:04.70938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:35:04.70939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:35:04.70939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:35:04.70939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:35:04.70939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:35:04.70940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:35:04.70941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:35:04.70941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:35:04.70941   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:35:04.70941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:04.70942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:35:04.70942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:35:04.70942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:04.70943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:35:04.70944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:35:04.70944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:35:04.70944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:35:04.70944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:35:04.70945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:35:04.70945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:35:04.70945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:35:04.70945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:35:04.70946   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:35:04.70947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:35:04.70947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:35:04.70947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:35:04.70947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:35:04.70948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:35:04.70948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:35:04.70948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:35:04.70949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:35:04.70949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:35:04.70949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:35:04.70950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:35:04.70950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:35:04.70951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:35:04.70951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:35:04.70951   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:35:04.70951   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:35:04.70952   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:35:04.70952   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:35:04.70952   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:35:04.70952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:35:04.70952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:35:04.70953   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:35:04.70954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:35:04.70954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:35:04.70954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:35:04.70954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:35:04.70955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:35:04.70955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:35:04.70955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:35:04.70955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:35:04.70956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:35:04.70956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:35:04.70957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:35:04.70957   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:35:04.70958   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:35:05.56897 {"timestamp":"2020-10-21T14:35:05.568Z","pid":114184,"message":"Puma starting in cluster mode..."}
2020-10-21_14:35:05.56957 {"timestamp":"2020-10-21T14:35:05.569Z","pid":114184,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:35:05.56974 {"timestamp":"2020-10-21T14:35:05.569Z","pid":114184,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:35:05.56990 {"timestamp":"2020-10-21T14:35:05.569Z","pid":114184,"message":"* Environment: production"}
2020-10-21_14:35:05.57006 {"timestamp":"2020-10-21T14:35:05.570Z","pid":114184,"message":"* Process workers: 2"}
2020-10-21_14:35:05.57021 {"timestamp":"2020-10-21T14:35:05.570Z","pid":114184,"message":"* Preloading application"}
2020-10-21_14:35:19.16548 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:35:19.99089 {"timestamp":"2020-10-21T14:35:19.990Z","pid":114184,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:35:19.99119 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:35:19.99137 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:35:19.99138   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:35:19.99139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:35:19.99139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:35:19.99139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:35:19.99139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:35:19.99139   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:35:19.99140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:35:19.99140   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:35:19.99140   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:35:19.99140   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:35:19.99141   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:35:19.99141   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:35:19.99142   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:35:19.99142   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:35:19.99143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:35:19.99143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:35:19.99143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:35:19.99143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:35:19.99144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:35:19.99144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:35:19.99144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:35:19.99144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:35:19.99145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:35:19.99146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:35:19.99146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:35:19.99146   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:35:19.99147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:19.99147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:35:19.99148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:35:19.99148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:19.99148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:35:19.99149   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:35:19.99150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:35:19.99150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:35:19.99150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:35:19.99150   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:35:19.99151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:35:19.99151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:35:19.99151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:35:19.99152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:35:19.99152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:35:19.99153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:35:19.99153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:35:19.99153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:35:19.99153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:35:19.99154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:35:19.99154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:35:19.99154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:35:19.99154   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:35:19.99155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:35:19.99156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:35:19.99156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:35:19.99156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:35:19.99156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:35:19.99156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:35:19.99157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:35:19.99157   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:35:19.99157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:35:19.99158   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:35:19.99158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:35:19.99158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:35:19.99158   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:35:19.99159   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:35:19.99160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:35:19.99160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:35:19.99160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:35:19.99160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:35:19.99161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:35:19.99161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:35:19.99161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:35:19.99161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:35:19.99162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:35:19.99163   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:35:19.99163   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:35:19.99163   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:35:20.88552 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"Puma starting in cluster mode..."}
2020-10-21_14:35:20.88555 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:35:20.88556 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:35:20.88563 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"* Environment: production"}
2020-10-21_14:35:20.88564 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"* Process workers: 2"}
2020-10-21_14:35:20.88591 {"timestamp":"2020-10-21T14:35:20.885Z","pid":114655,"message":"* Preloading application"}
2020-10-21_14:35:34.68235 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:35:35.35410 {"timestamp":"2020-10-21T14:35:35.353Z","pid":114655,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:35:35.35441 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:35:35.35462 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:35:35.35467   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:35:35.35467   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:35:35.35468   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:35:35.35468   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:35:35.35468   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:35:35.35469   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:35:35.35470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:35:35.35470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:35:35.35470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:35:35.35470   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:35:35.35471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:35:35.35471   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:35:35.35489   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:35:35.35490   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:35:35.35490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:35:35.35490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:35:35.35490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:35:35.35491   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:35:35.35491   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:35:35.35491   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:35:35.35491   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:35:35.35492   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:35:35.35493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:35:35.35493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:35:35.35493   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:35:35.35494   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:35:35.35512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:35.35512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:35:35.35513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:35:35.35513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:35.35513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:35:35.35514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:35:35.35515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:35:35.35515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:35:35.35515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:35:35.35531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:35:35.35542   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:35:35.35543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:35:35.35543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:35:35.35544   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:35:35.35544   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:35:35.35558   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:35:35.35569   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:35:35.35570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:35:35.35570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:35:35.35570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:35:35.35570   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:35:35.35588   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:35:35.35598   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:35:35.35599   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:35:35.35600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:35:35.35600   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:35:35.35601   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:35:35.35613   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:35:35.35617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:35:35.35627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:35:35.35628   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:35:35.35628   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:35:35.35628   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:35:35.35629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:35:35.35629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:35:35.35629   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:35:35.35645   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:35:35.35655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:35:35.35656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:35:35.35656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:35:35.35656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:35:35.35656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:35:35.35657   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:35:35.35657   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:35:35.35728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:35:35.35730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:35:35.35732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:35:35.35732   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:35:35.35732   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:35:36.06560 {"timestamp":"2020-10-21T14:35:36.065Z","pid":115116,"message":"Puma starting in cluster mode..."}
2020-10-21_14:35:36.06569 {"timestamp":"2020-10-21T14:35:36.065Z","pid":115116,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:35:36.06584 {"timestamp":"2020-10-21T14:35:36.065Z","pid":115116,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:35:36.06610 {"timestamp":"2020-10-21T14:35:36.065Z","pid":115116,"message":"* Environment: production"}
2020-10-21_14:35:36.06630 {"timestamp":"2020-10-21T14:35:36.066Z","pid":115116,"message":"* Process workers: 2"}
2020-10-21_14:35:36.06639 {"timestamp":"2020-10-21T14:35:36.066Z","pid":115116,"message":"* Preloading application"}
2020-10-21_14:35:50.39304 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:35:51.02910 {"timestamp":"2020-10-21T14:35:51.028Z","pid":115116,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:35:51.02941 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:35:51.02956 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:35:51.02965   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:35:51.02965   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:35:51.02966   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:35:51.02966   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:35:51.02966   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:35:51.02966   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:35:51.02966   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:35:51.02967   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:35:51.02967   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:35:51.02967   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:35:51.02967   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:35:51.02968   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:35:51.02980   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:35:51.02985   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:35:51.02986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:35:51.02986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:35:51.02986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:35:51.02987   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:35:51.02988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:35:51.02988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:35:51.02988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:35:51.02988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:35:51.03007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:35:51.03008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:35:51.03008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:35:51.03008   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:35:51.03008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:51.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:35:51.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:35:51.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:35:51.03009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:35:51.03010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:35:51.03018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:35:51.03022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:35:51.03027   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:35:51.03028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:35:51.03028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:35:51.03028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:35:51.03029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:35:51.03045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:35:51.03046   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:35:51.03046   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:35:51.03046   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:35:51.03047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:35:51.03047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:35:51.03047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:35:51.03048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:35:51.03048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:35:51.03048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:35:51.03049   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:35:51.03066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:35:51.03067   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:35:51.03080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:35:51.03080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:35:51.03081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:35:51.03081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:35:51.03081   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:35:51.03081   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:35:51.03082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:35:51.03082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:35:51.03082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:35:51.03082   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:35:51.03092   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:35:51.03099   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:35:51.03100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:35:51.03114   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:35:51.03116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:35:51.03117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:35:51.03117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:35:51.03117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:35:51.03118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:35:51.03118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:35:51.03119   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:35:51.03119   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:35:51.03120   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:35:51.80745 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"Puma starting in cluster mode..."}
2020-10-21_14:35:51.80748 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:35:51.80750 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:35:51.80750 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"* Environment: production"}
2020-10-21_14:35:51.80763 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"* Process workers: 2"}
2020-10-21_14:35:51.80765 {"timestamp":"2020-10-21T14:35:51.807Z","pid":115583,"message":"* Preloading application"}
2020-10-21_14:36:05.58624 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:36:06.42523 {"timestamp":"2020-10-21T14:36:06.425Z","pid":115583,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:36:06.42554 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:36:06.42557 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:36:06.42558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:36:06.42558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:36:06.42558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:36:06.42559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:36:06.42559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:36:06.42559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:36:06.42559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:36:06.42560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:36:06.42560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:36:06.42560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:36:06.42560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:36:06.42561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:36:06.42579   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:36:06.42580   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:36:06.42580   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:36:06.42581   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:36:06.42581   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:36:06.42581   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:36:06.42581   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:36:06.42596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:36:06.42597   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:36:06.42609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:36:06.42620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:36:06.42621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:36:06.42621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:36:06.42621   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:36:06.42622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:06.42623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:36:06.42623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:36:06.42623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:06.42623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:36:06.42642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:36:06.42643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:36:06.42643   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:36:06.42644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:36:06.42644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:36:06.42644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:36:06.42644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:36:06.42659   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:36:06.42673   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:36:06.42673   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:36:06.42684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:36:06.42684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:36:06.42684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:36:06.42685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:36:06.42685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:36:06.42685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:36:06.42685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:36:06.42686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:36:06.42686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:36:06.42687   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:36:06.42687   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:36:06.42703   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:36:06.42704   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:36:06.42717   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:36:06.42719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:36:06.42720   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:36:06.42720   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:36:06.42720   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:36:06.42720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:36:06.42721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:36:06.42722   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:36:06.42738   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:36:06.42740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:36:06.42741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:36:06.42741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:36:06.42741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:36:06.42741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:36:06.42741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:36:06.42742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:36:06.42742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:36:06.42742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:36:06.42744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:36:06.42760   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:36:06.42761   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:36:07.25525 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"Puma starting in cluster mode..."}
2020-10-21_14:36:07.25529 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:36:07.25531 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:36:07.25531 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"* Environment: production"}
2020-10-21_14:36:07.25531 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"* Process workers: 2"}
2020-10-21_14:36:07.25554 {"timestamp":"2020-10-21T14:36:07.255Z","pid":116031,"message":"* Preloading application"}
2020-10-21_14:36:20.39854 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:36:21.01838 {"timestamp":"2020-10-21T14:36:21.018Z","pid":116031,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:36:21.01867 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:36:21.01869 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:36:21.01870   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:36:21.01870   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:36:21.01870   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:36:21.01871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:36:21.01871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:36:21.01871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:36:21.01871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:36:21.01873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:36:21.01873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:36:21.01873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:36:21.01873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:36:21.01891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:36:21.01893   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:36:21.01903   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:36:21.01907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:36:21.01908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:36:21.01921   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:36:21.01922   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:36:21.01935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:36:21.01936   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:36:21.01949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:36:21.01960   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:36:21.01963   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:36:21.01964   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:36:21.01964   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:36:21.01964   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:36:21.01964   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:21.01965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:36:21.01965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:36:21.01965   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:21.01967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:36:21.01967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:36:21.01983   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:36:21.01984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:36:21.01984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:36:21.01984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:36:21.01984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:36:21.02001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:36:21.02002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:36:21.02016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:36:21.02017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:36:21.02031   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:36:21.02031   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:36:21.02045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:36:21.02045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:36:21.02058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:36:21.02059   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:36:21.02073   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:36:21.02074   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:36:21.02075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:36:21.02075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:36:21.02075   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:36:21.02076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:36:21.02076   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:36:21.02076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:36:21.02076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:36:21.02077   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:36:21.02077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:36:21.02077   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:36:21.02077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:36:21.02077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:36:21.02078   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:36:21.02079   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:36:21.02079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:36:21.02079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:36:21.02079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:36:21.02080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:36:21.02080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:36:21.02080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:36:21.02080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:36:21.02081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:36:21.02102   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:36:21.02103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:36:21.02114   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:36:21.02117   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:36:21.87436 {"timestamp":"2020-10-21T14:36:21.874Z","pid":116478,"message":"Puma starting in cluster mode..."}
2020-10-21_14:36:21.87465 {"timestamp":"2020-10-21T14:36:21.874Z","pid":116478,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:36:21.87485 {"timestamp":"2020-10-21T14:36:21.874Z","pid":116478,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:36:21.87503 {"timestamp":"2020-10-21T14:36:21.875Z","pid":116478,"message":"* Environment: production"}
2020-10-21_14:36:21.87521 {"timestamp":"2020-10-21T14:36:21.875Z","pid":116478,"message":"* Process workers: 2"}
2020-10-21_14:36:21.87539 {"timestamp":"2020-10-21T14:36:21.875Z","pid":116478,"message":"* Preloading application"}
2020-10-21_14:36:35.88349 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:36:36.61375 {"timestamp":"2020-10-21T14:36:36.613Z","pid":116478,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:36:36.61412 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:36:36.61432 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:36:36.61433   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:36:36.61434   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:36:36.61434   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:36:36.61434   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:36:36.61435   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:36:36.61435   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:36:36.61435   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:36:36.61435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:36:36.61436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:36:36.61436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:36:36.61436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:36:36.61437   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:36:36.61438   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:36:36.61438   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:36:36.61439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:36:36.61439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:36:36.61439   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:36:36.61440   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:36:36.61441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:36:36.61441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:36:36.61441   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:36:36.61442   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:36:36.61443   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:36:36.61443   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:36:36.61443   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:36:36.61444   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:36:36.61444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:36.61444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:36:36.61445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:36:36.61445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:36.61445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:36:36.61447   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:36:36.61447   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:36:36.61447   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:36:36.61448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:36:36.61448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:36:36.61448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:36:36.61448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:36:36.61449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:36:36.61450   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:36:36.61450   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:36:36.61451   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:36:36.61451   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:36:36.61451   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:36:36.61452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:36:36.61452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:36:36.61452   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:36:36.61453   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:36:36.61453   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:36:36.61454   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:36:36.61455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:36:36.61455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:36:36.61455   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:36:36.61456   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:36:36.61456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:36:36.61456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:36:36.61457   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:36:36.61457   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:36:36.61457   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:36:36.61457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:36:36.61458   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:36:36.61458   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:36:36.61459   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:36:36.61460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:36:36.61460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:36:36.61460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:36:36.61461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:36:36.61461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:36:36.61461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:36:36.61462   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:36:36.61462   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:36:36.61462   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:36:36.61463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:36:36.61464   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:36:36.61464   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:36:37.37684 {"timestamp":"2020-10-21T14:36:37.376Z","pid":116946,"message":"Puma starting in cluster mode..."}
2020-10-21_14:36:37.38139 {"timestamp":"2020-10-21T14:36:37.381Z","pid":116946,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:36:37.38170 {"timestamp":"2020-10-21T14:36:37.381Z","pid":116946,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:36:37.38191 {"timestamp":"2020-10-21T14:36:37.381Z","pid":116946,"message":"* Environment: production"}
2020-10-21_14:36:37.38214 {"timestamp":"2020-10-21T14:36:37.382Z","pid":116946,"message":"* Process workers: 2"}
2020-10-21_14:36:37.38234 {"timestamp":"2020-10-21T14:36:37.382Z","pid":116946,"message":"* Preloading application"}
2020-10-21_14:36:51.77604 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:36:52.63666 {"timestamp":"2020-10-21T14:36:52.636Z","pid":116946,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:36:52.63705 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:36:52.63726 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:36:52.63729   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:36:52.63730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:36:52.63730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:36:52.63731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:36:52.63731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:36:52.63731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:36:52.63731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:36:52.63747   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:36:52.63749   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:36:52.63749   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:36:52.63750   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:36:52.63750   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:36:52.63751   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:36:52.63751   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:36:52.63752   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:36:52.63752   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:36:52.63752   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:36:52.63752   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:36:52.63769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:36:52.63769   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:36:52.63770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:36:52.63770   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:36:52.63785   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:36:52.63795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:36:52.63799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:36:52.63800   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:36:52.63813   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:52.63823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:36:52.63826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:36:52.63840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:36:52.63841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:36:52.63853   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:36:52.63854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:36:52.63855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:36:52.63855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:36:52.63855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:36:52.63855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:36:52.63856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:36:52.63870   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:36:52.63884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:36:52.63885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:36:52.63898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:36:52.63899   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:36:52.63909   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:36:52.63909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:36:52.63910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:36:52.63910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:36:52.63910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:36:52.63910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:36:52.63910   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:36:52.63912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:36:52.63912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:36:52.63912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:36:52.63912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:36:52.63928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:36:52.63940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:36:52.63943   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:36:52.63944   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:36:52.63957   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:36:52.63958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:36:52.63971   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:36:52.63985   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:36:52.63999   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:36:52.63999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:36:52.64009   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:36:52.64010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:36:52.64010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:36:52.64010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:36:52.64010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:36:52.64010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:36:52.64011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:36:52.64011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:36:52.64012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:36:52.64027   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:36:52.64029   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:36:53.48196 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"Puma starting in cluster mode..."}
2020-10-21_14:36:53.48198 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:36:53.48199 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:36:53.48199 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"* Environment: production"}
2020-10-21_14:36:53.48199 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"* Process workers: 2"}
2020-10-21_14:36:53.48200 {"timestamp":"2020-10-21T14:36:53.481Z","pid":117403,"message":"* Preloading application"}
2020-10-21_14:37:06.90125 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:37:07.64883 {"timestamp":"2020-10-21T14:37:07.648Z","pid":117403,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:37:07.64936 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:37:07.64954 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:37:07.64968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:37:07.64973   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:37:07.64983   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:37:07.64983   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:37:07.64984   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:37:07.64984   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:37:07.64984   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:37:07.64985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:37:07.64985   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:37:07.65005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:37:07.65007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:37:07.65008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:37:07.65025   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:37:07.65039   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:37:07.65049   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:37:07.65050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:37:07.65050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:37:07.65050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:37:07.65050   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:37:07.65051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:37:07.65051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:37:07.65051   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:37:07.65068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:37:07.65078   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:37:07.65079   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:37:07.65079   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:37:07.65079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:07.65080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:37:07.65080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:37:07.65080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:07.65080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:37:07.65098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:37:07.65108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:37:07.65109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:37:07.65109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:37:07.65110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:37:07.65110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:37:07.65110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:37:07.65110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:37:07.65127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:37:07.65139   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:37:07.65140   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:37:07.65140   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:37:07.65140   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:37:07.65140   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:37:07.65141   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:37:07.65141   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:37:07.65141   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:37:07.65141   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:37:07.65157   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:37:07.65171   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:37:07.65181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:37:07.65182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:37:07.65182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:37:07.65182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:37:07.65182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:37:07.65183   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:37:07.65183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:37:07.65183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:37:07.65183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:37:07.65183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:37:07.65201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:37:07.65214   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:37:07.65224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:37:07.65225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:37:07.65225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:37:07.65225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:37:07.65225   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:37:07.65226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:37:07.65226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:37:07.65226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:37:07.65226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:37:07.65244   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:37:07.65254   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:37:07.65255   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:37:08.57119 {"timestamp":"2020-10-21T14:37:08.571Z","pid":117863,"message":"Puma starting in cluster mode..."}
2020-10-21_14:37:08.57146 {"timestamp":"2020-10-21T14:37:08.571Z","pid":117863,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:37:08.57165 {"timestamp":"2020-10-21T14:37:08.571Z","pid":117863,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:37:08.57183 {"timestamp":"2020-10-21T14:37:08.571Z","pid":117863,"message":"* Environment: production"}
2020-10-21_14:37:08.57203 {"timestamp":"2020-10-21T14:37:08.572Z","pid":117863,"message":"* Process workers: 2"}
2020-10-21_14:37:08.57220 {"timestamp":"2020-10-21T14:37:08.572Z","pid":117863,"message":"* Preloading application"}
2020-10-21_14:37:21.54114 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:37:22.34451 {"timestamp":"2020-10-21T14:37:22.344Z","pid":117863,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:37:22.34478 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:37:22.34494 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:37:22.34498   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:37:22.34508   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:37:22.34509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:37:22.34509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:37:22.34509   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:37:22.34510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:37:22.34510   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:37:22.34510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:37:22.34510   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:37:22.34511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:37:22.34511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:37:22.34528   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:37:22.34547   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:37:22.34548   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:37:22.34548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:37:22.34548   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:37:22.34549   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:37:22.34549   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:37:22.34549   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:37:22.34549   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:37:22.34565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:37:22.34575   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:37:22.34577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:37:22.34577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:37:22.34577   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:37:22.34578   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:37:22.34592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:22.34602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:37:22.34603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:37:22.34603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:22.34603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:37:22.34618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:37:22.34622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:37:22.34632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:37:22.34632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:37:22.34633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:37:22.34633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:37:22.34633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:37:22.34633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:37:22.34649   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:37:22.34659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:37:22.34660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:37:22.34660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:37:22.34660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:37:22.34660   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:37:22.34661   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:37:22.34661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:37:22.34661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:37:22.34661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:37:22.34676   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:37:22.34690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:37:22.34700   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:37:22.34700   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:37:22.34701   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:37:22.34701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:37:22.34701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:37:22.34701   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:37:22.34702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:37:22.34702   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:37:22.34702   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:37:22.34718   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:37:22.34718   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:37:22.34720   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:37:22.34720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:37:22.34730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:37:22.34731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:37:22.34731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:37:22.34731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:37:22.34732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:37:22.34732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:37:22.34732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:37:22.34732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:37:22.34757   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:37:22.34762   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:37:22.34771   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:37:23.09674 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"Puma starting in cluster mode..."}
2020-10-21_14:37:23.09702 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:37:23.09703 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:37:23.09704 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"* Environment: production"}
2020-10-21_14:37:23.09704 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"* Process workers: 2"}
2020-10-21_14:37:23.09704 {"timestamp":"2020-10-21T14:37:23.096Z","pid":118305,"message":"* Preloading application"}
2020-10-21_14:37:36.56058 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:37:37.41515 {"timestamp":"2020-10-21T14:37:37.415Z","pid":118305,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:37:37.41550 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:37:37.41566 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:37:37.41567   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:37:37.41568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:37:37.41568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:37:37.41568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:37:37.41568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:37:37.41568   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:37:37.41569   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:37:37.41569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:37:37.41569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:37:37.41569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:37:37.41570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:37:37.41570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:37:37.41571   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:37:37.41571   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:37:37.41571   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:37:37.41572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:37:37.41572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:37:37.41572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:37:37.41572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:37:37.41572   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:37:37.41573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:37:37.41573   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:37:37.41574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:37:37.41574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:37:37.41574   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:37:37.41575   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:37:37.41575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:37.41575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:37:37.41575   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:37:37.41576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:37.41576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:37:37.41577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:37:37.41578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:37:37.41578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:37:37.41578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:37:37.41578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:37:37.41578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:37:37.41579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:37:37.41579   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:37:37.41580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:37:37.41580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:37:37.41580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:37:37.41581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:37:37.41581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:37:37.41581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:37:37.41581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:37:37.41581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:37:37.41582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:37:37.41582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:37:37.41582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:37:37.41583   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:37:37.41583   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:37:37.41584   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:37:37.41584   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:37:37.41584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:37:37.41584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:37:37.41584   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:37:37.41585   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:37:37.41585   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:37:37.41585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:37:37.41585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:37:37.41586   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:37:37.41586   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:37:37.41587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:37:37.41587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:37:37.41587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:37:37.41588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:37:37.41588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:37:37.41588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:37:37.41588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:37:37.41589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:37:37.41589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:37:37.41590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:37:37.41590   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:37:37.41590   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:37:38.20845 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"Puma starting in cluster mode..."}
2020-10-21_14:37:38.20848 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:37:38.20849 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:37:38.20850 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"* Environment: production"}
2020-10-21_14:37:38.20850 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"* Process workers: 2"}
2020-10-21_14:37:38.20850 {"timestamp":"2020-10-21T14:37:38.208Z","pid":118760,"message":"* Preloading application"}
2020-10-21_14:37:53.70808 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:37:54.75321 {"timestamp":"2020-10-21T14:37:54.753Z","pid":118760,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:37:54.75355 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:37:54.75372 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:37:54.75372   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:37:54.75373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:37:54.75373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:37:54.75373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:37:54.75373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:37:54.75374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:37:54.75374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:37:54.75374   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:37:54.75374   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:37:54.75375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:37:54.75375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:37:54.75376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:37:54.75379   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:37:54.75379   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:37:54.75379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:37:54.75379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:37:54.75380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:37:54.75380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:37:54.75380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:37:54.75380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:37:54.75380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:37:54.75381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:37:54.75382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:37:54.75382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:37:54.75382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:37:54.75382   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:37:54.75383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:54.75383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:37:54.75383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:37:54.75383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:37:54.75384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:37:54.75385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:37:54.75385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:37:54.75385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:37:54.75385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:37:54.75385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:37:54.75386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:37:54.75386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:37:54.75386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:37:54.75387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:37:54.75388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:37:54.75388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:37:54.75388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:37:54.75388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:37:54.75389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:37:54.75389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:37:54.75389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:37:54.75389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:37:54.75390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:37:54.75390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:37:54.75391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:37:54.75391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:37:54.75391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:37:54.75391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:37:54.75392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:37:54.75392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:37:54.75392   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:37:54.75392   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:37:54.75392   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:37:54.75393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:37:54.75393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:37:54.75393   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:37:54.75394   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:37:54.75394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:37:54.75394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:37:54.75395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:37:54.75395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:37:54.75395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:37:54.75395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:37:54.75396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:37:54.75396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:37:54.75396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:37:54.75397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:37:54.75397   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:37:54.75398   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:37:55.54451 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"Puma starting in cluster mode..."}
2020-10-21_14:37:55.54453 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:37:55.54454 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:37:55.54454 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"* Environment: production"}
2020-10-21_14:37:55.54454 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"* Process workers: 2"}
2020-10-21_14:37:55.54454 {"timestamp":"2020-10-21T14:37:55.544Z","pid":119253,"message":"* Preloading application"}
2020-10-21_14:38:10.09333 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:38:10.93044 {"timestamp":"2020-10-21T14:38:10.930Z","pid":119253,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:38:10.93068 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:38:10.93069 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:38:10.93081   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:38:10.93082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:38:10.93082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:38:10.93082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:38:10.93083   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:38:10.93083   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:38:10.93083   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:38:10.93084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:38:10.93084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:38:10.93084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:38:10.93085   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:38:10.93085   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:38:10.93087   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:38:10.93087   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:38:10.93088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:38:10.93088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:38:10.93088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:38:10.93089   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:38:10.93089   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:38:10.93090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:38:10.93090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:38:10.93092   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:38:10.93093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:38:10.93093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:38:10.93093   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:38:10.93094   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:38:10.93094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:10.93095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:38:10.93095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:38:10.93095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:10.93097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:38:10.93097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:38:10.93097   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:38:10.93098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:38:10.93098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:38:10.93099   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:38:10.93099   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:38:10.93099   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:38:10.93100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:38:10.93101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:38:10.93101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:38:10.93102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:38:10.93102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:38:10.93102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:38:10.93103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:38:10.93103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:38:10.93103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:38:10.93104   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:38:10.93104   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:38:10.93105   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:38:10.93106   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:38:10.93106   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:38:10.93107   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:38:10.93107   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:38:10.93107   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:38:10.93108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:38:10.93108   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:38:10.93108   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:38:10.93109   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:38:10.93109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:38:10.93109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:38:10.93111   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:38:10.93111   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:38:10.93111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:38:10.93112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:38:10.93112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:38:10.93112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:38:10.93112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:38:10.93113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:38:10.93113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:38:10.93113   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:38:10.93151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:38:10.93153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:38:10.93153   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:38:10.93154   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:38:12.21682 {"timestamp":"2020-10-21T14:38:12.216Z","pid":119750,"message":"Puma starting in cluster mode..."}
2020-10-21_14:38:12.21711 {"timestamp":"2020-10-21T14:38:12.217Z","pid":119750,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:38:12.21739 {"timestamp":"2020-10-21T14:38:12.217Z","pid":119750,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:38:12.21768 {"timestamp":"2020-10-21T14:38:12.217Z","pid":119750,"message":"* Environment: production"}
2020-10-21_14:38:12.21786 {"timestamp":"2020-10-21T14:38:12.217Z","pid":119750,"message":"* Process workers: 2"}
2020-10-21_14:38:12.21802 {"timestamp":"2020-10-21T14:38:12.217Z","pid":119750,"message":"* Preloading application"}
2020-10-21_14:38:27.30107 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:38:28.00705 {"timestamp":"2020-10-21T14:38:28.006Z","pid":119750,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:38:28.00730 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:38:28.00731 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:38:28.00731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:38:28.00731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:38:28.00731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:38:28.00732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:38:28.00732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:38:28.00732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:38:28.00732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:38:28.00732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:38:28.00733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:38:28.00733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:38:28.00733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:38:28.00733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:38:28.00735   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:38:28.00735   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:38:28.00735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:38:28.00735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:38:28.00736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:38:28.00736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:38:28.00736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:38:28.00736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:38:28.00737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:38:28.00738   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:38:28.00738   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:38:28.00738   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:38:28.00738   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:38:28.00739   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:38:28.00739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:28.00739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:38:28.00739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:38:28.00740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:28.00741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:38:28.00741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:38:28.00742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:38:28.00742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:38:28.00779   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:38:28.00780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:38:28.00780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:38:28.00780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:38:28.00780   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:38:28.00782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:38:28.00782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:38:28.00782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:38:28.00782   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:38:28.00783   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:38:28.00783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:38:28.00783   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:38:28.00783   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:38:28.00783   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:38:28.00784   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:38:28.00785   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:38:28.00785   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:38:28.00785   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:38:28.00785   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:38:28.00786   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:38:28.00786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:38:28.00786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:38:28.00786   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:38:28.00787   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:38:28.00787   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:38:28.00787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:38:28.00787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:38:28.00788   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:38:28.00788   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:38:28.00789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:38:28.00789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:38:28.00790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:38:28.00790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:38:28.00790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:38:28.00790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:38:28.00791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:38:28.00791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:38:28.00791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:38:28.00792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:38:28.00792   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:38:28.00793   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:38:28.81579 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"Puma starting in cluster mode..."}
2020-10-21_14:38:28.81583 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:38:28.81584 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:38:28.81585 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"* Environment: production"}
2020-10-21_14:38:28.81585 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"* Process workers: 2"}
2020-10-21_14:38:28.81607 {"timestamp":"2020-10-21T14:38:28.815Z","pid":120247,"message":"* Preloading application"}
2020-10-21_14:38:42.61456 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:38:43.39705 {"timestamp":"2020-10-21T14:38:43.396Z","pid":120247,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:38:43.39738 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:38:43.39753 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:38:43.39754   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:38:43.39754   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:38:43.39755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:38:43.39755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:38:43.39755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:38:43.39755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:38:43.39756   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:38:43.39756   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:38:43.39756   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:38:43.39756   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:38:43.39757   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:38:43.39790   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:38:43.39792   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:38:43.39792   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:38:43.39792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:38:43.39792   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:38:43.39793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:38:43.39793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:38:43.39793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:38:43.39793   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:38:43.39794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:38:43.39794   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:38:43.39795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:38:43.39795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:38:43.39795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:38:43.39796   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:38:43.39796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:43.39796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:38:43.39796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:38:43.39797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:38:43.39797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:38:43.39798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:38:43.39798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:38:43.39798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:38:43.39799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:38:43.39799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:38:43.39799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:38:43.39799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:38:43.39800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:38:43.39801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:38:43.39801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:38:43.39801   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:38:43.39802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:38:43.39802   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:38:43.39802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:38:43.39802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:38:43.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:38:43.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:38:43.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:38:43.39803   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:38:43.39804   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:38:43.39805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:38:43.39805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:38:43.39805   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:38:43.39805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:38:43.39806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:38:43.39806   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:38:43.39806   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:38:43.39806   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:38:43.39806   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:38:43.39807   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:38:43.39807   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:38:43.39808   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:38:43.39808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:38:43.39808   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:38:43.39809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:38:43.39809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:38:43.39809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:38:43.39809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:38:43.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:38:43.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:38:43.39810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:38:43.39811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:38:43.39811   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:38:43.39812   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:38:44.25653 {"timestamp":"2020-10-21T14:38:44.256Z","pid":120708,"message":"Puma starting in cluster mode..."}
2020-10-21_14:38:44.25691 {"timestamp":"2020-10-21T14:38:44.256Z","pid":120708,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:38:44.25701 {"timestamp":"2020-10-21T14:38:44.256Z","pid":120708,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:38:44.25707 {"timestamp":"2020-10-21T14:38:44.257Z","pid":120708,"message":"* Environment: production"}
2020-10-21_14:38:44.25726 {"timestamp":"2020-10-21T14:38:44.257Z","pid":120708,"message":"* Process workers: 2"}
2020-10-21_14:38:44.25760 {"timestamp":"2020-10-21T14:38:44.257Z","pid":120708,"message":"* Preloading application"}
2020-10-21_14:38:59.44170 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:39:00.39362 {"timestamp":"2020-10-21T14:39:00.393Z","pid":120708,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:39:00.39452 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:39:00.39458 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:39:00.39458   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:39:00.39459   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:39:00.39475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:39:00.39475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:39:00.39475   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:39:00.39476   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:39:00.39476   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:39:00.39476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:39:00.39476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:39:00.39476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:39:00.39477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:39:00.39477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:39:00.39493   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:39:00.39497   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:39:00.39505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:39:00.39506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:39:00.39506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:39:00.39506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:39:00.39506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:39:00.39507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:39:00.39507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:39:00.39507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:39:00.39521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:39:00.39522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:39:00.39522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:39:00.39523   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:39:00.39523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:39:00.39528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:39:00.39529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:39:00.39529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:39:00.39529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:39:00.39531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:39:00.39531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:39:00.39531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:39:00.39531   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:39:00.39532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:39:00.39549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:39:00.39556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:39:00.39557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:39:00.39558   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:39:00.39559   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:39:00.39563   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:39:00.39571   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:39:00.39572   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:39:00.39573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:39:00.39573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:39:00.39573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:39:00.39573   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:39:00.39574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:39:00.39574   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:39:00.39579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:39:00.39580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:39:00.39580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:39:00.39580   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:39:00.39598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:39:00.39606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:39:00.39606   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:39:00.39606   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:39:00.39607   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:39:00.39607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:39:00.39607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:39:00.39607   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:39:00.39613   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:39:00.39613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:39:00.39613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:39:00.39621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:39:00.39622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:39:00.39622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:39:00.39622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:39:00.39622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:39:00.39623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:39:00.39623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:39:00.39628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:39:00.39629   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:39:00.39629   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:39:01.30361 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"Puma starting in cluster mode..."}
2020-10-21_14:39:01.30366 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:39:01.30367 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:39:01.30396 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"* Environment: production"}
2020-10-21_14:39:01.30412 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"* Process workers: 2"}
2020-10-21_14:39:01.30428 {"timestamp":"2020-10-21T14:39:01.303Z","pid":121215,"message":"* Preloading application"}
2020-10-21_14:39:33.44644 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:39:34.95275 {"timestamp":"2020-10-21T14:39:34.952Z","pid":121215,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:39:34.95589 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:39:34.95592 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:39:34.95594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:39:34.95594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:39:34.95594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:39:34.95595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:39:34.95595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:39:34.95595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:39:34.95595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:39:34.95595   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:39:34.95596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:39:34.95596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:39:34.95596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:39:34.95596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:39:34.95598   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:39:34.95598   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:39:34.95598   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:39:34.95598   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:39:34.95599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:39:34.95599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:39:34.95599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:39:34.95599   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:39:34.95600   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:39:34.95600   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:39:34.95601   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:39:34.95601   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:39:34.95601   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:39:34.95602   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:39:34.95602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:39:34.95602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:39:34.95602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:39:34.95603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:39:34.95603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:39:34.95604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:39:34.95604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:39:34.95605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:39:34.95605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:39:34.95605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:39:34.95605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:39:34.95606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:39:34.95606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:39:34.95607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:39:34.95607   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:39:34.95608   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:39:34.95608   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:39:34.95608   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:39:34.95608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:39:34.95608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:39:34.95609   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:39:34.95609   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:39:34.95609   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:39:34.95609   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:39:34.95610   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:39:34.95611   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:39:34.95611   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:39:34.95611   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:39:34.95611   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:39:34.95612   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:39:34.95612   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:39:34.95612   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:39:34.95612   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:39:34.95613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:39:34.95613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:39:34.95613   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:39:34.95614   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:39:34.95614   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:39:34.95615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:39:34.95615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:39:34.95615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:39:34.95615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:39:34.95616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:39:34.95616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:39:34.95616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:39:34.95616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:39:34.95618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:39:34.95618   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:39:34.95618   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:39:37.23302 {"timestamp":"2020-10-21T14:39:37.232Z","pid":122142,"message":"Puma starting in cluster mode..."}
2020-10-21_14:39:37.23308 {"timestamp":"2020-10-21T14:39:37.233Z","pid":122142,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:39:37.23765 {"timestamp":"2020-10-21T14:39:37.233Z","pid":122142,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:39:37.23769 {"timestamp":"2020-10-21T14:39:37.237Z","pid":122142,"message":"* Environment: production"}
2020-10-21_14:39:37.23795 {"timestamp":"2020-10-21T14:39:37.237Z","pid":122142,"message":"* Process workers: 2"}
2020-10-21_14:39:37.23796 {"timestamp":"2020-10-21T14:39:37.237Z","pid":122142,"message":"* Preloading application"}
2020-10-21_14:39:59.67147 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:40:00.24899 {"timestamp":"2020-10-21T14:40:00.248Z","pid":122142,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:40:00.24937 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:40:00.24963 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:40:00.24967   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:40:00.24968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:40:00.24968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:40:00.24968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:40:00.24968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:40:00.24968   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:40:00.24969   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:40:00.24969   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:40:00.24969   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:40:00.24969   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:40:00.24970   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:40:00.24970   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:40:00.24971   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:40:00.24972   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:40:00.24972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:40:00.24973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:40:00.24973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:40:00.24973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:40:00.24973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:40:00.24974   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:40:00.24993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:40:00.24994   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:40:00.24995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:40:00.24995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:40:00.24996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:40:00.24996   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:40:00.24996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:00.24996   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:40:00.24997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:40:00.24997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:00.24997   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:40:00.24998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:40:00.24998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:40:00.24999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:40:00.25012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:40:00.25016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:40:00.25017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:40:00.25018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:40:00.25018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:40:00.25019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:40:00.25019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:40:00.25019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:40:00.25020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:40:00.25020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:40:00.25021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:40:00.25021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:40:00.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:40:00.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:40:00.25022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:40:00.25022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:40:00.25023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:40:00.25023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:40:00.25023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:40:00.25043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:40:00.25043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:40:00.25044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:40:00.25044   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:40:00.25044   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:40:00.25044   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:40:00.25045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:40:00.25045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:40:00.25045   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:40:00.25046   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:40:00.25047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:40:00.25047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:40:00.25048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:40:00.25049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:40:00.25049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:40:00.25049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:40:00.25066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:40:00.25067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:40:00.25067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:40:00.25068   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:40:00.25069   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:40:00.25069   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:40:00.95614 {"timestamp":"2020-10-21T14:40:00.955Z","pid":122832,"message":"Puma starting in cluster mode..."}
2020-10-21_14:40:00.95617 {"timestamp":"2020-10-21T14:40:00.956Z","pid":122832,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:40:00.95618 {"timestamp":"2020-10-21T14:40:00.956Z","pid":122832,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:40:00.95619 {"timestamp":"2020-10-21T14:40:00.956Z","pid":122832,"message":"* Environment: production"}
2020-10-21_14:40:00.95619 {"timestamp":"2020-10-21T14:40:00.956Z","pid":122832,"message":"* Process workers: 2"}
2020-10-21_14:40:00.95619 {"timestamp":"2020-10-21T14:40:00.956Z","pid":122832,"message":"* Preloading application"}
2020-10-21_14:40:14.89896 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:40:15.71744 {"timestamp":"2020-10-21T14:40:15.717Z","pid":122832,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:40:15.71776 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:40:15.71777 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:40:15.71778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:40:15.71778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:40:15.71778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:40:15.71779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:40:15.71779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:40:15.71779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:40:15.71779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:40:15.71780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:40:15.71780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:40:15.71780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:40:15.71781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:40:15.71781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:40:15.71782   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:40:15.71782   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:40:15.71783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:40:15.71783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:40:15.71783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:40:15.71784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:40:15.71784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:40:15.71784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:40:15.71784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:40:15.71785   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:40:15.71786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:40:15.71786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:40:15.71787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:40:15.71788   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:40:15.71788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:15.71788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:40:15.71788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:40:15.71789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:15.71790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:40:15.71790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:40:15.71790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:40:15.71791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:40:15.71791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:40:15.71791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:40:15.71791   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:40:15.71792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:40:15.71792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:40:15.71793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:40:15.71793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:40:15.71793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:40:15.71794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:40:15.71794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:40:15.71794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:40:15.71794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:40:15.71795   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:40:15.71795   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:40:15.71795   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:40:15.71796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:40:15.71796   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:40:15.71797   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:40:15.71797   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:40:15.71797   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:40:15.71797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:40:15.71798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:40:15.71798   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:40:15.71798   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:40:15.71799   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:40:15.71799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:40:15.71799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:40:15.71800   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:40:15.71801   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:40:15.71801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:40:15.71801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:40:15.71801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:40:15.71801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:40:15.71802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:40:15.71802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:40:15.71802   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:40:15.71803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:40:15.71803   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:40:15.71804   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:40:15.71804   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:40:15.71804   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:40:16.57402 {"timestamp":"2020-10-21T14:40:16.573Z","pid":123298,"message":"Puma starting in cluster mode..."}
2020-10-21_14:40:16.57414 {"timestamp":"2020-10-21T14:40:16.574Z","pid":123298,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:40:16.57509 {"timestamp":"2020-10-21T14:40:16.574Z","pid":123298,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:40:16.57660 {"timestamp":"2020-10-21T14:40:16.575Z","pid":123298,"message":"* Environment: production"}
2020-10-21_14:40:16.57670 {"timestamp":"2020-10-21T14:40:16.576Z","pid":123298,"message":"* Process workers: 2"}
2020-10-21_14:40:16.57698 {"timestamp":"2020-10-21T14:40:16.576Z","pid":123298,"message":"* Preloading application"}
2020-10-21_14:40:30.22202 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:40:31.19862 {"timestamp":"2020-10-21T14:40:31.198Z","pid":123298,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:40:31.19897 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:40:31.19913 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:40:31.19917   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:40:31.19917   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:40:31.19918   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:40:31.19928   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:40:31.19928   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:40:31.19928   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:40:31.19928   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:40:31.19929   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:40:31.19929   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:40:31.19929   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:40:31.19929   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:40:31.19930   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:40:31.19947   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:40:31.19948   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:40:31.19949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:40:31.19949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:40:31.19949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:40:31.19949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:40:31.19949   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:40:31.19950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:40:31.19950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:40:31.19950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:40:31.19957   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:40:31.19958   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:40:31.19958   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:40:31.19958   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:40:31.19958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:31.19959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:40:31.19959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:40:31.19959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:31.19959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:40:31.19961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:40:31.19980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:40:31.19982   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:40:31.19983   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:40:31.19983   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:40:31.19984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:40:31.19984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:40:31.19984   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:40:31.19985   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:40:31.19988   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:40:31.19991   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:40:31.19992   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:40:31.19992   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:40:31.19993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:40:31.19993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:40:31.19993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:40:31.19993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:40:31.19993   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:40:31.19994   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:40:31.19995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:40:31.19995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:40:31.19995   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:40:31.19996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:40:31.20012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:40:31.20013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:40:31.20013   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:40:31.20013   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:40:31.20014   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:40:31.20014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:40:31.20014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:40:31.20014   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:40:31.20021   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:40:31.20022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:40:31.20022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:40:31.20022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:40:31.20022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:40:31.20023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:40:31.20023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:40:31.20024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:40:31.20024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:40:31.20024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:40:31.20042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:40:31.20043   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:40:31.20043   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:40:32.04127 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"Puma starting in cluster mode..."}
2020-10-21_14:40:32.04140 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:40:32.04146 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:40:32.04153 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"* Environment: production"}
2020-10-21_14:40:32.04163 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"* Process workers: 2"}
2020-10-21_14:40:32.04169 {"timestamp":"2020-10-21T14:40:32.041Z","pid":123763,"message":"* Preloading application"}
2020-10-21_14:40:45.20817 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:40:46.13974 {"timestamp":"2020-10-21T14:40:46.139Z","pid":123763,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:40:46.13992 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:40:46.14002 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:40:46.14002   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:40:46.14003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:40:46.14003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:40:46.14003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:40:46.14003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:40:46.14004   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:40:46.14004   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:40:46.14004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:40:46.14004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:40:46.14004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:40:46.14005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:40:46.14005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:40:46.14006   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:40:46.14006   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:40:46.14006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:40:46.14007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:40:46.14008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:40:46.14008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:40:46.14008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:40:46.14008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:40:46.14009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:40:46.14009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:40:46.14010   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:40:46.14010   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:40:46.14011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:40:46.14011   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:40:46.14011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:46.14011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:40:46.14012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:40:46.14012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:40:46.14012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:40:46.14013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:40:46.14013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:40:46.14014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:40:46.14014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:40:46.14014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:40:46.14014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:40:46.14015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:40:46.14015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:40:46.14016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:40:46.14016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:40:46.14016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:40:46.14017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:40:46.14017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:40:46.14017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:40:46.14018   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:40:46.14018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:40:46.14018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:40:46.14018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:40:46.14018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:40:46.14019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:40:46.14020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:40:46.14020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:40:46.14020   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:40:46.14020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:40:46.14021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:40:46.14021   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:40:46.14021   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:40:46.14021   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:40:46.14022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:40:46.14022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:40:46.14022   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:40:46.14023   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:40:46.14023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:40:46.14023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:40:46.14024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:40:46.14024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:40:46.14024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:40:46.14024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:40:46.14025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:40:46.14025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:40:46.14025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:40:46.14026   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:40:46.14026   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:40:46.14027   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:40:47.05601 {"timestamp":"2020-10-21T14:40:47.055Z","pid":124215,"message":"Puma starting in cluster mode..."}
2020-10-21_14:40:47.05624 {"timestamp":"2020-10-21T14:40:47.056Z","pid":124215,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:40:47.05637 {"timestamp":"2020-10-21T14:40:47.056Z","pid":124215,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:40:47.05652 {"timestamp":"2020-10-21T14:40:47.056Z","pid":124215,"message":"* Environment: production"}
2020-10-21_14:40:47.05683 {"timestamp":"2020-10-21T14:40:47.056Z","pid":124215,"message":"* Process workers: 2"}
2020-10-21_14:40:47.05699 {"timestamp":"2020-10-21T14:40:47.056Z","pid":124215,"message":"* Preloading application"}
2020-10-21_14:41:01.28526 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:41:02.04645 {"timestamp":"2020-10-21T14:41:02.046Z","pid":124215,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:41:02.04664 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:41:02.04671 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:41:02.04672   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:41:02.04672   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:41:02.04672   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:41:02.04673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:41:02.04673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:41:02.04673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:41:02.04673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:41:02.04674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:41:02.04674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:41:02.04674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:41:02.04674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:41:02.04675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:41:02.04676   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:41:02.04676   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:41:02.04676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:41:02.04677   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:41:02.04677   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:41:02.04677   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:41:02.04677   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:41:02.04678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:41:02.04678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:41:02.04678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:41:02.04679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:41:02.04679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:41:02.04680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:41:02.04680   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:41:02.04681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:41:02.04681   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:41:02.04682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:41:02.04682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:41:02.04682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:41:02.04683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:41:02.04683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:41:02.04684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:41:02.04684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:41:02.04684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:41:02.04684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:41:02.04685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:41:02.04685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:41:02.04686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:41:02.04686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:41:02.04686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:41:02.04687   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:41:02.04687   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:41:02.04687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:41:02.04687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:41:02.04688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:41:02.04688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:41:02.04688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:41:02.04688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:41:02.04689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:41:02.04689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:41:02.04690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:41:02.04690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:41:02.04690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:41:02.04690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:41:02.04691   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:41:02.04691   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:41:02.04691   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:41:02.04691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:41:02.04692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:41:02.04692   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:41:02.04693   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:41:02.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:41:02.04693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:41:02.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:41:02.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:41:02.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:41:02.04694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:41:02.04695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:41:02.04695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:41:02.04695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:41:02.04696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:41:02.04696   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:41:02.04697   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:41:02.73830 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"Puma starting in cluster mode..."}
2020-10-21_14:41:02.73844 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:41:02.73855 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:41:02.73865 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"* Environment: production"}
2020-10-21_14:41:02.73875 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"* Process workers: 2"}
2020-10-21_14:41:02.73888 {"timestamp":"2020-10-21T14:41:02.738Z","pid":124674,"message":"* Preloading application"}
2020-10-21_14:41:18.87666 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:41:19.58213 {"timestamp":"2020-10-21T14:41:19.581Z","pid":124674,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:41:19.58248 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:41:19.58268 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:41:19.58270   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:41:19.58270   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:41:19.58270   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:41:19.58271   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:41:19.58272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:41:19.58273   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:41:19.58273   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:41:19.58273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:41:19.58274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:41:19.58274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:41:19.58274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:41:19.58275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:41:19.58295   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:41:19.58297   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:41:19.58297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:41:19.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:41:19.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:41:19.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:41:19.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:41:19.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:41:19.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:41:19.58300   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:41:19.58301   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:41:19.58302   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:41:19.58302   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:41:19.58303   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:41:19.58303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:41:19.58303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:41:19.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:41:19.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:41:19.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:41:19.58306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:41:19.58306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:41:19.58307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:41:19.58307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:41:19.58308   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:41:19.58309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:41:19.58309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:41:19.58309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:41:19.58311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:41:19.58311   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:41:19.58312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:41:19.58312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:41:19.58312   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:41:19.58313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:41:19.58313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:41:19.58314   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:41:19.58314   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:41:19.58314   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:41:19.58315   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:41:19.58316   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:41:19.58316   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:41:19.58317   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:41:19.58317   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:41:19.58317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:41:19.58318   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:41:19.58318   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:41:19.58318   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:41:19.58319   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:41:19.58319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:41:19.58319   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:41:19.58320   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:41:19.58321   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:41:19.58321   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:41:19.58322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:41:19.58322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:41:19.58322   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:41:19.58323   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:41:19.58324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:41:19.58325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:41:19.58325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:41:19.58326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:41:19.58327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:41:19.58328   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:41:19.58328   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:41:20.57974 {"timestamp":"2020-10-21T14:41:20.579Z","pid":125188,"message":"Puma starting in cluster mode..."}
2020-10-21_14:41:20.57997 {"timestamp":"2020-10-21T14:41:20.579Z","pid":125188,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:41:20.58010 {"timestamp":"2020-10-21T14:41:20.580Z","pid":125188,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:41:20.58027 {"timestamp":"2020-10-21T14:41:20.580Z","pid":125188,"message":"* Environment: production"}
2020-10-21_14:41:20.58043 {"timestamp":"2020-10-21T14:41:20.580Z","pid":125188,"message":"* Process workers: 2"}
2020-10-21_14:41:20.58060 {"timestamp":"2020-10-21T14:41:20.580Z","pid":125188,"message":"* Preloading application"}
2020-10-21_14:41:20.86209 Received TERM from runit, sending to process group (-PID)
2020-10-21_14:41:20.86815 {"timestamp":"2020-10-21T14:41:20.868Z","pid":125188,"message":"=== puma shutdown: 2020-10-21 14:41:20 +0000 ==="}
2020-10-21_14:41:20.86835 {"timestamp":"2020-10-21T14:41:20.868Z","pid":125188,"message":"- Goodbye!"}
2020-10-21_14:41:20.86867 {"timestamp":"2020-10-21T14:41:20.868Z","pid":125188,"message":"! Unable to load application: SignalException: SIGTERM"}
