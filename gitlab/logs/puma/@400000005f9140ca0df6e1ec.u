2020-10-22_08:18:39.89308 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"Puma starting in cluster mode..."}
2020-10-22_08:18:39.89313 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-22_08:18:39.89314 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"* Min threads: 4, max threads: 4"}
2020-10-22_08:18:39.89314 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"* Environment: production"}
2020-10-22_08:18:39.89314 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"* Process workers: 2"}
2020-10-22_08:18:39.89315 {"timestamp":"2020-10-22T08:18:39.586Z","pid":432,"message":"* Preloading application"}
2020-10-22_08:18:57.28228 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-22_08:18:58.22383 {"timestamp":"2020-10-22T08:18:58.223Z","pid":432,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-22_08:18:58.22449 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-22_08:18:58.22450 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-22_08:18:58.22450   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-22_08:18:58.22450   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-22_08:18:58.22450   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-22_08:18:58.22450   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-22_08:18:58.22451   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-22_08:18:58.22451   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-22_08:18:58.22451   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-22_08:18:58.22451   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-22_08:18:58.22451   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-22_08:18:58.22452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-22_08:18:58.22452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-22_08:18:58.22458   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-22_08:18:58.22459   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-22_08:18:58.22459   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-22_08:18:58.22459   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-22_08:18:58.22460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-22_08:18:58.22460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-22_08:18:58.22460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-22_08:18:58.22460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-22_08:18:58.22460   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-22_08:18:58.22461   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-22_08:18:58.22462   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-22_08:18:58.22463   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-22_08:18:58.22463   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-22_08:18:58.22463   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-22_08:18:58.22463   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-22_08:18:58.22464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:18:58.22464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-22_08:18:58.22464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-22_08:18:58.22464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:18:58.22465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-22_08:18:58.22466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-22_08:18:58.22466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-22_08:18:58.22466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-22_08:18:58.22466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-22_08:18:58.22466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-22_08:18:58.22467   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-22_08:18:58.22467   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-22_08:18:58.22467   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-22_08:18:58.22468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-22_08:18:58.22468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-22_08:18:58.22468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-22_08:18:58.22469   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-22_08:18:58.22469   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-22_08:18:58.22469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-22_08:18:58.22469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-22_08:18:58.22470   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-22_08:18:58.22470   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-22_08:18:58.22470   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-22_08:18:58.22471   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-22_08:18:58.22471   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-22_08:18:58.22471   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-22_08:18:58.22471   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-22_08:18:58.22472   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-22_08:18:58.22472   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-22_08:18:58.22473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-22_08:18:58.22473   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-22_08:18:58.22473   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-22_08:18:58.22473   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-22_08:18:58.22474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-22_08:18:58.22474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-22_08:18:58.22475   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-22_08:18:58.22475   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-22_08:18:58.22475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-22_08:18:58.22475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-22_08:18:58.22475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-22_08:18:58.22476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-22_08:18:58.22476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-22_08:18:58.22476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-22_08:18:58.22476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-22_08:18:58.22477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-22_08:18:58.22477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-22_08:18:58.22478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-22_08:18:58.22478   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-22_08:18:58.22478   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-22_08:18:58.97551 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"Puma starting in cluster mode..."}
2020-10-22_08:18:58.97553 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-22_08:18:58.97554 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"* Min threads: 4, max threads: 4"}
2020-10-22_08:18:58.97555 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"* Environment: production"}
2020-10-22_08:18:58.97555 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"* Process workers: 2"}
2020-10-22_08:18:58.97556 {"timestamp":"2020-10-22T08:18:58.975Z","pid":674,"message":"* Preloading application"}
2020-10-22_08:19:11.14212 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-22_08:19:12.05755 {"timestamp":"2020-10-22T08:19:12.057Z","pid":674,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-22_08:19:12.05770 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-22_08:19:12.05778 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-22_08:19:12.05778   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-22_08:19:12.05779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-22_08:19:12.05779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-22_08:19:12.05779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-22_08:19:12.05779   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-22_08:19:12.05780   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-22_08:19:12.05780   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-22_08:19:12.05780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-22_08:19:12.05780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-22_08:19:12.05780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-22_08:19:12.05781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-22_08:19:12.05781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-22_08:19:12.05782   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-22_08:19:12.05782   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-22_08:19:12.05782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-22_08:19:12.05783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-22_08:19:12.05783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-22_08:19:12.05783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-22_08:19:12.05783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-22_08:19:12.05783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-22_08:19:12.05784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-22_08:19:12.05784   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-22_08:19:12.05785   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-22_08:19:12.05785   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-22_08:19:12.05785   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-22_08:19:12.05786   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-22_08:19:12.05786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:19:12.05786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-22_08:19:12.05786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-22_08:19:12.05787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:19:12.05787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-22_08:19:12.05788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-22_08:19:12.05788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-22_08:19:12.05789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-22_08:19:12.05789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-22_08:19:12.05789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-22_08:19:12.05789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-22_08:19:12.05790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-22_08:19:12.05790   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-22_08:19:12.05791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-22_08:19:12.05791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-22_08:19:12.05791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-22_08:19:12.05792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-22_08:19:12.05792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-22_08:19:12.05792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-22_08:19:12.05792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-22_08:19:12.05792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-22_08:19:12.05793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-22_08:19:12.05793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-22_08:19:12.05793   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-22_08:19:12.05794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-22_08:19:12.05794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-22_08:19:12.05794   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-22_08:19:12.05795   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-22_08:19:12.05795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-22_08:19:12.05795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-22_08:19:12.05795   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-22_08:19:12.05796   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-22_08:19:12.05796   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-22_08:19:12.05796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-22_08:19:12.05796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-22_08:19:12.05796   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-22_08:19:12.05797   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-22_08:19:12.05798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-22_08:19:12.05798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-22_08:19:12.05798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-22_08:19:12.05798   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-22_08:19:12.05799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-22_08:19:12.05799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-22_08:19:12.05799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-22_08:19:12.05799   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-22_08:19:12.05800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-22_08:19:12.05801   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-22_08:19:12.05801   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-22_08:19:12.05801   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-22_08:19:12.92426 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"Puma starting in cluster mode..."}
2020-10-22_08:19:12.92435 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-22_08:19:12.92442 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"* Min threads: 4, max threads: 4"}
2020-10-22_08:19:12.92449 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"* Environment: production"}
2020-10-22_08:19:12.92456 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"* Process workers: 2"}
2020-10-22_08:19:12.92462 {"timestamp":"2020-10-22T08:19:12.924Z","pid":856,"message":"* Preloading application"}
2020-10-22_08:19:28.48841 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-22_08:19:29.40327 {"timestamp":"2020-10-22T08:19:29.403Z","pid":856,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-22_08:19:29.40341 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-22_08:19:29.40348 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-22_08:19:29.40349   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-22_08:19:29.40349   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-22_08:19:29.40349   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-22_08:19:29.40350   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-22_08:19:29.40350   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-22_08:19:29.40350   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-22_08:19:29.40350   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-22_08:19:29.40350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-22_08:19:29.40351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-22_08:19:29.40351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-22_08:19:29.40351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-22_08:19:29.40351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-22_08:19:29.40352   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-22_08:19:29.40353   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-22_08:19:29.40354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-22_08:19:29.40354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-22_08:19:29.40354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-22_08:19:29.40354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-22_08:19:29.40354   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-22_08:19:29.40355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-22_08:19:29.40355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-22_08:19:29.40355   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-22_08:19:29.40356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-22_08:19:29.40356   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-22_08:19:29.40357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-22_08:19:29.40357   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-22_08:19:29.40357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:19:29.40357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-22_08:19:29.40357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-22_08:19:29.40358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-22_08:19:29.40358   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-22_08:19:29.40359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-22_08:19:29.40359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-22_08:19:29.40359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-22_08:19:29.40360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-22_08:19:29.40360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-22_08:19:29.40360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-22_08:19:29.40360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-22_08:19:29.40360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-22_08:19:29.40361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-22_08:19:29.40362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-22_08:19:29.40362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-22_08:19:29.40362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-22_08:19:29.40362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-22_08:19:29.40363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-22_08:19:29.40363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-22_08:19:29.40363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-22_08:19:29.40363   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-22_08:19:29.40364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-22_08:19:29.40364   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-22_08:19:29.40365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-22_08:19:29.40365   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-22_08:19:29.40367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-22_08:19:29.40367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-22_08:19:29.40367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-22_08:19:29.40367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-22_08:19:29.40368   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-22_08:19:29.40368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-22_08:19:29.40368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-22_08:19:29.40368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-22_08:19:29.40368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-22_08:19:29.40369   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-22_08:19:29.40370   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-22_08:19:29.40370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-22_08:19:29.40370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-22_08:19:29.40370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-22_08:19:29.40371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-22_08:19:29.40371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-22_08:19:29.40371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-22_08:19:29.40371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-22_08:19:29.40371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-22_08:19:29.40372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-22_08:19:29.40373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-22_08:19:29.40373   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-22_08:19:29.40373   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-22_08:19:30.19472 {"timestamp":"2020-10-22T08:19:30.194Z","pid":1102,"message":"Puma starting in cluster mode..."}
2020-10-22_08:19:30.19479 {"timestamp":"2020-10-22T08:19:30.194Z","pid":1102,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-22_08:19:30.19486 {"timestamp":"2020-10-22T08:19:30.194Z","pid":1102,"message":"* Min threads: 4, max threads: 4"}
2020-10-22_08:19:30.19493 {"timestamp":"2020-10-22T08:19:30.194Z","pid":1102,"message":"* Environment: production"}
2020-10-22_08:19:30.19498 {"timestamp":"2020-10-22T08:19:30.194Z","pid":1102,"message":"* Process workers: 2"}
2020-10-22_08:19:30.19504 {"timestamp":"2020-10-22T08:19:30.195Z","pid":1102,"message":"* Preloading application"}
