2020-10-21_14:57:17.87274 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"Puma starting in cluster mode..."}
2020-10-21_14:57:17.87281 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:57:17.87281 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:57:17.87282 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"* Environment: production"}
2020-10-21_14:57:17.87282 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"* Process workers: 2"}
2020-10-21_14:57:17.87282 {"timestamp":"2020-10-21T14:57:17.872Z","pid":405,"message":"* Preloading application"}
2020-10-21_14:57:38.74572 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:57:40.51846 {"timestamp":"2020-10-21T14:57:40.518Z","pid":405,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:57:40.51859 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:57:40.51867 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:57:40.51868   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:57:40.51868   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:57:40.51868   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:57:40.51869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:57:40.51869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:57:40.51869   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:57:40.51870   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:57:40.51870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:57:40.51870   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:57:40.51871   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:57:40.51871   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:57:40.51871   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:57:40.51873   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:57:40.51873   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:57:40.51875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:57:40.51876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:57:40.51876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:57:40.51876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:57:40.51877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:57:40.51877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:57:40.51877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:57:40.51877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:57:40.51880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:57:40.51880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:57:40.51881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:57:40.51881   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:57:40.51881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:57:40.51882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:57:40.51882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:57:40.51882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:57:40.51882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:57:40.51884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:57:40.51884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:57:40.51884   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:57:40.51885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:57:40.51885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:57:40.51885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:57:40.51886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:57:40.51886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:57:40.51887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:57:40.51887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:57:40.51888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:57:40.51888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:57:40.51888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:57:40.51889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:57:40.51889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:57:40.51889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:57:40.51890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:57:40.51890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:57:40.51890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:57:40.51891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:57:40.51892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:57:40.51892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:57:40.51893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:57:40.51893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:57:40.51893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:57:40.51894   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:57:40.51894   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:57:40.51894   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:57:40.51894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:57:40.51895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:57:40.51895   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:57:40.51896   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:57:40.51897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:57:40.51897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:57:40.51897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:57:40.51897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:57:40.51898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:57:40.51898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:57:40.51898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:57:40.51898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:57:40.51899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:57:40.51900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:57:40.51900   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:57:40.51901   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:57:41.26060 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"Puma starting in cluster mode..."}
2020-10-21_14:57:41.26062 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:57:41.26063 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:57:41.26064 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"* Environment: production"}
2020-10-21_14:57:41.26064 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"* Process workers: 2"}
2020-10-21_14:57:41.26064 {"timestamp":"2020-10-21T14:57:41.260Z","pid":690,"message":"* Preloading application"}
2020-10-21_14:57:53.49185 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:57:54.11319 {"timestamp":"2020-10-21T14:57:54.113Z","pid":690,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:57:54.11333 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:57:54.11340 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:57:54.11341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:57:54.11341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:57:54.11341   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:57:54.11342   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:57:54.11343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:57:54.11343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:57:54.11343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:57:54.11344   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:57:54.11344   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:57:54.11345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:57:54.11345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:57:54.11345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:57:54.11345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:57:54.11345   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:57:54.11346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:57:54.11346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:57:54.11346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:57:54.11347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:57:54.11347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:57:54.11347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:57:54.11348   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:57:54.11348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:57:54.11348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:57:54.11348   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:57:54.11349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:57:54.11349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:57:54.11350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:57:54.11350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:57:54.11351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:57:54.11351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:57:54.11373   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:57:54.11374   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:57:54.11374   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:57:54.11374   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:57:54.11375   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:57:54.11375   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:57:54.11376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:57:54.11376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:57:54.11376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:57:54.11376   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:57:54.11376   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:57:54.11377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:57:54.11377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:57:54.11377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:57:54.11377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:57:54.11378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:57:54.11378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:57:54.11379   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:57:54.11379   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:57:54.11379   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:57:54.11379   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:57:54.11379   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:57:54.11380   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:57:54.11380   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:57:54.11380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:57:54.11380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:57:54.11380   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:57:54.11381   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:57:54.11382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:57:54.11382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:57:54.11382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:57:54.11383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:57:54.11383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:57:54.11383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:57:54.11383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:57:54.11383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:57:54.11384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:57:54.11385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:57:54.11385   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:57:54.11385   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:57:54.86271 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"Puma starting in cluster mode..."}
2020-10-21_14:57:54.86278 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:57:54.86284 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:57:54.86289 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"* Environment: production"}
2020-10-21_14:57:54.86294 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"* Process workers: 2"}
2020-10-21_14:57:54.86300 {"timestamp":"2020-10-21T14:57:54.862Z","pid":880,"message":"* Preloading application"}
2020-10-21_14:58:07.59993 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:58:08.41690 {"timestamp":"2020-10-21T14:58:08.416Z","pid":880,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:58:08.41704 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:58:08.41711 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:58:08.41711   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:58:08.41711   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:58:08.41712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:58:08.41712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:58:08.41712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:58:08.41712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:58:08.41712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:58:08.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:58:08.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:58:08.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:58:08.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:58:08.41713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:58:08.41714   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:58:08.41715   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:58:08.41715   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:58:08.41716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:58:08.41716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:58:08.41716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:58:08.41716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:58:08.41717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:58:08.41717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:58:08.41717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:58:08.41718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:58:08.41718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:58:08.41718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:58:08.41719   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:58:08.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:08.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:58:08.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:58:08.41719   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:08.41720   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:58:08.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:58:08.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:58:08.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:58:08.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:58:08.41721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:58:08.41722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:58:08.41722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:58:08.41722   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:58:08.41723   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:58:08.41723   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:58:08.41723   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:58:08.41724   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:58:08.41724   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:58:08.41724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:58:08.41725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:58:08.41725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:58:08.41725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:58:08.41725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:58:08.41725   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:58:08.41726   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:58:08.41726   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:58:08.41727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:58:08.41727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:58:08.41727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:58:08.41727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:58:08.41727   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:58:08.41728   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:58:08.41728   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:58:08.41728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:58:08.41728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:58:08.41728   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:58:08.41729   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:58:08.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:58:08.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:58:08.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:58:08.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:58:08.41730   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:58:08.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:58:08.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:58:08.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:58:08.41731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:58:08.41732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:58:08.41733   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:58:08.41733   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:58:09.09712 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"Puma starting in cluster mode..."}
2020-10-21_14:58:09.09713 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:58:09.09713 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:58:09.09714 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"* Environment: production"}
2020-10-21_14:58:09.09714 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"* Process workers: 2"}
2020-10-21_14:58:09.09714 {"timestamp":"2020-10-21T14:58:09.096Z","pid":1138,"message":"* Preloading application"}
2020-10-21_14:58:24.22527 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:58:25.03754 {"timestamp":"2020-10-21T14:58:25.037Z","pid":1138,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:58:25.03769 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:58:25.03776 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:58:25.03776   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:58:25.03776   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:58:25.03777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:58:25.03777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:58:25.03777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:58:25.03777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:58:25.03777   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:58:25.03778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:58:25.03778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:58:25.03778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:58:25.03778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:58:25.03778   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:58:25.03779   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:58:25.03780   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:58:25.03780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:58:25.03780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:58:25.03780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:58:25.03780   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:58:25.03781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:58:25.03781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:58:25.03781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:58:25.03781   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:58:25.03782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:58:25.03782   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:58:25.03783   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:58:25.03784   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:58:25.03784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:25.03784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:58:25.03784   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:58:25.03785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:25.03785   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:58:25.03786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:58:25.03786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:58:25.03786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:58:25.03786   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:58:25.03787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:58:25.03787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:58:25.03787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:58:25.03787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:58:25.03788   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:58:25.03788   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:58:25.03789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:58:25.03789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:58:25.03789   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:58:25.03789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:58:25.03789   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:58:25.03790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:58:25.03790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:58:25.03790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:58:25.03790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:58:25.03791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:58:25.03791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:58:25.03792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:58:25.03792   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:58:25.03792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:58:25.03792   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:58:25.03793   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:58:25.03793   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:58:25.03793   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:58:25.03793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:58:25.03793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:58:25.03794   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:58:25.03795   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:58:25.03795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:58:25.03795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:58:25.03795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:58:25.03795   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:58:25.03796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:58:25.03796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:58:25.03796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:58:25.03796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:58:25.03796   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:58:25.03797   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:58:25.03798   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:58:25.03798   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:58:25.77157 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"Puma starting in cluster mode..."}
2020-10-21_14:58:25.77164 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:58:25.77169 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:58:25.77175 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"* Environment: production"}
2020-10-21_14:58:25.77180 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"* Process workers: 2"}
2020-10-21_14:58:25.77185 {"timestamp":"2020-10-21T14:58:25.771Z","pid":1551,"message":"* Preloading application"}
2020-10-21_14:58:38.30689 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:58:38.99486 {"timestamp":"2020-10-21T14:58:38.994Z","pid":1551,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:58:38.99512 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:58:38.99534 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:58:38.99535   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:58:38.99535   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:58:38.99536   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:58:38.99536   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:58:38.99536   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:58:38.99537   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:58:38.99537   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:58:38.99537   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:58:38.99537   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:58:38.99537   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:58:38.99538   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:58:38.99538   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:58:38.99539   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:58:38.99539   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:58:38.99539   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:58:38.99540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:58:38.99540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:58:38.99540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:58:38.99540   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:58:38.99541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:58:38.99541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:58:38.99541   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:58:38.99542   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:58:38.99542   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:58:38.99543   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:58:38.99543   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:58:38.99543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:38.99543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:58:38.99543   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:58:38.99544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:38.99544   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:58:38.99545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:58:38.99545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:58:38.99545   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:58:38.99546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:58:38.99546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:58:38.99546   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:58:38.99547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:58:38.99547   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:58:38.99548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:58:38.99548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:58:38.99548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:58:38.99548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:58:38.99549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:58:38.99549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:58:38.99549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:58:38.99549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:58:38.99550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:58:38.99550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:58:38.99550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:58:38.99551   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:58:38.99551   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:58:38.99551   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:58:38.99552   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:58:38.99552   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:58:38.99552   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:58:38.99552   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:58:38.99553   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:58:38.99553   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:58:38.99553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:58:38.99553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:58:38.99553   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:58:38.99554   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:58:38.99555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:58:38.99555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:58:38.99555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:58:38.99555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:58:38.99555   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:58:38.99556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:58:38.99556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:58:38.99556   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:58:38.99557   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:58:38.99558   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:58:38.99558   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:58:38.99558   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:58:39.75612 {"timestamp":"2020-10-21T14:58:39.756Z","pid":1973,"message":"Puma starting in cluster mode..."}
2020-10-21_14:58:39.75638 {"timestamp":"2020-10-21T14:58:39.756Z","pid":1973,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:58:39.75656 {"timestamp":"2020-10-21T14:58:39.756Z","pid":1973,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:58:39.75685 {"timestamp":"2020-10-21T14:58:39.756Z","pid":1973,"message":"* Environment: production"}
2020-10-21_14:58:39.75702 {"timestamp":"2020-10-21T14:58:39.756Z","pid":1973,"message":"* Process workers: 2"}
2020-10-21_14:58:39.75722 {"timestamp":"2020-10-21T14:58:39.757Z","pid":1973,"message":"* Preloading application"}
2020-10-21_14:58:52.42315 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:58:53.09312 {"timestamp":"2020-10-21T14:58:53.092Z","pid":1973,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:58:53.09365 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:58:53.09367 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:58:53.09368   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:58:53.09368   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:58:53.09368   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:58:53.09369   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:58:53.09369   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:58:53.09369   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:58:53.09369   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:58:53.09370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:58:53.09370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:58:53.09370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:58:53.09370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:58:53.09370   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:58:53.09371   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:58:53.09372   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:58:53.09372   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:58:53.09378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:58:53.09378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:58:53.09378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:58:53.09379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:58:53.09379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:58:53.09379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:58:53.09379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:58:53.09381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:58:53.09381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:58:53.09381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:58:53.09381   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:58:53.09399   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:53.09400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:58:53.09400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:58:53.09400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:58:53.09400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:58:53.09402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:58:53.09402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:58:53.09402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:58:53.09402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:58:53.09403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:58:53.09403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:58:53.09403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:58:53.09403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:58:53.09409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:58:53.09409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:58:53.09410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:58:53.09410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:58:53.09410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:58:53.09411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:58:53.09412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:58:53.09413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:58:53.09413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:58:53.09413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:58:53.09413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:58:53.09414   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:58:53.09415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:58:53.09415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:58:53.09415   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:58:53.09415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:58:53.09416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:58:53.09416   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:58:53.09416   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:58:53.09416   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:58:53.09416   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:58:53.09417   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:58:53.09417   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:58:53.09438   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:58:53.09439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:58:53.09439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:58:53.09439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:58:53.09439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:58:53.09440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:58:53.09440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:58:53.09440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:58:53.09440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:58:53.09441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:58:53.09442   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:58:53.09447   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:58:53.09447   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:58:53.96354 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"Puma starting in cluster mode..."}
2020-10-21_14:58:53.96357 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:58:53.96358 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:58:53.96359 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"* Environment: production"}
2020-10-21_14:58:53.96380 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"* Process workers: 2"}
2020-10-21_14:58:53.96384 {"timestamp":"2020-10-21T14:58:53.963Z","pid":2394,"message":"* Preloading application"}
2020-10-21_14:59:07.18939 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:59:07.82909 {"timestamp":"2020-10-21T14:59:07.828Z","pid":2394,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:59:07.82929 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:59:07.82938 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:59:07.82939   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:59:07.82939   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:59:07.82940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:59:07.82940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:59:07.82940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:59:07.82940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:59:07.82941   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:59:07.82941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:59:07.82941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:59:07.82941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:59:07.82942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:59:07.82942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:59:07.82943   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:59:07.82943   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:59:07.82944   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:59:07.82944   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:59:07.82962   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:59:07.82963   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:59:07.82963   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:59:07.82963   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:59:07.82970   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:59:07.82971   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:59:07.82972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:59:07.82972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:59:07.82972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:59:07.82973   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:59:07.82974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:07.82974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:59:07.82974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:59:07.82990   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:07.82991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:59:07.82998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:59:07.82999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:59:07.83010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:59:07.83011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:59:07.83011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:59:07.83011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:59:07.83012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:59:07.83012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:59:07.83013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:59:07.83013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:59:07.83013   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:59:07.83014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:59:07.83014   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:59:07.83020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:59:07.83021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:59:07.83022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:59:07.83022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:59:07.83022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:59:07.83022   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:59:07.83023   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:59:07.83024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:59:07.83024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:59:07.83024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:59:07.83024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:59:07.83025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:59:07.83025   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:59:07.83031   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:59:07.83031   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:59:07.83032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:59:07.83047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:59:07.83048   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:59:07.83049   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:59:07.83057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:59:07.83058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:59:07.83058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:59:07.83058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:59:07.83058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:59:07.83058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:59:07.83059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:59:07.83059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:59:07.83059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:59:07.83072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:59:07.83072   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:59:07.83073   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:59:08.63417 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"Puma starting in cluster mode..."}
2020-10-21_14:59:08.63429 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:59:08.63457 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:59:08.63475 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"* Environment: production"}
2020-10-21_14:59:08.63490 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"* Process workers: 2"}
2020-10-21_14:59:08.63498 {"timestamp":"2020-10-21T14:59:08.634Z","pid":2817,"message":"* Preloading application"}
2020-10-21_14:59:21.84441 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:59:22.63075 {"timestamp":"2020-10-21T14:59:22.630Z","pid":2817,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:59:22.63105 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:59:22.63107 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:59:22.63108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:59:22.63108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:59:22.63108   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:59:22.63109   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:59:22.63110   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:59:22.63110   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:59:22.63110   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:59:22.63110   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:59:22.63111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:59:22.63111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:59:22.63111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:59:22.63111   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:59:22.63131   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:59:22.63131   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:59:22.63132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:59:22.63132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:59:22.63132   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:59:22.63133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:59:22.63133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:59:22.63133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:59:22.63133   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:59:22.63135   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:59:22.63151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:59:22.63152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:59:22.63152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:59:22.63152   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:59:22.63152   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:22.63153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:59:22.63153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:59:22.63153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:22.63168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:59:22.63168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:59:22.63169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:59:22.63169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:59:22.63169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:59:22.63170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:59:22.63170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:59:22.63170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:59:22.63185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:59:22.63188   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:59:22.63189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:59:22.63189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:59:22.63189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:59:22.63189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:59:22.63190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:59:22.63190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:59:22.63190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:59:22.63190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:59:22.63191   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:59:22.63208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:59:22.63209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:59:22.63209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:59:22.63209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:59:22.63210   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:59:22.63210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:59:22.63210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:59:22.63210   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:59:22.63211   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:59:22.63211   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:59:22.63211   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:59:22.63227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:59:22.63228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:59:22.63229   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:59:22.63229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:59:22.63231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:59:22.63231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:59:22.63249   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:59:22.63251   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:59:22.63251   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:59:22.63252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:59:22.63252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:59:22.63252   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:59:22.63254   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:59:22.63254   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:59:22.63254   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:59:23.40916 {"timestamp":"2020-10-21T14:59:23.408Z","pid":3253,"message":"Puma starting in cluster mode..."}
2020-10-21_14:59:23.40918 {"timestamp":"2020-10-21T14:59:23.409Z","pid":3253,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:59:23.40918 {"timestamp":"2020-10-21T14:59:23.409Z","pid":3253,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:59:23.40918 {"timestamp":"2020-10-21T14:59:23.409Z","pid":3253,"message":"* Environment: production"}
2020-10-21_14:59:23.40919 {"timestamp":"2020-10-21T14:59:23.409Z","pid":3253,"message":"* Process workers: 2"}
2020-10-21_14:59:23.40919 {"timestamp":"2020-10-21T14:59:23.409Z","pid":3253,"message":"* Preloading application"}
2020-10-21_14:59:36.21969 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:59:36.85625 {"timestamp":"2020-10-21T14:59:36.856Z","pid":3253,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:59:36.85652 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:59:36.85667 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:59:36.85668   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:59:36.85668   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:59:36.85669   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:59:36.85669   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:59:36.85669   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:59:36.85669   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:59:36.85669   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:59:36.85670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:59:36.85670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:59:36.85670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:59:36.85670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:59:36.85671   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:59:36.85672   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:59:36.85672   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:59:36.85672   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:59:36.85672   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:59:36.85673   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:59:36.85674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:59:36.85674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:59:36.85674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:59:36.85674   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:59:36.85675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:59:36.85676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:59:36.85676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:59:36.85676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:59:36.85676   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:59:36.85677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:36.85677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:59:36.85677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:59:36.85677   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:36.85678   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:59:36.85679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:59:36.85679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:59:36.85679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:59:36.85679   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:59:36.85680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:59:36.85680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:59:36.85680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:59:36.85680   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:59:36.85681   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:59:36.85682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:59:36.85682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:59:36.85682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:59:36.85682   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:59:36.85682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:59:36.85683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:59:36.85683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:59:36.85683   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:59:36.85684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:59:36.85684   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:59:36.85685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:59:36.85685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:59:36.85685   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:59:36.85686   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:59:36.85686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:59:36.85686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:59:36.85686   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:59:36.85686   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:59:36.85687   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:59:36.85687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:59:36.85687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:59:36.85687   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:59:36.85688   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:59:36.85689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:59:36.85689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:59:36.85689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:59:36.85689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:59:36.85689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:59:36.85690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:59:36.85690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:59:36.85690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:59:36.85690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:59:36.85692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:59:36.85692   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:59:36.85692   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:59:37.63209 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"Puma starting in cluster mode..."}
2020-10-21_14:59:37.63232 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:59:37.63253 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:59:37.63275 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"* Environment: production"}
2020-10-21_14:59:37.63285 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"* Process workers: 2"}
2020-10-21_14:59:37.63302 {"timestamp":"2020-10-21T14:59:37.632Z","pid":3666,"message":"* Preloading application"}
2020-10-21_14:59:50.81386 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_14:59:51.53513 {"timestamp":"2020-10-21T14:59:51.535Z","pid":3666,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_14:59:51.53612 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_14:59:51.53638 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_14:59:51.53640   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_14:59:51.53641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_14:59:51.53641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_14:59:51.53641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_14:59:51.53641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_14:59:51.53641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_14:59:51.53642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_14:59:51.53642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_14:59:51.53642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_14:59:51.53642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_14:59:51.53643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_14:59:51.53643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_14:59:51.53663   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_14:59:51.53663   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_14:59:51.53664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_14:59:51.53664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_14:59:51.53664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_14:59:51.53664   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_14:59:51.53675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_14:59:51.53680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_14:59:51.53680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_14:59:51.53680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_14:59:51.53694   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_14:59:51.53704   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_14:59:51.53708   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_14:59:51.53709   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_14:59:51.53721   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:51.53732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_14:59:51.53744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_14:59:51.53748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_14:59:51.53748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_14:59:51.53761   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_14:59:51.53762   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_14:59:51.53774   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_14:59:51.53775   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_14:59:51.53787   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_14:59:51.53788   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_14:59:51.53800   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_14:59:51.53810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_14:59:51.53814   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_14:59:51.53823   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_14:59:51.53827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_14:59:51.53837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_14:59:51.53841   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_14:59:51.53841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_14:59:51.53853   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_14:59:51.53853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_14:59:51.53854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_14:59:51.53854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_14:59:51.53854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_14:59:51.53869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_14:59:51.53875   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_14:59:51.53877   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_14:59:51.53878   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_14:59:51.53878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_14:59:51.53878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_14:59:51.53878   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_14:59:51.53884   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_14:59:51.53884   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_14:59:51.53897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_14:59:51.53898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_14:59:51.53898   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_14:59:51.53913   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_14:59:51.53915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_14:59:51.53915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_14:59:51.53915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_14:59:51.53915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_14:59:51.53916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_14:59:51.53916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_14:59:51.53916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_14:59:51.53916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_14:59:51.53917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_14:59:51.53918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_14:59:51.53925   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_14:59:51.53932   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_14:59:52.32599 {"timestamp":"2020-10-21T14:59:52.325Z","pid":4094,"message":"Puma starting in cluster mode..."}
2020-10-21_14:59:52.32632 {"timestamp":"2020-10-21T14:59:52.326Z","pid":4094,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_14:59:52.32653 {"timestamp":"2020-10-21T14:59:52.326Z","pid":4094,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_14:59:52.32665 {"timestamp":"2020-10-21T14:59:52.326Z","pid":4094,"message":"* Environment: production"}
2020-10-21_14:59:52.32677 {"timestamp":"2020-10-21T14:59:52.326Z","pid":4094,"message":"* Process workers: 2"}
2020-10-21_14:59:52.32689 {"timestamp":"2020-10-21T14:59:52.326Z","pid":4094,"message":"* Preloading application"}
2020-10-21_15:00:05.70874 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:00:06.49223 {"timestamp":"2020-10-21T15:00:06.492Z","pid":4094,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:00:06.49251 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:00:06.49270 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:00:06.49271   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:00:06.49271   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:00:06.49271   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:00:06.49271   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:00:06.49272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:00:06.49272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:00:06.49272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:00:06.49273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:00:06.49273   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:00:06.49274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:00:06.49274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:00:06.49274   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:00:06.49275   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:00:06.49276   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:00:06.49276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:00:06.49276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:00:06.49276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:00:06.49276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:00:06.49277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:00:06.49277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:00:06.49277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:00:06.49277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:00:06.49280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:00:06.49280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:00:06.49280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:00:06.49281   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:00:06.49281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:06.49281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:00:06.49281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:00:06.49281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:06.49282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:00:06.49283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:00:06.49283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:00:06.49283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:00:06.49284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:00:06.49284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:00:06.49284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:00:06.49285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:00:06.49285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:00:06.49286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:00:06.49286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:00:06.49286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:00:06.49287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:00:06.49287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:00:06.49287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:00:06.49287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:00:06.49288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:00:06.49288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:00:06.49288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:00:06.49288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:00:06.49289   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:00:06.49289   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:00:06.49290   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:00:06.49290   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:00:06.49290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:00:06.49290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:00:06.49290   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:00:06.49291   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:00:06.49291   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:00:06.49291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:00:06.49291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:00:06.49292   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:00:06.49293   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:00:06.49293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:00:06.49293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:00:06.49293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:00:06.49293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:00:06.49294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:00:06.49294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:00:06.49294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:00:06.49294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:00:06.49295   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:00:06.49296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:00:06.49296   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:00:06.49296   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:00:07.31261 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"Puma starting in cluster mode..."}
2020-10-21_15:00:07.31264 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:00:07.31265 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:00:07.31265 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"* Environment: production"}
2020-10-21_15:00:07.31266 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"* Process workers: 2"}
2020-10-21_15:00:07.31267 {"timestamp":"2020-10-21T15:00:07.312Z","pid":4529,"message":"* Preloading application"}
2020-10-21_15:00:21.03491 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:00:22.19239 {"timestamp":"2020-10-21T15:00:22.192Z","pid":4529,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:00:22.19287 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:00:22.19317 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:00:22.19321   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:00:22.19322   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:00:22.19323   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:00:22.19336   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:00:22.19337   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:00:22.19338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:00:22.19338   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:00:22.19357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:00:22.19379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:00:22.19403   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:00:22.19404   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:00:22.19405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:00:22.19407   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:00:22.19407   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:00:22.19408   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:00:22.19408   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:00:22.19408   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:00:22.19409   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:00:22.19415   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:00:22.19425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:00:22.19426   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:00:22.19427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:00:22.19435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:00:22.19435   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:00:22.19436   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:00:22.19436   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:00:22.19436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:22.19437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:00:22.19437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:00:22.19437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:22.19438   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:00:22.19469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:00:22.19471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:00:22.19472   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:00:22.19472   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:00:22.19473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:00:22.19473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:00:22.19474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:00:22.19485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:00:22.19494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:00:22.19494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:00:22.19495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:00:22.19495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:00:22.19495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:00:22.19495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:00:22.19496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:00:22.19496   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:00:22.19496   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:00:22.19498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:00:22.19498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:00:22.19500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:00:22.19500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:00:22.19500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:00:22.19526   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:00:22.19528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:00:22.19529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:00:22.19529   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:00:22.19530   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:00:22.19530   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:00:22.19530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:00:22.19530   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:00:22.19531   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:00:22.19602   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:00:22.19606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:00:22.19606   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:00:22.19607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:00:22.19607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:00:22.19607   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:00:22.19608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:00:22.19608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:00:22.19608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:00:22.19608   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:00:22.19613   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:00:22.19614   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:00:22.19614   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:00:23.04156 {"timestamp":"2020-10-21T15:00:23.041Z","pid":4973,"message":"Puma starting in cluster mode..."}
2020-10-21_15:00:23.04178 {"timestamp":"2020-10-21T15:00:23.041Z","pid":4973,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:00:23.04194 {"timestamp":"2020-10-21T15:00:23.041Z","pid":4973,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:00:23.04209 {"timestamp":"2020-10-21T15:00:23.042Z","pid":4973,"message":"* Environment: production"}
2020-10-21_15:00:23.04226 {"timestamp":"2020-10-21T15:00:23.042Z","pid":4973,"message":"* Process workers: 2"}
2020-10-21_15:00:23.04241 {"timestamp":"2020-10-21T15:00:23.042Z","pid":4973,"message":"* Preloading application"}
2020-10-21_15:00:48.88341 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:00:49.88557 {"timestamp":"2020-10-21T15:00:49.885Z","pid":4973,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:00:49.88595 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:00:49.88614 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:00:49.88615   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:00:49.88616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:00:49.88616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:00:49.88616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:00:49.88616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:00:49.88617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:00:49.88617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:00:49.88617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:00:49.88617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:00:49.88617   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:00:49.88618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:00:49.88618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:00:49.88619   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:00:49.88619   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:00:49.88620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:00:49.88620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:00:49.88620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:00:49.88620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:00:49.88620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:00:49.88621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:00:49.88621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:00:49.88621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:00:49.88622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:00:49.88622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:00:49.88623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:00:49.88623   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:00:49.88623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:49.88623   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:00:49.88624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:00:49.88625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:00:49.88625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:00:49.88626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:00:49.88626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:00:49.88626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:00:49.88627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:00:49.88627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:00:49.88627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:00:49.88627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:00:49.88628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:00:49.88629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:00:49.88629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:00:49.88629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:00:49.88629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:00:49.88630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:00:49.88630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:00:49.88630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:00:49.88630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:00:49.88631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:00:49.88631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:00:49.88631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:00:49.88662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:00:49.88662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:00:49.88662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:00:49.88662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:00:49.88663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:00:49.88663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:00:49.88663   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:00:49.88663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:00:49.88663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:00:49.88664   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:00:49.88664   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:00:49.88665   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:00:49.88666   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:00:49.88666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:00:49.88666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:00:49.88666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:00:49.88667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:00:49.88667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:00:49.88667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:00:49.88667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:00:49.88668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:00:49.88668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:00:49.88669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:00:49.88669   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:00:49.88669   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:00:51.21967 {"timestamp":"2020-10-21T15:00:51.219Z","pid":5721,"message":"Puma starting in cluster mode..."}
2020-10-21_15:00:51.22000 {"timestamp":"2020-10-21T15:00:51.219Z","pid":5721,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:00:51.22026 {"timestamp":"2020-10-21T15:00:51.220Z","pid":5721,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:00:51.22049 {"timestamp":"2020-10-21T15:00:51.220Z","pid":5721,"message":"* Environment: production"}
2020-10-21_15:00:51.22072 {"timestamp":"2020-10-21T15:00:51.220Z","pid":5721,"message":"* Process workers: 2"}
2020-10-21_15:00:51.22091 {"timestamp":"2020-10-21T15:00:51.220Z","pid":5721,"message":"* Preloading application"}
2020-10-21_15:01:10.74501 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:01:11.49931 {"timestamp":"2020-10-21T15:01:11.499Z","pid":5721,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:01:11.49973 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:01:11.49992 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:01:11.50005   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:01:11.50012   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:01:11.50013   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:01:11.50014   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:01:11.50014   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:01:11.50015   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:01:11.50034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:01:11.50035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:01:11.50035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:01:11.50037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:01:11.50037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:01:11.50038   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:01:11.50051   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:01:11.50052   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:01:11.50053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:01:11.50053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:01:11.50053   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:01:11.50054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:01:11.50054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:01:11.50054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:01:11.50055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:01:11.50055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:01:11.50081   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:01:11.50084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:01:11.50085   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:01:11.50085   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:01:11.50085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:01:11.50086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:01:11.50086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:01:11.50086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:01:11.50087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:01:11.50088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:01:11.50089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:01:11.50089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:01:11.50089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:01:11.50090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:01:11.50090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:01:11.50090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:01:11.50090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:01:11.50092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:01:11.50093   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:01:11.50093   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:01:11.50093   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:01:11.50094   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:01:11.50094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:01:11.50094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:01:11.50095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:01:11.50095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:01:11.50096   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:01:11.50096   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:01:11.50114   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:01:11.50115   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:01:11.50116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:01:11.50116   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:01:11.50116   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:01:11.50117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:01:11.50117   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:01:11.50117   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:01:11.50118   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:01:11.50118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:01:11.50118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:01:11.50119   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:01:11.50120   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:01:11.50121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:01:11.50121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:01:11.50121   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:01:11.50122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:01:11.50122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:01:11.50122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:01:11.50123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:01:11.50123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:01:11.50124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:01:11.50125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:01:11.50126   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:01:11.50126   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:01:12.56917 {"timestamp":"2020-10-21T15:01:12.568Z","pid":6316,"message":"Puma starting in cluster mode..."}
2020-10-21_15:01:12.56941 {"timestamp":"2020-10-21T15:01:12.569Z","pid":6316,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:01:12.56942 {"timestamp":"2020-10-21T15:01:12.569Z","pid":6316,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:01:12.57323 {"timestamp":"2020-10-21T15:01:12.571Z","pid":6316,"message":"* Environment: production"}
2020-10-21_15:01:12.57400 {"timestamp":"2020-10-21T15:01:12.573Z","pid":6316,"message":"* Process workers: 2"}
2020-10-21_15:01:12.57424 {"timestamp":"2020-10-21T15:01:12.574Z","pid":6316,"message":"* Preloading application"}
2020-10-21_15:01:29.24545 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:01:31.48141 {"timestamp":"2020-10-21T15:01:31.477Z","pid":6316,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:01:31.48151 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:01:31.48152 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:01:31.48153   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:01:31.48153   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:01:31.48153   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:01:31.48154   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:01:31.48154   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:01:31.48154   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:01:31.48154   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:01:31.48155   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:01:31.48155   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:01:31.48155   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:01:31.48157   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:01:31.48157   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:01:31.48158   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:01:31.48158   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:01:31.48158   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:01:31.48159   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:01:31.48159   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:01:31.48159   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:01:31.48159   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:01:31.48160   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:01:31.48162   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:01:31.48163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:01:31.48163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:01:31.48163   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:01:31.48164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:01:31.48164   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:01:31.48164   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:01:31.48164   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:01:31.48166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:01:31.48166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:01:31.48166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:01:31.48167   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:01:31.48167   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:01:31.48167   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:01:31.48168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:01:31.48168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:01:31.48168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:01:31.48170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:01:31.48170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:01:31.48170   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:01:31.48170   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:01:31.48171   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:01:31.48171   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:01:31.48171   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:01:31.48172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:01:31.48172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:01:31.48172   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:01:31.48174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:01:31.48174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:01:31.48174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:01:31.48174   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:01:31.48175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:01:31.48175   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:01:31.48176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:01:31.48176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:01:31.48176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:01:31.48177   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:01:31.48177   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:01:31.48177   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:01:31.48179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:01:31.48179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:01:31.48179   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:01:31.48180   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:01:31.48180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:01:31.48180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:01:31.48181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:01:31.48181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:01:31.48181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:01:31.48181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:01:31.48182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:01:31.48183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:01:31.48184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:01:31.48184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:01:31.48184   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:01:31.48185   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:01:33.56363 {"timestamp":"2020-10-21T15:01:33.563Z","pid":6889,"message":"Puma starting in cluster mode..."}
2020-10-21_15:01:33.56394 {"timestamp":"2020-10-21T15:01:33.563Z","pid":6889,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:01:33.56408 {"timestamp":"2020-10-21T15:01:33.564Z","pid":6889,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:01:33.56420 {"timestamp":"2020-10-21T15:01:33.564Z","pid":6889,"message":"* Environment: production"}
2020-10-21_15:01:33.56432 {"timestamp":"2020-10-21T15:01:33.564Z","pid":6889,"message":"* Process workers: 2"}
2020-10-21_15:01:33.56445 {"timestamp":"2020-10-21T15:01:33.564Z","pid":6889,"message":"* Preloading application"}
2020-10-21_15:01:59.11973 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:02:00.14428 {"timestamp":"2020-10-21T15:02:00.144Z","pid":6889,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:02:00.14457 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:02:00.14479 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:02:00.14480   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:02:00.14480   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:02:00.14481   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:02:00.14481   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:02:00.14481   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:02:00.14481   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:02:00.14482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:02:00.14482   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:02:00.14482   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:02:00.14482   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:02:00.14483   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:02:00.14483   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:02:00.14484   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:02:00.14484   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:02:00.14484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:02:00.14485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:02:00.14485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:02:00.14485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:02:00.14485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:02:00.14486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:02:00.14486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:02:00.14486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:02:00.14487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:02:00.14487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:02:00.14487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:02:00.14488   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:02:00.14488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:00.14488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:02:00.14488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:02:00.14489   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:00.14489   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:02:00.14490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:02:00.14491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:02:00.14491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:02:00.14491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:02:00.14491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:02:00.14492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:02:00.14492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:02:00.14492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:02:00.14493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:02:00.14493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:02:00.14494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:02:00.14494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:02:00.14494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:02:00.14494   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:02:00.14495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:02:00.14495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:02:00.14495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:02:00.14495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:02:00.14496   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:02:00.14497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:02:00.14497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:02:00.14497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:02:00.14497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:02:00.14497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:02:00.14498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:02:00.14498   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:02:00.14498   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:02:00.14498   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:02:00.14499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:02:00.14499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:02:00.14499   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:02:00.14500   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:02:00.14500   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:02:00.14501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:02:00.14501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:02:00.14501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:02:00.14501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:02:00.14502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:02:00.14502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:02:00.14502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:02:00.14502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:02:00.14503   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:02:00.14504   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:02:00.14504   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:02:01.10917 {"timestamp":"2020-10-21T15:02:01.109Z","pid":7616,"message":"Puma starting in cluster mode..."}
2020-10-21_15:02:01.10951 {"timestamp":"2020-10-21T15:02:01.109Z","pid":7616,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:02:01.10970 {"timestamp":"2020-10-21T15:02:01.109Z","pid":7616,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:02:01.10990 {"timestamp":"2020-10-21T15:02:01.109Z","pid":7616,"message":"* Environment: production"}
2020-10-21_15:02:01.11011 {"timestamp":"2020-10-21T15:02:01.109Z","pid":7616,"message":"* Process workers: 2"}
2020-10-21_15:02:01.11033 {"timestamp":"2020-10-21T15:02:01.110Z","pid":7616,"message":"* Preloading application"}
2020-10-21_15:02:15.12119 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:02:16.33211 {"timestamp":"2020-10-21T15:02:16.332Z","pid":7616,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:02:16.33232 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:02:16.33264 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:02:16.33265   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:02:16.33265   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:02:16.33266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:02:16.33266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:02:16.33266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:02:16.33266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:02:16.33266   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:02:16.33267   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:02:16.33267   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:02:16.33267   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:02:16.33267   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:02:16.33268   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:02:16.33275   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:02:16.33276   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:02:16.33276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:02:16.33276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:02:16.33276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:02:16.33276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:02:16.33277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:02:16.33277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:02:16.33277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:02:16.33277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:02:16.33279   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:02:16.33279   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:02:16.33279   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:02:16.33279   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:02:16.33280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:16.33280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:02:16.33280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:02:16.33280   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:16.33281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:02:16.33282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:02:16.33282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:02:16.33282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:02:16.33282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:02:16.33283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:02:16.33283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:02:16.33283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:02:16.33283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:02:16.33284   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:02:16.33285   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:02:16.33285   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:02:16.33286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:02:16.33286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:02:16.33286   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:02:16.33317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:02:16.33318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:02:16.33318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:02:16.33318   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:02:16.33319   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:02:16.33320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:02:16.33320   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:02:16.33325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:02:16.33325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:02:16.33325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:02:16.33325   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:02:16.33326   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:02:16.33326   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:02:16.33329   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:02:16.33330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:02:16.33330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:02:16.33330   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:02:16.33331   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:02:16.33332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:02:16.33332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:02:16.33332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:02:16.33332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:02:16.33333   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:02:16.33333   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:02:16.33333   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:02:16.33333   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:02:16.33334   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:02:16.33353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:02:16.33354   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:02:16.33354   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:02:17.15510 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"Puma starting in cluster mode..."}
2020-10-21_15:02:17.15520 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:02:17.15548 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:02:17.15565 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"* Environment: production"}
2020-10-21_15:02:17.15582 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"* Process workers: 2"}
2020-10-21_15:02:17.15598 {"timestamp":"2020-10-21T15:02:17.155Z","pid":8084,"message":"* Preloading application"}
2020-10-21_15:02:29.69289 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:02:30.47888 {"timestamp":"2020-10-21T15:02:30.478Z","pid":8084,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:02:30.47892 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:02:30.47894 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:02:30.47894   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:02:30.47894   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:02:30.47894   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:02:30.47895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:02:30.47895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:02:30.47895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:02:30.47895   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:02:30.47895   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:02:30.47896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:02:30.47896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:02:30.47896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:02:30.47896   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:02:30.47897   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:02:30.47898   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:02:30.47898   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:02:30.47898   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:02:30.47898   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:02:30.47899   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:02:30.47903   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:02:30.47904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:02:30.47904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:02:30.47904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:02:30.47906   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:02:30.47907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:02:30.47907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:02:30.47907   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:02:30.47907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:30.47908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:02:30.47908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:02:30.47908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:30.47908   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:02:30.47909   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:02:30.47910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:02:30.47910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:02:30.47910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:02:30.47910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:02:30.47910   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:02:30.47911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:02:30.47911   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:02:30.47912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:02:30.47912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:02:30.47912   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:02:30.47913   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:02:30.47913   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:02:30.47913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:02:30.47913   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:02:30.47914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:02:30.47914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:02:30.47914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:02:30.47914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:02:30.47915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:02:30.47915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:02:30.47916   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:02:30.47916   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:02:30.47916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:02:30.47916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:02:30.47917   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:02:30.47917   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:02:30.47917   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:02:30.47917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:02:30.47918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:02:30.47918   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:02:30.47919   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:02:30.47919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:02:30.47919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:02:30.47919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:02:30.47920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:02:30.47920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:02:30.47920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:02:30.47920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:02:30.47921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:02:30.47921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:02:30.47922   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:02:30.47922   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:02:30.47922   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:02:31.34422 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"Puma starting in cluster mode..."}
2020-10-21_15:02:31.34439 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:02:31.34448 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:02:31.34461 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"* Environment: production"}
2020-10-21_15:02:31.34478 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"* Process workers: 2"}
2020-10-21_15:02:31.34492 {"timestamp":"2020-10-21T15:02:31.344Z","pid":8521,"message":"* Preloading application"}
2020-10-21_15:02:45.86140 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:02:46.64018 {"timestamp":"2020-10-21T15:02:46.640Z","pid":8521,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:02:46.64048 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:02:46.64065 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:02:46.64066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:02:46.64066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:02:46.64066   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:02:46.64067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:02:46.64067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:02:46.64067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:02:46.64067   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:02:46.64068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:02:46.64068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:02:46.64068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:02:46.64068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:02:46.64068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:02:46.64069   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:02:46.64070   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:02:46.64070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:02:46.64070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:02:46.64070   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:02:46.64071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:02:46.64071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:02:46.64071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:02:46.64071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:02:46.64072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:02:46.64073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:02:46.64073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:02:46.64073   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:02:46.64073   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:02:46.64074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:46.64074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:02:46.64074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:02:46.64074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:02:46.64074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:02:46.64075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:02:46.64076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:02:46.64076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:02:46.64077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:02:46.64077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:02:46.64077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:02:46.64077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:02:46.64078   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:02:46.64079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:02:46.64079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:02:46.64079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:02:46.64079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:02:46.64079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:02:46.64080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:02:46.64080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:02:46.64080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:02:46.64080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:02:46.64081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:02:46.64081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:02:46.64082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:02:46.64082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:02:46.64082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:02:46.64082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:02:46.64083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:02:46.64083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:02:46.64083   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:02:46.64083   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:02:46.64084   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:02:46.64084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:02:46.64084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:02:46.64084   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:02:46.64085   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:02:46.64085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:02:46.64086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:02:46.64086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:02:46.64086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:02:46.64086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:02:46.64087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:02:46.64087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:02:46.64087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:02:46.64087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:02:46.64091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:02:46.64092   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:02:46.64092   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:02:47.34650 {"timestamp":"2020-10-21T15:02:47.346Z","pid":8992,"message":"Puma starting in cluster mode..."}
2020-10-21_15:02:47.34668 {"timestamp":"2020-10-21T15:02:47.346Z","pid":8992,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:02:47.34678 {"timestamp":"2020-10-21T15:02:47.346Z","pid":8992,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:02:47.34691 {"timestamp":"2020-10-21T15:02:47.346Z","pid":8992,"message":"* Environment: production"}
2020-10-21_15:02:47.34706 {"timestamp":"2020-10-21T15:02:47.346Z","pid":8992,"message":"* Process workers: 2"}
2020-10-21_15:02:47.34724 {"timestamp":"2020-10-21T15:02:47.347Z","pid":8992,"message":"* Preloading application"}
2020-10-21_15:03:05.93929 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:03:07.09004 {"timestamp":"2020-10-21T15:03:07.089Z","pid":8992,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:03:07.09034 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:03:07.09035 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:03:07.09036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:03:07.09036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:03:07.09036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:03:07.09037   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:03:07.09037   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:03:07.09037   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:03:07.09038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:03:07.09038   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:03:07.09038   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:03:07.09039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:03:07.09039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:03:07.09039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:03:07.09041   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:03:07.09042   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:03:07.09042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:03:07.09043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:03:07.09043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:03:07.09043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:03:07.09043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:03:07.09044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:03:07.09044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:03:07.09045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:03:07.09046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:03:07.09046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:03:07.09047   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:03:07.09047   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:03:07.09047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:07.09048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:03:07.09048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:03:07.09048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:07.09050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:03:07.09050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:03:07.09050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:03:07.09051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:03:07.09051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:03:07.09051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:03:07.09052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:03:07.09052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:03:07.09053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:03:07.09054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:03:07.09097   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:03:07.09098   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:03:07.09099   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:03:07.09099   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:03:07.09100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:03:07.09100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:03:07.09100   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:03:07.09101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:03:07.09101   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:03:07.09103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:03:07.09103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:03:07.09103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:03:07.09104   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:03:07.09104   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:03:07.09104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:03:07.09105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:03:07.09105   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:03:07.09105   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:03:07.09106   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:03:07.09106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:03:07.09106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:03:07.09108   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:03:07.09108   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:03:07.09108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:03:07.09108   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:03:07.09109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:03:07.09109   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:03:07.09110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:03:07.09110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:03:07.09110   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:03:07.09111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:03:07.09111   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:03:07.09112   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:03:07.09113   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:03:07.09113   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:03:07.92619 {"timestamp":"2020-10-21T15:03:07.926Z","pid":9549,"message":"Puma starting in cluster mode..."}
2020-10-21_15:03:07.92628 {"timestamp":"2020-10-21T15:03:07.926Z","pid":9549,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:03:07.92667 {"timestamp":"2020-10-21T15:03:07.926Z","pid":9549,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:03:07.92688 {"timestamp":"2020-10-21T15:03:07.926Z","pid":9549,"message":"* Environment: production"}
2020-10-21_15:03:07.92708 {"timestamp":"2020-10-21T15:03:07.926Z","pid":9549,"message":"* Process workers: 2"}
2020-10-21_15:03:07.92727 {"timestamp":"2020-10-21T15:03:07.927Z","pid":9549,"message":"* Preloading application"}
2020-10-21_15:03:22.00329 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:03:22.70929 {"timestamp":"2020-10-21T15:03:22.708Z","pid":9549,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:03:22.70964 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:03:22.70984 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:03:22.70988   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:03:22.70989   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:03:22.70989   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:03:22.70989   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:03:22.70990   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:03:22.71004   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:03:22.71006   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:03:22.71007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:03:22.71007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:03:22.71009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:03:22.71009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:03:22.71010   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:03:22.71030   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:03:22.71031   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:03:22.71032   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:03:22.71032   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:03:22.71042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:03:22.71043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:03:22.71043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:03:22.71044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:03:22.71044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:03:22.71044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:03:22.71045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:03:22.71046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:03:22.71063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:03:22.71064   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:03:22.71064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:22.71064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:03:22.71064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:03:22.71079   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:22.71081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:03:22.71082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:03:22.71082   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:03:22.71083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:03:22.71083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:03:22.71083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:03:22.71083   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:03:22.71084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:03:22.71084   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:03:22.71102   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:03:22.71103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:03:22.71103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:03:22.71103   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:03:22.71113   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:03:22.71117   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:03:22.71118   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:03:22.71118   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:03:22.71118   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:03:22.71129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:03:22.71129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:03:22.71131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:03:22.71131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:03:22.71131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:03:22.71131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:03:22.71131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:03:22.71132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:03:22.71147   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:03:22.71147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:03:22.71148   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:03:22.71148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:03:22.71148   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:03:22.71159   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:03:22.71164   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:03:22.71175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:03:22.71175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:03:22.71175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:03:22.71176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:03:22.71176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:03:22.71176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:03:22.71176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:03:22.71177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:03:22.71177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:03:22.71193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:03:22.71194   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:03:22.71194   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:03:23.59696 {"timestamp":"2020-10-21T15:03:23.596Z","pid":10012,"message":"Puma starting in cluster mode..."}
2020-10-21_15:03:23.59722 {"timestamp":"2020-10-21T15:03:23.597Z","pid":10012,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:03:23.59741 {"timestamp":"2020-10-21T15:03:23.597Z","pid":10012,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:03:23.59760 {"timestamp":"2020-10-21T15:03:23.597Z","pid":10012,"message":"* Environment: production"}
2020-10-21_15:03:23.59780 {"timestamp":"2020-10-21T15:03:23.597Z","pid":10012,"message":"* Process workers: 2"}
2020-10-21_15:03:23.59799 {"timestamp":"2020-10-21T15:03:23.597Z","pid":10012,"message":"* Preloading application"}
2020-10-21_15:03:36.55842 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:03:37.25969 {"timestamp":"2020-10-21T15:03:37.259Z","pid":10012,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:03:37.25985 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:03:37.26001 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:03:37.26002   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:03:37.26003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:03:37.26003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:03:37.26003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:03:37.26003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:03:37.26003   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:03:37.26004   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:03:37.26004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:03:37.26004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:03:37.26004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:03:37.26005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:03:37.26005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:03:37.26006   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:03:37.26006   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:03:37.26006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:03:37.26007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:03:37.26007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:03:37.26007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:03:37.26007   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:03:37.26008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:03:37.26008   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:03:37.26009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:03:37.26009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:03:37.26009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:03:37.26009   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:03:37.26010   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:03:37.26010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:37.26010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:03:37.26010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:03:37.26011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:37.26012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:03:37.26012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:03:37.26012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:03:37.26013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:03:37.26013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:03:37.26013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:03:37.26013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:03:37.26014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:03:37.26014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:03:37.26015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:03:37.26015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:03:37.26015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:03:37.26015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:03:37.26016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:03:37.26016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:03:37.26016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:03:37.26016   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:03:37.26017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:03:37.26017   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:03:37.26018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:03:37.26018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:03:37.26018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:03:37.26018   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:03:37.26019   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:03:37.26019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:03:37.26019   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:03:37.26019   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:03:37.26019   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:03:37.26020   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:03:37.26020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:03:37.26020   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:03:37.26021   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:03:37.26021   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:03:37.26022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:03:37.26022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:03:37.26022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:03:37.26022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:03:37.26023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:03:37.26023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:03:37.26023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:03:37.26023   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:03:37.26024   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:03:37.26025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:03:37.26025   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:03:37.26025   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:03:38.15017 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"Puma starting in cluster mode..."}
2020-10-21_15:03:38.15019 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:03:38.15021 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:03:38.15021 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"* Environment: production"}
2020-10-21_15:03:38.15021 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"* Process workers: 2"}
2020-10-21_15:03:38.15021 {"timestamp":"2020-10-21T15:03:38.150Z","pid":10458,"message":"* Preloading application"}
2020-10-21_15:03:51.45537 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:03:51.97368 {"timestamp":"2020-10-21T15:03:51.973Z","pid":10458,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:03:51.97371 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:03:51.97379 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:03:51.97379   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:03:51.97380   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:03:51.97380   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:03:51.97398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:03:51.97399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:03:51.97399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:03:51.97416   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:03:51.97429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:03:51.97430   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:03:51.97445   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:03:51.97446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:03:51.97446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:03:51.97482   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:03:51.97482   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:03:51.97483   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:03:51.97484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:03:51.97484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:03:51.97484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:03:51.97484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:03:51.97484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:03:51.97485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:03:51.97485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:03:51.97486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:03:51.97486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:03:51.97487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:03:51.97487   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:03:51.97487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:51.97487   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:03:51.97488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:03:51.97488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:03:51.97488   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:03:51.97489   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:03:51.97489   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:03:51.97490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:03:51.97490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:03:51.97490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:03:51.97490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:03:51.97490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:03:51.97491   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:03:51.97492   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:03:51.97492   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:03:51.97492   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:03:51.97492   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:03:51.97493   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:03:51.97493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:03:51.97493   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:03:51.97494   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:03:51.97495   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:03:51.97496   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:03:51.97496   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:03:51.97497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:03:51.97497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:03:51.97497   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:03:51.97498   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:03:51.97498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:03:51.97498   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:03:51.97498   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:03:51.97498   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:03:51.97499   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:03:51.97499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:03:51.97499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:03:51.97499   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:03:51.97500   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:03:51.97500   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:03:51.97501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:03:51.97501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:03:51.97501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:03:51.97501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:03:51.97502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:03:51.97502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:03:51.97502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:03:51.97502   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:03:51.97503   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:03:51.97504   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:03:51.97504   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:03:52.63433 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"Puma starting in cluster mode..."}
2020-10-21_15:03:52.63435 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:03:52.63435 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:03:52.63435 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"* Environment: production"}
2020-10-21_15:03:52.63436 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"* Process workers: 2"}
2020-10-21_15:03:52.63436 {"timestamp":"2020-10-21T15:03:52.634Z","pid":10915,"message":"* Preloading application"}
2020-10-21_15:04:06.91919 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:04:07.84368 {"timestamp":"2020-10-21T15:04:07.843Z","pid":10915,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:04:07.84460 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:04:07.84469 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:04:07.84470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:04:07.84470   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:04:07.84471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:04:07.84471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:04:07.84471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:04:07.84471   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:04:07.84472   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:04:07.84472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:04:07.84472   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:04:07.84473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:04:07.84473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:04:07.84473   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:04:07.84474   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:04:07.84474   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:04:07.84475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:04:07.84475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:04:07.84475   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:04:07.84476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:04:07.84476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:04:07.84476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:04:07.84476   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:04:07.84477   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:04:07.84478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:04:07.84478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:04:07.84478   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:04:07.84480   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:04:07.84480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:07.84480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:04:07.84481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:04:07.84481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:07.84481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:04:07.84515   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:04:07.84516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:04:07.84516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:04:07.84516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:04:07.84516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:04:07.84517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:04:07.84517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:04:07.84517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:04:07.84518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:04:07.84518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:04:07.84519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:04:07.84519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:04:07.84519   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:04:07.84519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:04:07.84520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:04:07.84520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:04:07.84520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:04:07.84520   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:04:07.84521   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:04:07.84522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:04:07.84522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:04:07.84522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:04:07.84522   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:04:07.84522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:04:07.84523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:04:07.84523   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:04:07.84524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:04:07.84524   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:04:07.84524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:04:07.84524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:04:07.84525   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:04:07.84526   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:04:07.84526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:04:07.84526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:04:07.84526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:04:07.84527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:04:07.84527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:04:07.84527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:04:07.84527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:04:07.84527   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:04:07.84528   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:04:07.84529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:04:07.84529   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:04:07.84529   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:04:08.62438 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"Puma starting in cluster mode..."}
2020-10-21_15:04:08.62440 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:04:08.62441 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:04:08.62441 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"* Environment: production"}
2020-10-21_15:04:08.62441 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"* Process workers: 2"}
2020-10-21_15:04:08.62442 {"timestamp":"2020-10-21T15:04:08.624Z","pid":11376,"message":"* Preloading application"}
2020-10-21_15:04:22.10418 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:04:22.90228 {"timestamp":"2020-10-21T15:04:22.902Z","pid":11376,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:04:22.90258 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:04:22.90271 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:04:22.90272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:04:22.90272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:04:22.90272   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:04:22.90273   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:04:22.90274   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:04:22.90274   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:04:22.90274   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:04:22.90275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:04:22.90275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:04:22.90275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:04:22.90275   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:04:22.90276   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:04:22.90277   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:04:22.90277   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:04:22.90277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:04:22.90277   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:04:22.90278   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:04:22.90278   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:04:22.90278   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:04:22.90278   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:04:22.90279   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:04:22.90279   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:04:22.90280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:04:22.90280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:04:22.90280   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:04:22.90281   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:04:22.90281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:22.90281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:04:22.90281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:04:22.90281   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:22.90282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:04:22.90283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:04:22.90283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:04:22.90283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:04:22.90283   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:04:22.90284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:04:22.90284   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:04:22.90285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:04:22.90285   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:04:22.90286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:04:22.90286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:04:22.90286   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:04:22.90287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:04:22.90287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:04:22.90287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:04:22.90287   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:04:22.90287   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:04:22.90288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:04:22.90288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:04:22.90288   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:04:22.90289   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:04:22.90289   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:04:22.90290   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:04:22.90290   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:04:22.90290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:04:22.90290   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:04:22.90290   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:04:22.90291   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:04:22.90291   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:04:22.90291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:04:22.90291   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:04:22.90292   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:04:22.90293   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:04:22.90293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:04:22.90293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:04:22.90293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:04:22.90293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:04:22.90294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:04:22.90294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:04:22.90294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:04:22.90295   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:04:22.90295   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:04:22.90296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:04:22.90296   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:04:22.90296   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:04:23.69768 {"timestamp":"2020-10-21T15:04:23.697Z","pid":11831,"message":"Puma starting in cluster mode..."}
2020-10-21_15:04:23.69784 {"timestamp":"2020-10-21T15:04:23.697Z","pid":11831,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:04:23.69793 {"timestamp":"2020-10-21T15:04:23.697Z","pid":11831,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:04:23.69806 {"timestamp":"2020-10-21T15:04:23.698Z","pid":11831,"message":"* Environment: production"}
2020-10-21_15:04:23.69819 {"timestamp":"2020-10-21T15:04:23.698Z","pid":11831,"message":"* Process workers: 2"}
2020-10-21_15:04:23.69832 {"timestamp":"2020-10-21T15:04:23.698Z","pid":11831,"message":"* Preloading application"}
2020-10-21_15:04:51.44914 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:04:52.98921 {"timestamp":"2020-10-21T15:04:52.989Z","pid":11831,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:04:52.98998 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:04:52.99021 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:04:52.99021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:04:52.99022   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:04:52.99022   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:04:52.99022   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:04:52.99023   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:04:52.99023   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:04:52.99023   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:04:52.99023   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:04:52.99024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:04:52.99024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:04:52.99024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:04:52.99024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:04:52.99026   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:04:52.99026   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:04:52.99026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:04:52.99026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:04:52.99027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:04:52.99028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:04:52.99028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:04:52.99028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:04:52.99028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:04:52.99029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:04:52.99030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:04:52.99030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:04:52.99030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:04:52.99030   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:04:52.99031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:52.99031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:04:52.99031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:04:52.99031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:04:52.99032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:04:52.99033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:04:52.99033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:04:52.99033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:04:52.99033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:04:52.99034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:04:52.99034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:04:52.99034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:04:52.99034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:04:52.99035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:04:52.99036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:04:52.99036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:04:52.99036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:04:52.99036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:04:52.99037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:04:52.99037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:04:52.99038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:04:52.99038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:04:52.99038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:04:52.99038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:04:52.99039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:04:52.99040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:04:52.99040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:04:52.99040   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:04:52.99040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:04:52.99040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:04:52.99041   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:04:52.99041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:04:52.99041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:04:52.99041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:04:52.99042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:04:52.99042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:04:52.99043   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:04:52.99043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:04:52.99043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:04:52.99044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:04:52.99044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:04:52.99044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:04:52.99044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:04:52.99045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:04:52.99045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:04:52.99045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:04:52.99046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:04:52.99046   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:04:52.99047   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:04:54.65103 {"timestamp":"2020-10-21T15:04:54.650Z","pid":12624,"message":"Puma starting in cluster mode..."}
2020-10-21_15:04:54.65126 {"timestamp":"2020-10-21T15:04:54.651Z","pid":12624,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:04:54.65148 {"timestamp":"2020-10-21T15:04:54.651Z","pid":12624,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:04:54.65166 {"timestamp":"2020-10-21T15:04:54.651Z","pid":12624,"message":"* Environment: production"}
2020-10-21_15:04:54.65183 {"timestamp":"2020-10-21T15:04:54.651Z","pid":12624,"message":"* Process workers: 2"}
2020-10-21_15:04:54.65201 {"timestamp":"2020-10-21T15:04:54.651Z","pid":12624,"message":"* Preloading application"}
2020-10-21_15:05:18.09579 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:05:18.96989 {"timestamp":"2020-10-21T15:05:18.969Z","pid":12624,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:05:18.97018 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:05:18.97033 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:05:18.97034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:05:18.97034   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:05:18.97035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:05:18.97035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:05:18.97035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:05:18.97035   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:05:18.97036   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:05:18.97036   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:05:18.97036   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:05:18.97036   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:05:18.97036   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:05:18.97037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:05:18.97038   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:05:18.97038   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:05:18.97038   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:05:18.97038   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:05:18.97039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:05:18.97039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:05:18.97039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:05:18.97039   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:05:18.97040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:05:18.97040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:05:18.97041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:05:18.97041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:05:18.97041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:05:18.97042   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:05:18.97042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:18.97043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:05:18.97043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:05:18.97043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:18.97044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:05:18.97045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:05:18.97045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:05:18.97045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:05:18.97045   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:05:18.97046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:05:18.97046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:05:18.97046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:05:18.97046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:05:18.97047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:05:18.97048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:05:18.97048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:05:18.97048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:05:18.97048   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:05:18.97049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:05:18.97049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:05:18.97049   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:05:18.97049   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:05:18.97050   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:05:18.97050   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:05:18.97051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:05:18.97051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:05:18.97051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:05:18.97051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:05:18.97052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:05:18.97052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:05:18.97052   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:05:18.97052   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:05:18.97053   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:05:18.97053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:05:18.97053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:05:18.97054   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:05:18.97055   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:05:18.97055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:05:18.97055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:05:18.97055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:05:18.97055   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:05:18.97056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:05:18.97056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:05:18.97056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:05:18.97056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:05:18.97057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:05:18.97058   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:05:18.97058   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:05:18.97058   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:05:19.85231 {"timestamp":"2020-10-21T15:05:19.852Z","pid":13340,"message":"Puma starting in cluster mode..."}
2020-10-21_15:05:19.85260 {"timestamp":"2020-10-21T15:05:19.852Z","pid":13340,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:05:19.85288 {"timestamp":"2020-10-21T15:05:19.852Z","pid":13340,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:05:19.85307 {"timestamp":"2020-10-21T15:05:19.852Z","pid":13340,"message":"* Environment: production"}
2020-10-21_15:05:19.85325 {"timestamp":"2020-10-21T15:05:19.853Z","pid":13340,"message":"* Process workers: 2"}
2020-10-21_15:05:19.85346 {"timestamp":"2020-10-21T15:05:19.853Z","pid":13340,"message":"* Preloading application"}
2020-10-21_15:05:34.08104 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:05:34.83318 {"timestamp":"2020-10-21T15:05:34.833Z","pid":13340,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:05:34.83359 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:05:34.83374 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:05:34.83379   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:05:34.83379   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:05:34.83380   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:05:34.83380   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:05:34.83380   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:05:34.83381   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:05:34.83383   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:05:34.83384   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:05:34.83384   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:05:34.83384   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:05:34.83384   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:05:34.83385   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:05:34.83386   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:05:34.83386   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:05:34.83386   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:05:34.83387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:05:34.83387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:05:34.83387   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:05:34.83394   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:05:34.83394   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:05:34.83394   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:05:34.83395   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:05:34.83398   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:05:34.83399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:05:34.83399   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:05:34.83400   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:05:34.83400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:34.83400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:05:34.83400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:05:34.83401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:34.83401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:05:34.83402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:05:34.83402   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:05:34.83403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:05:34.83403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:05:34.83403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:05:34.83403   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:05:34.83404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:05:34.83404   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:05:34.83405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:05:34.83406   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:05:34.83406   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:05:34.83411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:05:34.83412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:05:34.83412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:05:34.83412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:05:34.83412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:05:34.83413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:05:34.83413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:05:34.83413   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:05:34.83417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:05:34.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:05:34.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:05:34.83418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:05:34.83418   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:05:34.83419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:05:34.83419   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:05:34.83419   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:05:34.83419   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:05:34.83419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:05:34.83420   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:05:34.83420   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:05:34.83421   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:05:34.83421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:05:34.83421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:05:34.83422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:05:34.83422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:05:34.83422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:05:34.83422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:05:34.83423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:05:34.83425   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:05:34.83426   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:05:34.83427   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:05:34.83427   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:05:34.83427   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:05:35.76888 {"timestamp":"2020-10-21T15:05:35.768Z","pid":13811,"message":"Puma starting in cluster mode..."}
2020-10-21_15:05:35.76900 {"timestamp":"2020-10-21T15:05:35.768Z","pid":13811,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:05:35.76906 {"timestamp":"2020-10-21T15:05:35.769Z","pid":13811,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:05:35.76912 {"timestamp":"2020-10-21T15:05:35.769Z","pid":13811,"message":"* Environment: production"}
2020-10-21_15:05:35.76929 {"timestamp":"2020-10-21T15:05:35.769Z","pid":13811,"message":"* Process workers: 2"}
2020-10-21_15:05:35.76936 {"timestamp":"2020-10-21T15:05:35.769Z","pid":13811,"message":"* Preloading application"}
2020-10-21_15:05:51.66428 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:05:52.54017 {"timestamp":"2020-10-21T15:05:52.539Z","pid":13811,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:05:52.54067 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:05:52.54099 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:05:52.54100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:05:52.54100   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:05:52.54101   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:05:52.54101   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:05:52.54101   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:05:52.54102   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:05:52.54102   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:05:52.54103   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:05:52.54103   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:05:52.54104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:05:52.54104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:05:52.54104   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:05:52.54116   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:05:52.54122   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:05:52.54123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:05:52.54123   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:05:52.54124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:05:52.54124   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:05:52.54125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:05:52.54125   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:05:52.54126   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:05:52.54126   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:05:52.54128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:05:52.54128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:05:52.54128   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:05:52.54129   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:05:52.54129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:52.54129   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:05:52.54130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:05:52.54130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:05:52.54130   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:05:52.54132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:05:52.54132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:05:52.54132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:05:52.54133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:05:52.54133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:05:52.54134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:05:52.54134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:05:52.54134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:05:52.54143   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:05:52.54144   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:05:52.54150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:05:52.54150   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:05:52.54151   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:05:52.54151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:05:52.54151   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:05:52.54152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:05:52.54152   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:05:52.54153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:05:52.54153   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:05:52.54155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:05:52.54155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:05:52.54155   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:05:52.54156   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:05:52.54156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:05:52.54156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:05:52.54157   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:05:52.54157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:05:52.54157   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:05:52.54158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:05:52.54158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:05:52.54158   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:05:52.54160   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:05:52.54160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:05:52.54160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:05:52.54161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:05:52.54161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:05:52.54161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:05:52.54162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:05:52.54162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:05:52.54162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:05:52.54163   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:05:52.54164   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:05:52.54164   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:05:52.54165   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:05:53.25325 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"Puma starting in cluster mode..."}
2020-10-21_15:05:53.25339 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:05:53.25349 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:05:53.25359 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"* Environment: production"}
2020-10-21_15:05:53.25372 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"* Process workers: 2"}
2020-10-21_15:05:53.25382 {"timestamp":"2020-10-21T15:05:53.253Z","pid":14311,"message":"* Preloading application"}
2020-10-21_15:06:09.16365 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:06:10.23370 {"timestamp":"2020-10-21T15:06:10.233Z","pid":14311,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:06:10.23404 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:06:10.23422 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:06:10.23423   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:06:10.23423   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:06:10.23423   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:06:10.23423   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:06:10.23423   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:06:10.23424   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:06:10.23424   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:06:10.23424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:06:10.23424   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:06:10.23425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:06:10.23425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:06:10.23425   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:06:10.23426   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:06:10.23426   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:06:10.23427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:06:10.23427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:06:10.23427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:06:10.23427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:06:10.23427   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:06:10.23428   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:06:10.23428   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:06:10.23428   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:06:10.23429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:06:10.23429   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:06:10.23430   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:06:10.23430   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:06:10.23430   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:10.23430   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:06:10.23431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:06:10.23431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:10.23432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:06:10.23433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:06:10.23433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:06:10.23433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:06:10.23433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:06:10.23434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:06:10.23434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:06:10.23434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:06:10.23434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:06:10.23462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:06:10.23462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:06:10.23463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:06:10.23463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:06:10.23463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:06:10.23463   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:06:10.23464   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:06:10.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:06:10.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:06:10.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:06:10.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:06:10.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:06:10.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:06:10.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:06:10.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:06:10.23466   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:06:10.23467   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:06:10.23467   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:06:10.23467   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:06:10.23467   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:06:10.23468   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:06:10.23468   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:06:10.23468   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:06:10.23469   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:06:10.23470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:06:10.23470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:06:10.23470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:06:10.23470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:06:10.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:06:10.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:06:10.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:06:10.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:06:10.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:06:10.23473   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:06:10.23473   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:06:10.23473   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:06:11.35917 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"Puma starting in cluster mode..."}
2020-10-21_15:06:11.35920 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:06:11.35922 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:06:11.35922 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"* Environment: production"}
2020-10-21_15:06:11.35923 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"* Process workers: 2"}
2020-10-21_15:06:11.35947 {"timestamp":"2020-10-21T15:06:11.359Z","pid":14827,"message":"* Preloading application"}
2020-10-21_15:06:26.47669 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:06:27.09802 {"timestamp":"2020-10-21T15:06:27.097Z","pid":14827,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:06:27.09844 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:06:27.09871 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:06:27.09873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:06:27.09873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:06:27.09873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:06:27.09874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:06:27.09874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:06:27.09874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:06:27.09875   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:06:27.09875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:06:27.09876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:06:27.09877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:06:27.09877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:06:27.09877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:06:27.09879   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:06:27.09879   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:06:27.09880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:06:27.09880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:06:27.09880   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:06:27.09881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:06:27.09881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:06:27.09881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:06:27.09882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:06:27.09882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:06:27.09883   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:06:27.09884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:06:27.09884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:06:27.09885   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:06:27.09885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:27.09885   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:06:27.09886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:06:27.09886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:27.09886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:06:27.09888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:06:27.09888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:06:27.09888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:06:27.09889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:06:27.09889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:06:27.09889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:06:27.09890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:06:27.09891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:06:27.09892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:06:27.09892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:06:27.09893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:06:27.09893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:06:27.09893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:06:27.09894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:06:27.09894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:06:27.09894   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:06:27.09895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:06:27.09895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:06:27.09895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:06:27.09897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:06:27.09897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:06:27.09897   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:06:27.09898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:06:27.09898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:06:27.09898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:06:27.09899   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:06:27.09899   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:06:27.09899   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:06:27.09900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:06:27.09900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:06:27.09900   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:06:27.09902   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:06:27.09902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:06:27.09902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:06:27.09903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:06:27.09903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:06:27.09903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:06:27.09904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:06:27.09904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:06:27.09904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:06:27.09905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:06:27.09907   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:06:27.09907   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:06:27.09907   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:06:28.06550 {"timestamp":"2020-10-21T15:06:28.065Z","pid":15321,"message":"Puma starting in cluster mode..."}
2020-10-21_15:06:28.06575 {"timestamp":"2020-10-21T15:06:28.065Z","pid":15321,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:06:28.06598 {"timestamp":"2020-10-21T15:06:28.065Z","pid":15321,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:06:28.06620 {"timestamp":"2020-10-21T15:06:28.066Z","pid":15321,"message":"* Environment: production"}
2020-10-21_15:06:28.06639 {"timestamp":"2020-10-21T15:06:28.066Z","pid":15321,"message":"* Process workers: 2"}
2020-10-21_15:06:28.06659 {"timestamp":"2020-10-21T15:06:28.066Z","pid":15321,"message":"* Preloading application"}
2020-10-21_15:06:43.83693 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:06:44.97177 {"timestamp":"2020-10-21T15:06:44.971Z","pid":15321,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:06:44.97215 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:06:44.97219 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:06:44.97220   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:06:44.97221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:06:44.97221   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:06:44.97222   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:06:44.97222   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:06:44.97240   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:06:44.97241   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:06:44.97241   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:06:44.97241   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:06:44.97242   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:06:44.97242   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:06:44.97242   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:06:44.97244   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:06:44.97245   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:06:44.97285   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:06:44.97295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:06:44.97296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:06:44.97297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:06:44.97297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:06:44.97316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:06:44.97324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:06:44.97330   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:06:44.97347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:06:44.97348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:06:44.97348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:06:44.97349   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:06:44.97349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:44.97364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:06:44.97365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:06:44.97365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:06:44.97366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:06:44.97367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:06:44.97367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:06:44.97368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:06:44.97368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:06:44.97369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:06:44.97369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:06:44.97390   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:06:44.97391   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:06:44.97393   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:06:44.97393   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:06:44.97393   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:06:44.97394   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:06:44.97394   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:06:44.97394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:06:44.97408   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:06:44.97408   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:06:44.97409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:06:44.97409   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:06:44.97410   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:06:44.97411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:06:44.97411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:06:44.97411   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:06:44.97412   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:06:44.97412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:06:44.97412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:06:44.97412   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:06:44.97412   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:06:44.97413   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:06:44.97413   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:06:44.97413   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:06:44.97413   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:06:44.97414   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:06:44.97415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:06:44.97443   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:06:44.97444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:06:44.97444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:06:44.97445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:06:44.97445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:06:44.97445   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:06:44.97446   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:06:44.97446   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:06:44.97459   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:06:44.97459   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:06:44.97459   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:06:46.12621 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"Puma starting in cluster mode..."}
2020-10-21_15:06:46.12624 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:06:46.12626 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:06:46.12626 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"* Environment: production"}
2020-10-21_15:06:46.12627 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"* Process workers: 2"}
2020-10-21_15:06:46.12653 {"timestamp":"2020-10-21T15:06:46.126Z","pid":15854,"message":"* Preloading application"}
2020-10-21_15:07:01.21472 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:07:02.23385 {"timestamp":"2020-10-21T15:07:02.233Z","pid":15854,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:07:02.23420 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:07:02.23442 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:07:02.23443   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:07:02.23444   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:07:02.23444   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:07:02.23445   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:07:02.23445   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:07:02.23445   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:07:02.23446   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:07:02.23446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:07:02.23446   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:07:02.23447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:07:02.23447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:07:02.23447   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:07:02.23450   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:07:02.23450   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:07:02.23451   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:07:02.23451   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:07:02.23452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:07:02.23452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:07:02.23452   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:07:02.23453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:07:02.23453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:07:02.23453   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:07:02.23455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:07:02.23455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:07:02.23455   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:07:02.23456   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:07:02.23456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:02.23456   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:07:02.23457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:07:02.23457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:02.23458   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:07:02.23460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:07:02.23460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:07:02.23460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:07:02.23461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:07:02.23461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:07:02.23461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:07:02.23462   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:07:02.23462   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:07:02.23463   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:07:02.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:07:02.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:07:02.23464   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:07:02.23465   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:07:02.23465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:07:02.23465   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:07:02.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:07:02.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:07:02.23466   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:07:02.23467   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:07:02.23468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:07:02.23468   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:07:02.23469   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:07:02.23469   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:07:02.23469   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:07:02.23470   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:07:02.23470   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:07:02.23470   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:07:02.23471   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:07:02.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:07:02.23471   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:07:02.23472   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:07:02.23473   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:07:02.23474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:07:02.23474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:07:02.23474   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:07:02.23475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:07:02.23475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:07:02.23475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:07:02.23476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:07:02.23476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:07:02.23476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:07:02.23478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:07:02.23478   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:07:02.23478   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:07:03.23563 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"Puma starting in cluster mode..."}
2020-10-21_15:07:03.23566 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:07:03.23567 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:07:03.23567 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"* Environment: production"}
2020-10-21_15:07:03.23567 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"* Process workers: 2"}
2020-10-21_15:07:03.23568 {"timestamp":"2020-10-21T15:07:03.235Z","pid":16348,"message":"* Preloading application"}
2020-10-21_15:07:20.71121 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:07:21.90438 {"timestamp":"2020-10-21T15:07:21.904Z","pid":16348,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:07:21.90485 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:07:21.90499 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:07:21.90500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:07:21.90500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:07:21.90501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:07:21.90501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:07:21.90501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:07:21.90502   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:07:21.90502   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:07:21.90502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:07:21.90502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:07:21.90503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:07:21.90504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:07:21.90504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:07:21.90505   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:07:21.90505   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:07:21.90505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:07:21.90506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:07:21.90506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:07:21.90506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:07:21.90506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:07:21.90507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:07:21.90507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:07:21.90507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:07:21.90508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:07:21.90508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:07:21.90509   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:07:21.90509   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:07:21.90509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:21.90509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:07:21.90510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:07:21.90510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:21.90510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:07:21.90511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:07:21.90512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:07:21.90512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:07:21.90512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:07:21.90512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:07:21.90512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:07:21.90513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:07:21.90513   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:07:21.90514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:07:21.90515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:07:21.90515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:07:21.90515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:07:21.90515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:07:21.90516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:07:21.90516   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:07:21.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:07:21.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:07:21.90516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:07:21.90517   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:07:21.90518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:07:21.90518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:07:21.90518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:07:21.90518   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:07:21.90519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:07:21.90519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:07:21.90519   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:07:21.90519   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:07:21.90519   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:07:21.90520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:07:21.90520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:07:21.90520   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:07:21.90521   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:07:21.90521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:07:21.90522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:07:21.90522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:07:21.90522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:07:21.90522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:07:21.90523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:07:21.90523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:07:21.90523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:07:21.90523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:07:21.90524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:07:21.90525   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:07:21.90525   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:07:22.83828 {"timestamp":"2020-10-21T15:07:22.838Z","pid":16910,"message":"Puma starting in cluster mode..."}
2020-10-21_15:07:22.83854 {"timestamp":"2020-10-21T15:07:22.838Z","pid":16910,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:07:22.83868 {"timestamp":"2020-10-21T15:07:22.838Z","pid":16910,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:07:22.83882 {"timestamp":"2020-10-21T15:07:22.838Z","pid":16910,"message":"* Environment: production"}
2020-10-21_15:07:22.83897 {"timestamp":"2020-10-21T15:07:22.838Z","pid":16910,"message":"* Process workers: 2"}
2020-10-21_15:07:22.83913 {"timestamp":"2020-10-21T15:07:22.839Z","pid":16910,"message":"* Preloading application"}
2020-10-21_15:07:37.55309 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:07:38.77555 {"timestamp":"2020-10-21T15:07:38.775Z","pid":16910,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:07:38.77608 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:07:38.77639 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:07:38.77641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:07:38.77641   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:07:38.77642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:07:38.77642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:07:38.77642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:07:38.77643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:07:38.77643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:07:38.77643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:07:38.77644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:07:38.77644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:07:38.77644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:07:38.77645   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:07:38.77647   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:07:38.77647   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:07:38.77647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:07:38.77648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:07:38.77648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:07:38.77648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:07:38.77648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:07:38.77649   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:07:38.77649   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:07:38.77650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:07:38.77651   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:07:38.77651   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:07:38.77652   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:07:38.77652   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:07:38.77652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:38.77652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:07:38.77652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:07:38.77653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:38.77653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:07:38.77654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:07:38.77654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:07:38.77654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:07:38.77655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:07:38.77655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:07:38.77655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:07:38.77655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:07:38.77656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:07:38.77657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:07:38.77657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:07:38.77657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:07:38.77657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:07:38.77658   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:07:38.77658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:07:38.77658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:07:38.77659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:07:38.77659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:07:38.77659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:07:38.77659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:07:38.77661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:07:38.77661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:07:38.77662   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:07:38.77687   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:07:38.77688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:07:38.77688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:07:38.77689   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:07:38.77690   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:07:38.77690   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:07:38.77690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:07:38.77690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:07:38.77691   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:07:38.77692   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:07:38.77692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:07:38.77692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:07:38.77692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:07:38.77693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:07:38.77693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:07:38.77693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:07:38.77693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:07:38.77694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:07:38.77694   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:07:38.77695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:07:38.77695   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:07:38.77695   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:07:40.03143 {"timestamp":"2020-10-21T15:07:40.031Z","pid":17410,"message":"Puma starting in cluster mode..."}
2020-10-21_15:07:40.03159 {"timestamp":"2020-10-21T15:07:40.031Z","pid":17410,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:07:40.03170 {"timestamp":"2020-10-21T15:07:40.031Z","pid":17410,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:07:40.03184 {"timestamp":"2020-10-21T15:07:40.031Z","pid":17410,"message":"* Environment: production"}
2020-10-21_15:07:40.03197 {"timestamp":"2020-10-21T15:07:40.031Z","pid":17410,"message":"* Process workers: 2"}
2020-10-21_15:07:40.03210 {"timestamp":"2020-10-21T15:07:40.032Z","pid":17410,"message":"* Preloading application"}
2020-10-21_15:07:56.83489 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:07:57.43638 {"timestamp":"2020-10-21T15:07:57.436Z","pid":17410,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:07:57.43662 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:07:57.43678 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:07:57.43679   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:07:57.43679   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:07:57.43679   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:07:57.43679   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:07:57.43680   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:07:57.43680   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:07:57.43680   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:07:57.43680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:07:57.43680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:07:57.43681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:07:57.43681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:07:57.43681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:07:57.43682   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:07:57.43682   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:07:57.43683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:07:57.43683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:07:57.43683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:07:57.43683   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:07:57.43684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:07:57.43684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:07:57.43684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:07:57.43684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:07:57.43685   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:07:57.43686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:07:57.43686   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:07:57.43686   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:07:57.43686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:57.43686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:07:57.43687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:07:57.43687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:07:57.43687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:07:57.43689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:07:57.43689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:07:57.43689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:07:57.43689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:07:57.43690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:07:57.43690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:07:57.43690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:07:57.43690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:07:57.43691   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:07:57.43691   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:07:57.43692   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:07:57.43692   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:07:57.43692   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:07:57.43692   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:07:57.43693   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:07:57.43693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:07:57.43693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:07:57.43693   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:07:57.43694   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:07:57.43695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:07:57.43695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:07:57.43695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:07:57.43695   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:07:57.43695   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:07:57.43696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:07:57.43696   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:07:57.43696   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:07:57.43696   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:07:57.43696   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:07:57.43697   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:07:57.43697   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:07:57.43698   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:07:57.43698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:07:57.43698   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:07:57.43699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:07:57.43699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:07:57.43699   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:07:57.43700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:07:57.43700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:07:57.43700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:07:57.43700   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:07:57.43701   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:07:57.43702   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:07:57.43702   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:07:58.13205 {"timestamp":"2020-10-21T15:07:58.131Z","pid":17943,"message":"Puma starting in cluster mode..."}
2020-10-21_15:07:58.13229 {"timestamp":"2020-10-21T15:07:58.132Z","pid":17943,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:07:58.13243 {"timestamp":"2020-10-21T15:07:58.132Z","pid":17943,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:07:58.13261 {"timestamp":"2020-10-21T15:07:58.132Z","pid":17943,"message":"* Environment: production"}
2020-10-21_15:07:58.13279 {"timestamp":"2020-10-21T15:07:58.132Z","pid":17943,"message":"* Process workers: 2"}
2020-10-21_15:07:58.13297 {"timestamp":"2020-10-21T15:07:58.132Z","pid":17943,"message":"* Preloading application"}
2020-10-21_15:08:13.46206 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:08:14.40894 {"timestamp":"2020-10-21T15:08:14.408Z","pid":17943,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:08:14.40927 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:08:14.40944 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:08:14.40945   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:08:14.40945   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:08:14.40945   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:08:14.40946   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:08:14.40946   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:08:14.40946   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:08:14.40946   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:08:14.40946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:08:14.40947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:08:14.40947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:08:14.40947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:08:14.40947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:08:14.40949   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:08:14.40949   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:08:14.40950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:08:14.40950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:08:14.40950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:08:14.40950   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:08:14.40951   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:08:14.40951   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:08:14.40951   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:08:14.40951   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:08:14.40952   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:08:14.40953   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:08:14.40953   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:08:14.40953   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:08:14.40953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:14.40954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:08:14.40954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:08:14.40954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:14.40954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:08:14.40955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:08:14.40956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:08:14.40956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:08:14.40956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:08:14.40956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:08:14.40957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:08:14.40957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:08:14.40957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:08:14.40958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:08:14.40958   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:08:14.40959   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:08:14.40959   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:08:14.40960   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:08:14.40960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:08:14.40960   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:08:14.40960   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:08:14.40961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:08:14.40961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:08:14.40961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:08:14.40962   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:08:14.40962   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:08:14.40962   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:08:14.40963   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:08:14.40963   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:08:14.40963   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:08:14.40963   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:08:14.40964   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:08:14.40964   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:08:14.40964   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:08:14.40964   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:08:14.40964   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:08:14.40965   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:08:14.40966   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:08:14.40966   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:08:14.40966   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:08:14.40966   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:08:14.40967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:08:14.40967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:08:14.40967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:08:14.40967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:08:14.40968   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:08:14.40969   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:08:14.40969   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:08:14.40969   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:08:15.26908 {"timestamp":"2020-10-21T15:08:15.269Z","pid":18443,"message":"Puma starting in cluster mode..."}
2020-10-21_15:08:15.26941 {"timestamp":"2020-10-21T15:08:15.269Z","pid":18443,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:08:15.26970 {"timestamp":"2020-10-21T15:08:15.269Z","pid":18443,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:08:15.26993 {"timestamp":"2020-10-21T15:08:15.269Z","pid":18443,"message":"* Environment: production"}
2020-10-21_15:08:15.27014 {"timestamp":"2020-10-21T15:08:15.270Z","pid":18443,"message":"* Process workers: 2"}
2020-10-21_15:08:15.27038 {"timestamp":"2020-10-21T15:08:15.270Z","pid":18443,"message":"* Preloading application"}
2020-10-21_15:08:28.99494 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:08:29.92999 {"timestamp":"2020-10-21T15:08:29.929Z","pid":18443,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:08:29.93014 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:08:29.93037 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:08:29.93038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:08:29.93038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:08:29.93038   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:08:29.93039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:08:29.93039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:08:29.93039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:08:29.93039   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:08:29.93040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:08:29.93040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:08:29.93040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:08:29.93040   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:08:29.93041   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:08:29.93042   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:08:29.93042   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:08:29.93042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:08:29.93042   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:08:29.93043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:08:29.93043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:08:29.93043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:08:29.93043   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:08:29.93044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:08:29.93044   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:08:29.93045   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:08:29.93046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:08:29.93046   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:08:29.93046   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:08:29.93046   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:29.93047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:08:29.93047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:08:29.93047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:29.93047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:08:29.93048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:08:29.93049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:08:29.93049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:08:29.93049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:08:29.93049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:08:29.93050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:08:29.93050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:08:29.93050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:08:29.93051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:08:29.93051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:08:29.93052   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:08:29.93052   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:08:29.93052   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:08:29.93052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:08:29.93053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:08:29.93053   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:08:29.93053   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:08:29.93053   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:08:29.93054   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:08:29.93055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:08:29.93055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:08:29.93055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:08:29.93055   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:08:29.93056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:08:29.93056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:08:29.93056   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:08:29.93056   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:08:29.93057   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:08:29.93057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:08:29.93057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:08:29.93057   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:08:29.93058   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:08:29.93059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:08:29.93059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:08:29.93059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:08:29.93059   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:08:29.93060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:08:29.93060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:08:29.93060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:08:29.93060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:08:29.93060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:08:29.93062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:08:29.93062   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:08:29.93062   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:08:30.77041 {"timestamp":"2020-10-21T15:08:30.770Z","pid":18914,"message":"Puma starting in cluster mode..."}
2020-10-21_15:08:30.77066 {"timestamp":"2020-10-21T15:08:30.770Z","pid":18914,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:08:30.77080 {"timestamp":"2020-10-21T15:08:30.770Z","pid":18914,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:08:30.77095 {"timestamp":"2020-10-21T15:08:30.770Z","pid":18914,"message":"* Environment: production"}
2020-10-21_15:08:30.77110 {"timestamp":"2020-10-21T15:08:30.771Z","pid":18914,"message":"* Process workers: 2"}
2020-10-21_15:08:30.77125 {"timestamp":"2020-10-21T15:08:30.771Z","pid":18914,"message":"* Preloading application"}
2020-10-21_15:08:44.05489 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:08:45.12284 {"timestamp":"2020-10-21T15:08:45.122Z","pid":18914,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:08:45.12331 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:08:45.12353 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:08:45.12355   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:08:45.12355   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:08:45.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:08:45.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:08:45.12356   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:08:45.12357   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:08:45.12357   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:08:45.12357   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:08:45.12358   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:08:45.12358   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:08:45.12358   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:08:45.12359   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:08:45.12360   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:08:45.12361   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:08:45.12361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:08:45.12361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:08:45.12362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:08:45.12362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:08:45.12362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:08:45.12363   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:08:45.12363   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:08:45.12363   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:08:45.12365   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:08:45.12365   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:08:45.12366   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:08:45.12366   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:08:45.12366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:45.12367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:08:45.12367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:08:45.12367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:08:45.12368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:08:45.12369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:08:45.12370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:08:45.12370   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:08:45.12371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:08:45.12371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:08:45.12371   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:08:45.12372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:08:45.12372   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:08:45.12373   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:08:45.12374   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:08:45.12374   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:08:45.12374   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:08:45.12375   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:08:45.12375   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:08:45.12375   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:08:45.12376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:08:45.12376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:08:45.12376   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:08:45.12377   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:08:45.12378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:08:45.12378   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:08:45.12379   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:08:45.12379   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:08:45.12379   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:08:45.12380   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:08:45.12380   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:08:45.12380   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:08:45.12381   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:08:45.12381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:08:45.12381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:08:45.12382   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:08:45.12383   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:08:45.12383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:08:45.12384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:08:45.12384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:08:45.12385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:08:45.12385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:08:45.12385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:08:45.12386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:08:45.12386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:08:45.12386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:08:45.12388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:08:45.12388   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:08:45.12389   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:08:46.14250 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"Puma starting in cluster mode..."}
2020-10-21_15:08:46.14260 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:08:46.14267 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:08:46.14278 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"* Environment: production"}
2020-10-21_15:08:46.14285 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"* Process workers: 2"}
2020-10-21_15:08:46.14292 {"timestamp":"2020-10-21T15:08:46.142Z","pid":19373,"message":"* Preloading application"}
2020-10-21_15:09:00.38632 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:09:01.02307 {"timestamp":"2020-10-21T15:09:01.022Z","pid":19373,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:09:01.02331 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:09:01.02344 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:09:01.02344   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:09:01.02345   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:09:01.02345   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:09:01.02345   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:09:01.02346   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:09:01.02346   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:09:01.02346   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:09:01.02346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:09:01.02347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:09:01.02347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:09:01.02347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:09:01.02347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:09:01.02348   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:09:01.02349   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:09:01.02350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:09:01.02350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:09:01.02350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:09:01.02350   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:09:01.02351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:09:01.02351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:09:01.02351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:09:01.02351   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:09:01.02352   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:09:01.02353   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:09:01.02353   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:09:01.02353   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:09:01.02353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:01.02353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:09:01.02354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:09:01.02354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:01.02354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:09:01.02355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:09:01.02355   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:09:01.02356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:09:01.02356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:09:01.02356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:09:01.02356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:09:01.02357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:09:01.02357   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:09:01.02358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:09:01.02358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:09:01.02358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:09:01.02359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:09:01.02359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:09:01.02359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:09:01.02360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:09:01.02360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:09:01.02360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:09:01.02360   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:09:01.02361   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:09:01.02362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:09:01.02362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:09:01.02362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:09:01.02362   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:09:01.02362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:09:01.02363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:09:01.02363   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:09:01.02363   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:09:01.02363   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:09:01.02364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:09:01.02364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:09:01.02364   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:09:01.02365   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:09:01.02365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:09:01.02365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:09:01.02366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:09:01.02366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:09:01.02366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:09:01.02366   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:09:01.02367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:09:01.02367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:09:01.02367   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:09:01.02376   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:09:01.02376   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:09:01.02376   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:09:01.82954 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"Puma starting in cluster mode..."}
2020-10-21_15:09:01.82958 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:09:01.82959 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:09:01.82961 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"* Environment: production"}
2020-10-21_15:09:01.82961 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"* Process workers: 2"}
2020-10-21_15:09:01.82987 {"timestamp":"2020-10-21T15:09:01.829Z","pid":19843,"message":"* Preloading application"}
2020-10-21_15:09:16.59652 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:09:17.60331 {"timestamp":"2020-10-21T15:09:17.603Z","pid":19843,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:09:17.60358 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:09:17.60372 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:09:17.60373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:09:17.60373   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:09:17.60374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:09:17.60374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:09:17.60374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:09:17.60374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:09:17.60375   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:09:17.60375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:09:17.60375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:09:17.60375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:09:17.60375   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:09:17.60376   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:09:17.60377   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:09:17.60377   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:09:17.60377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:09:17.60378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:09:17.60378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:09:17.60378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:09:17.60378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:09:17.60379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:09:17.60379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:09:17.60379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:09:17.60380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:09:17.60381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:09:17.60381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:09:17.60382   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:09:17.60382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:17.60382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:09:17.60383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:09:17.60383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:17.60383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:09:17.60384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:09:17.60384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:09:17.60385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:09:17.60385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:09:17.60385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:09:17.60385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:09:17.60386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:09:17.60386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:09:17.60387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:09:17.60387   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:09:17.60388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:09:17.60388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:09:17.60388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:09:17.60388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:09:17.60389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:09:17.60389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:09:17.60389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:09:17.60389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:09:17.60390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:09:17.60391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:09:17.60391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:09:17.60391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:09:17.60391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:09:17.60392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:09:17.60392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:09:17.60392   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:09:17.60393   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:09:17.60393   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:09:17.60393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:09:17.60393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:09:17.60394   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:09:17.60395   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:09:17.60395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:09:17.60395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:09:17.60395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:09:17.60396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:09:17.60396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:09:17.60396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:09:17.60396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:09:17.60397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:09:17.60397   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:09:17.60398   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:09:17.60398   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:09:17.60399   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:09:18.38046 {"timestamp":"2020-10-21T15:09:18.380Z","pid":20330,"message":"Puma starting in cluster mode..."}
2020-10-21_15:09:18.38071 {"timestamp":"2020-10-21T15:09:18.380Z","pid":20330,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:09:18.38086 {"timestamp":"2020-10-21T15:09:18.380Z","pid":20330,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:09:18.38099 {"timestamp":"2020-10-21T15:09:18.380Z","pid":20330,"message":"* Environment: production"}
2020-10-21_15:09:18.38111 {"timestamp":"2020-10-21T15:09:18.381Z","pid":20330,"message":"* Process workers: 2"}
2020-10-21_15:09:18.38124 {"timestamp":"2020-10-21T15:09:18.381Z","pid":20330,"message":"* Preloading application"}
2020-10-21_15:09:31.39294 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:09:32.29614 {"timestamp":"2020-10-21T15:09:32.296Z","pid":20330,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:09:32.29647 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:09:32.29671 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:09:32.29672   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:09:32.29673   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:09:32.29674   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:09:32.29674   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:09:32.29674   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:09:32.29674   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:09:32.29675   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:09:32.29675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:09:32.29675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:09:32.29675   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:09:32.29676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:09:32.29676   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:09:32.29677   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:09:32.29677   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:09:32.29678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:09:32.29678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:09:32.29678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:09:32.29678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:09:32.29678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:09:32.29679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:09:32.29679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:09:32.29679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:09:32.29680   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:09:32.29681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:09:32.29681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:09:32.29681   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:09:32.29682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:32.29682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:09:32.29682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:09:32.29682   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:32.29683   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:09:32.29684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:09:32.29684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:09:32.29685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:09:32.29685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:09:32.29686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:09:32.29686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:09:32.29686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:09:32.29687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:09:32.29688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:09:32.29688   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:09:32.29689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:09:32.29689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:09:32.29689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:09:32.29689   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:09:32.29690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:09:32.29690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:09:32.29690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:09:32.29706   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:09:32.29707   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:09:32.29708   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:09:32.29709   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:09:32.29709   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:09:32.29709   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:09:32.29709   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:09:32.29710   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:09:32.29710   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:09:32.29710   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:09:32.29710   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:09:32.29711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:09:32.29711   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:09:32.29711   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:09:32.29712   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:09:32.29712   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:09:32.29713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:09:32.29713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:09:32.29713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:09:32.29713   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:09:32.29714   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:09:32.29715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:09:32.29715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:09:32.29715   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:09:32.29717   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:09:32.29717   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:09:32.29717   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:09:33.10892 {"timestamp":"2020-10-21T15:09:33.108Z","pid":20788,"message":"Puma starting in cluster mode..."}
2020-10-21_15:09:33.10935 {"timestamp":"2020-10-21T15:09:33.109Z","pid":20788,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:09:33.10949 {"timestamp":"2020-10-21T15:09:33.109Z","pid":20788,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:09:33.10968 {"timestamp":"2020-10-21T15:09:33.109Z","pid":20788,"message":"* Environment: production"}
2020-10-21_15:09:33.10986 {"timestamp":"2020-10-21T15:09:33.109Z","pid":20788,"message":"* Process workers: 2"}
2020-10-21_15:09:33.11004 {"timestamp":"2020-10-21T15:09:33.109Z","pid":20788,"message":"* Preloading application"}
2020-10-21_15:09:46.17363 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:09:46.88838 {"timestamp":"2020-10-21T15:09:46.888Z","pid":20788,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:09:46.88878 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:09:46.88900 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:09:46.88901   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:09:46.88902   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:09:46.88902   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:09:46.88902   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:09:46.88903   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:09:46.88903   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:09:46.88903   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:09:46.88903   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:09:46.88904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:09:46.88904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:09:46.88911   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:09:46.88912   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:09:46.88917   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:09:46.88918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:09:46.88918   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:09:46.88919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:09:46.88919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:09:46.88920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:09:46.88920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:09:46.88920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:09:46.88920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:09:46.88921   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:09:46.88934   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:09:46.88935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:09:46.88935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:09:46.88935   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:09:46.88936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:46.88936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:09:46.88936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:09:46.88936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:09:46.88937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:09:46.88938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:09:46.88938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:09:46.88938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:09:46.88939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:09:46.88946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:09:46.88947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:09:46.88947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:09:46.88947   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:09:46.88953   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:09:46.88953   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:09:46.88954   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:09:46.88954   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:09:46.88954   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:09:46.88954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:09:46.88955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:09:46.88955   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:09:46.88956   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:09:46.88956   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:09:46.88956   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:09:46.88973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:09:46.88973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:09:46.88973   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:09:46.88974   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:09:46.88974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:09:46.88974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:09:46.88974   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:09:46.88974   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:09:46.88979   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:09:46.88980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:09:46.88980   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:09:46.88980   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:09:46.88998   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:09:46.88998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:09:46.88998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:09:46.88999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:09:46.88999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:09:46.88999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:09:46.88999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:09:46.88999   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:09:46.89000   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:09:46.89003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:09:46.89017   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:09:46.89018   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:09:46.89018   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:09:47.64791 {"timestamp":"2020-10-21T15:09:47.647Z","pid":21237,"message":"Puma starting in cluster mode..."}
2020-10-21_15:09:47.64795 {"timestamp":"2020-10-21T15:09:47.647Z","pid":21237,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:09:47.64796 {"timestamp":"2020-10-21T15:09:47.647Z","pid":21237,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:09:47.64796 {"timestamp":"2020-10-21T15:09:47.647Z","pid":21237,"message":"* Environment: production"}
2020-10-21_15:09:47.64822 {"timestamp":"2020-10-21T15:09:47.648Z","pid":21237,"message":"* Process workers: 2"}
2020-10-21_15:09:47.64825 {"timestamp":"2020-10-21T15:09:47.648Z","pid":21237,"message":"* Preloading application"}
2020-10-21_15:10:01.21847 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:10:02.01201 {"timestamp":"2020-10-21T15:10:02.011Z","pid":21237,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:10:02.01222 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:10:02.01223 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:10:02.01223   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:10:02.01224   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:10:02.01224   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:10:02.01224   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:10:02.01224   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:10:02.01225   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:10:02.01225   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:10:02.01225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:10:02.01225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:10:02.01225   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:10:02.01226   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:10:02.01226   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:10:02.01227   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:10:02.01227   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:10:02.01227   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:10:02.01228   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:10:02.01228   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:10:02.01228   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:10:02.01228   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:10:02.01229   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:10:02.01229   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:10:02.01230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:10:02.01230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:10:02.01230   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:10:02.01231   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:10:02.01231   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:10:02.01232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:02.01232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:10:02.01232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:10:02.01232   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:02.01233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:10:02.01234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:10:02.01234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:10:02.01234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:10:02.01234   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:10:02.01235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:10:02.01235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:10:02.01235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:10:02.01235   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:10:02.01236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:10:02.01236   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:10:02.01237   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:10:02.01237   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:10:02.01237   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:10:02.01237   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:10:02.01238   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:10:02.01238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:10:02.01238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:10:02.01238   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:10:02.01239   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:10:02.01239   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:10:02.01240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:10:02.01240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:10:02.01240   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:10:02.01240   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:10:02.01241   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:10:02.01241   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:10:02.01241   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:10:02.01242   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:10:02.01242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:10:02.01242   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:10:02.01243   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:10:02.01245   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:10:02.01245   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:10:02.01246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:10:02.01246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:10:02.01246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:10:02.01246   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:10:02.01247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:10:02.01247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:10:02.01247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:10:02.01247   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:10:02.01248   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:10:02.01249   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:10:02.01249   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:10:02.95029 {"timestamp":"2020-10-21T15:10:02.950Z","pid":21675,"message":"Puma starting in cluster mode..."}
2020-10-21_15:10:02.95054 {"timestamp":"2020-10-21T15:10:02.950Z","pid":21675,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:10:02.95069 {"timestamp":"2020-10-21T15:10:02.950Z","pid":21675,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:10:02.95085 {"timestamp":"2020-10-21T15:10:02.950Z","pid":21675,"message":"* Environment: production"}
2020-10-21_15:10:02.95100 {"timestamp":"2020-10-21T15:10:02.950Z","pid":21675,"message":"* Process workers: 2"}
2020-10-21_15:10:02.95115 {"timestamp":"2020-10-21T15:10:02.951Z","pid":21675,"message":"* Preloading application"}
2020-10-21_15:10:19.58452 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:10:20.43831 {"timestamp":"2020-10-21T15:10:20.438Z","pid":21675,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:10:20.43868 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:10:20.43887 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:10:20.43887   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:10:20.43888   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:10:20.43888   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:10:20.43888   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:10:20.43889   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:10:20.43889   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:10:20.43890   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:10:20.43890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:10:20.43890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:10:20.43890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:10:20.43890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:10:20.43891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:10:20.43892   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:10:20.43892   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:10:20.43892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:10:20.43892   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:10:20.43893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:10:20.43893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:10:20.43893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:10:20.43893   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:10:20.43894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:10:20.43894   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:10:20.43895   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:10:20.43895   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:10:20.43895   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:10:20.43895   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:10:20.43896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:20.43896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:10:20.43896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:10:20.43896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:20.43897   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:10:20.43898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:10:20.43898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:10:20.43898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:10:20.43898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:10:20.43899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:10:20.43899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:10:20.43899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:10:20.43900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:10:20.43901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:10:20.43901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:10:20.43901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:10:20.43901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:10:20.43901   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:10:20.43902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:10:20.43902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:10:20.43902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:10:20.43902   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:10:20.43903   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:10:20.43903   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:10:20.43936   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:10:20.43937   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:10:20.43937   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:10:20.43937   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:10:20.43937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:10:20.43938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:10:20.43938   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:10:20.43938   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:10:20.43938   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:10:20.43938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:10:20.43939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:10:20.43939   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:10:20.43940   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:10:20.43940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:10:20.43940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:10:20.43941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:10:20.43941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:10:20.43941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:10:20.43941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:10:20.43942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:10:20.43942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:10:20.43943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:10:20.43944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:10:20.43944   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:10:20.43944   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:10:21.18065 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"Puma starting in cluster mode..."}
2020-10-21_15:10:21.18067 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:10:21.18068 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:10:21.18068 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"* Environment: production"}
2020-10-21_15:10:21.18068 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"* Process workers: 2"}
2020-10-21_15:10:21.18068 {"timestamp":"2020-10-21T15:10:21.180Z","pid":22196,"message":"* Preloading application"}
2020-10-21_15:10:34.91247 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:10:35.72491 {"timestamp":"2020-10-21T15:10:35.724Z","pid":22196,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:10:35.72538 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:10:35.72560 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:10:35.72561   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:10:35.72562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:10:35.72562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:10:35.72562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:10:35.72562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:10:35.72562   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:10:35.72563   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:10:35.72563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:10:35.72563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:10:35.72563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:10:35.72564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:10:35.72564   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:10:35.72565   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:10:35.72565   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:10:35.72566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:10:35.72566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:10:35.72566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:10:35.72567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:10:35.72567   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:10:35.72568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:10:35.72568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:10:35.72568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:10:35.72569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:10:35.72569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:10:35.72570   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:10:35.72570   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:10:35.72570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:35.72570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:10:35.72571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:10:35.72571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:35.72571   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:10:35.72572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:10:35.72572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:10:35.72573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:10:35.72573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:10:35.72573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:10:35.72573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:10:35.72574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:10:35.72574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:10:35.72575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:10:35.72575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:10:35.72576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:10:35.72576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:10:35.72576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:10:35.72576   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:10:35.72577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:10:35.72577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:10:35.72577   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:10:35.72578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:10:35.72578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:10:35.72579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:10:35.72579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:10:35.72579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:10:35.72579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:10:35.72580   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:10:35.72581   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:10:35.72581   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:10:35.72582   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:10:35.72582   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:10:35.72582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:10:35.72582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:10:35.72583   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:10:35.72584   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:10:35.72584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:10:35.72584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:10:35.72584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:10:35.72584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:10:35.72585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:10:35.72585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:10:35.72585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:10:35.72585   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:10:35.72586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:10:35.72587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:10:35.72587   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:10:35.72587   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:10:36.60874 {"timestamp":"2020-10-21T15:10:36.608Z","pid":22655,"message":"Puma starting in cluster mode..."}
2020-10-21_15:10:36.61017 {"timestamp":"2020-10-21T15:10:36.610Z","pid":22655,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:10:36.61041 {"timestamp":"2020-10-21T15:10:36.610Z","pid":22655,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:10:36.61055 {"timestamp":"2020-10-21T15:10:36.610Z","pid":22655,"message":"* Environment: production"}
2020-10-21_15:10:36.61079 {"timestamp":"2020-10-21T15:10:36.610Z","pid":22655,"message":"* Process workers: 2"}
2020-10-21_15:10:36.61097 {"timestamp":"2020-10-21T15:10:36.610Z","pid":22655,"message":"* Preloading application"}
2020-10-21_15:10:49.91303 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:10:50.66799 {"timestamp":"2020-10-21T15:10:50.667Z","pid":22655,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:10:50.66829 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:10:50.66835 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:10:50.66836   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:10:50.66836   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:10:50.66837   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:10:50.66848   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:10:50.66849   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:10:50.66849   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:10:50.66849   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:10:50.66849   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:10:50.66850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:10:50.66850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:10:50.66850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:10:50.66850   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:10:50.66852   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:10:50.66852   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:10:50.66852   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:10:50.66859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:10:50.66859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:10:50.66860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:10:50.66860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:10:50.66860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:10:50.66860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:10:50.66861   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:10:50.66862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:10:50.66862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:10:50.66862   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:10:50.66863   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:10:50.66863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:50.66886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:10:50.66886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:10:50.66887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:10:50.66887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:10:50.66888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:10:50.66888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:10:50.66889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:10:50.66889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:10:50.66889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:10:50.66889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:10:50.66890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:10:50.66890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:10:50.66891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:10:50.66891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:10:50.66891   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:10:50.66892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:10:50.66892   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:10:50.66892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:10:50.66892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:10:50.66893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:10:50.66893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:10:50.66893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:10:50.66893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:10:50.66914   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:10:50.66915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:10:50.66915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:10:50.66915   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:10:50.66915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:10:50.66916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:10:50.66916   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:10:50.66916   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:10:50.66916   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:10:50.66917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:10:50.66917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:10:50.66918   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:10:50.66919   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:10:50.66919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:10:50.66919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:10:50.66920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:10:50.66930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:10:50.66931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:10:50.66931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:10:50.66931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:10:50.66931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:10:50.66931   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:10:50.66933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:10:50.66933   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:10:50.66933   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:10:51.54971 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"Puma starting in cluster mode..."}
2020-10-21_15:10:51.54976 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:10:51.54976 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:10:51.54977 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"* Environment: production"}
2020-10-21_15:10:51.54978 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"* Process workers: 2"}
2020-10-21_15:10:51.54979 {"timestamp":"2020-10-21T15:10:51.549Z","pid":23113,"message":"* Preloading application"}
2020-10-21_15:11:05.08539 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:11:06.18709 {"timestamp":"2020-10-21T15:11:06.186Z","pid":23113,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:11:06.18726 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:11:06.18733 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:11:06.18734   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:11:06.18734   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:11:06.18734   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:11:06.18735   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:11:06.18735   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:11:06.18735   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:11:06.18735   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:11:06.18736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:11:06.18736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:11:06.18737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:11:06.18737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:11:06.18737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:11:06.18738   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:11:06.18739   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:11:06.18739   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:11:06.18739   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:11:06.18739   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:11:06.18739   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:11:06.18740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:11:06.18740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:11:06.18740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:11:06.18740   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:11:06.18741   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:11:06.18742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:11:06.18742   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:11:06.18742   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:11:06.18742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:06.18743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:11:06.18743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:11:06.18743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:06.18743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:11:06.18744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:11:06.18745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:11:06.18745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:11:06.18745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:11:06.18745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:11:06.18745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:11:06.18746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:11:06.18746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:11:06.18747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:11:06.18747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:11:06.18748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:11:06.18748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:11:06.18748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:11:06.18748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:11:06.18749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:11:06.18749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:11:06.18749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:11:06.18749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:11:06.18749   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:11:06.18750   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:11:06.18751   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:11:06.18751   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:11:06.18751   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:11:06.18751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:11:06.18751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:11:06.18752   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:11:06.18752   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:11:06.18752   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:11:06.18752   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:11:06.18753   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:11:06.18753   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:11:06.18754   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:11:06.18754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:11:06.18754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:11:06.18754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:11:06.18755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:11:06.18755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:11:06.18755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:11:06.18755   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:11:06.18756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:11:06.18756   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:11:06.18757   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:11:06.18757   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:11:06.18758   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:11:07.00183 {"timestamp":"2020-10-21T15:11:07.001Z","pid":23592,"message":"Puma starting in cluster mode..."}
2020-10-21_15:11:07.00196 {"timestamp":"2020-10-21T15:11:07.001Z","pid":23592,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:11:07.00203 {"timestamp":"2020-10-21T15:11:07.002Z","pid":23592,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:11:07.00210 {"timestamp":"2020-10-21T15:11:07.002Z","pid":23592,"message":"* Environment: production"}
2020-10-21_15:11:07.00219 {"timestamp":"2020-10-21T15:11:07.002Z","pid":23592,"message":"* Process workers: 2"}
2020-10-21_15:11:07.00226 {"timestamp":"2020-10-21T15:11:07.002Z","pid":23592,"message":"* Preloading application"}
2020-10-21_15:11:20.94361 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:11:21.61269 {"timestamp":"2020-10-21T15:11:21.612Z","pid":23592,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:11:21.61301 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:11:21.61317 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:11:21.61318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:11:21.61318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:11:21.61318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:11:21.61318   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:11:21.61319   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:11:21.61319   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:11:21.61319   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:11:21.61319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:11:21.61319   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:11:21.61320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:11:21.61320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:11:21.61320   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:11:21.61321   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:11:21.61321   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:11:21.61322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:11:21.61322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:11:21.61322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:11:21.61322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:11:21.61324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:11:21.61324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:11:21.61324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:11:21.61324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:11:21.61325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:11:21.61326   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:11:21.61326   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:11:21.61326   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:11:21.61326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:21.61327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:11:21.61327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:11:21.61327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:21.61327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:11:21.61328   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:11:21.61329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:11:21.61329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:11:21.61329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:11:21.61329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:11:21.61330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:11:21.61330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:11:21.61330   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:11:21.61331   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:11:21.61331   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:11:21.61331   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:11:21.61332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:11:21.61332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:11:21.61332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:11:21.61332   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:11:21.61333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:11:21.61333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:11:21.61333   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:11:21.61334   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:11:21.61335   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:11:21.61335   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:11:21.61335   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:11:21.61335   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:11:21.61336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:11:21.61336   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:11:21.61336   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:11:21.61336   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:11:21.61336   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:11:21.61337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:11:21.61337   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:11:21.61337   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:11:21.61338   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:11:21.61338   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:11:21.61339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:11:21.61339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:11:21.61339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:11:21.61339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:11:21.61339   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:11:21.61340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:11:21.61340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:11:21.61340   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:11:21.61341   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:11:21.61342   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:11:21.61342   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:11:22.29039 {"timestamp":"2020-10-21T15:11:22.290Z","pid":24041,"message":"Puma starting in cluster mode..."}
2020-10-21_15:11:22.29075 {"timestamp":"2020-10-21T15:11:22.290Z","pid":24041,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:11:22.29089 {"timestamp":"2020-10-21T15:11:22.290Z","pid":24041,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:11:22.29118 {"timestamp":"2020-10-21T15:11:22.291Z","pid":24041,"message":"* Environment: production"}
2020-10-21_15:11:22.29142 {"timestamp":"2020-10-21T15:11:22.291Z","pid":24041,"message":"* Process workers: 2"}
2020-10-21_15:11:22.29165 {"timestamp":"2020-10-21T15:11:22.291Z","pid":24041,"message":"* Preloading application"}
2020-10-21_15:11:36.92243 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:11:37.79689 {"timestamp":"2020-10-21T15:11:37.796Z","pid":24041,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:11:37.79725 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:11:37.79754 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:11:37.79755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:11:37.79755   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:11:37.79756   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:11:37.79756   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:11:37.79757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:11:37.79757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:11:37.79757   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:11:37.79758   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:11:37.79758   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:11:37.79758   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:11:37.79759   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:11:37.79759   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:11:37.79761   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:11:37.79761   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:11:37.79761   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:11:37.79762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:11:37.79762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:11:37.79762   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:11:37.79763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:11:37.79763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:11:37.79763   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:11:37.79764   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:11:37.79765   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:11:37.79766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:11:37.79766   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:11:37.79766   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:11:37.79767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:37.79767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:11:37.79767   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:11:37.79769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:37.79769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:11:37.79771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:11:37.79771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:11:37.79771   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:11:37.79772   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:11:37.79772   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:11:37.79772   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:11:37.79773   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:11:37.79773   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:11:37.79774   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:11:37.79775   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:11:37.79775   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:11:37.79775   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:11:37.79776   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:11:37.79776   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:11:37.79777   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:11:37.79777   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:11:37.79777   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:11:37.79778   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:11:37.79778   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:11:37.79779   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:11:37.79780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:11:37.79780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:11:37.79780   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:11:37.79781   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:11:37.79781   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:11:37.79783   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:11:37.79792   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:11:37.79793   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:11:37.79793   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:11:37.79794   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:11:37.79795   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:11:37.79843   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:11:37.79843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:11:37.79844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:11:37.79844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:11:37.79844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:11:37.79872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:11:37.79873   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:11:37.79880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:11:37.79881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:11:37.79881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:11:37.79899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:11:37.79909   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:11:37.79909   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:11:38.62739 {"timestamp":"2020-10-21T15:11:38.627Z","pid":24512,"message":"Puma starting in cluster mode..."}
2020-10-21_15:11:38.62775 {"timestamp":"2020-10-21T15:11:38.627Z","pid":24512,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:11:38.62796 {"timestamp":"2020-10-21T15:11:38.627Z","pid":24512,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:11:38.62820 {"timestamp":"2020-10-21T15:11:38.628Z","pid":24512,"message":"* Environment: production"}
2020-10-21_15:11:38.62840 {"timestamp":"2020-10-21T15:11:38.628Z","pid":24512,"message":"* Process workers: 2"}
2020-10-21_15:11:38.62888 {"timestamp":"2020-10-21T15:11:38.628Z","pid":24512,"message":"* Preloading application"}
2020-10-21_15:11:51.91575 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:11:52.70664 {"timestamp":"2020-10-21T15:11:52.706Z","pid":24512,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:11:52.70710 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:11:52.70726 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:11:52.70727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:11:52.70727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:11:52.70727   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:11:52.70728   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:11:52.70728   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:11:52.70728   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:11:52.70729   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:11:52.70729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:11:52.70729   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:11:52.70730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:11:52.70730   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:11:52.70731   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:11:52.70732   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:11:52.70732   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:11:52.70732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:11:52.70732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:11:52.70733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:11:52.70733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:11:52.70733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:11:52.70733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:11:52.70734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:11:52.70734   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:11:52.70735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:11:52.70735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:11:52.70736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:11:52.70736   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:11:52.70736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:52.70736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:11:52.70737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:11:52.70737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:11:52.70737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:11:52.70738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:11:52.70738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:11:52.70739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:11:52.70739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:11:52.70739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:11:52.70739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:11:52.70740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:11:52.70740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:11:52.70741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:11:52.70741   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:11:52.70742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:11:52.70742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:11:52.70742   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:11:52.70742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:11:52.70743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:11:52.70743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:11:52.70743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:11:52.70743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:11:52.70744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:11:52.70745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:11:52.70745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:11:52.70745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:11:52.70745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:11:52.70745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:11:52.70746   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:11:52.70746   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:11:52.70746   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:11:52.70746   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:11:52.70747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:11:52.70747   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:11:52.70747   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:11:52.70748   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:11:52.70748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:11:52.70749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:11:52.70749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:11:52.70749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:11:52.70749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:11:52.70750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:11:52.70750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:11:52.70750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:11:52.70750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:11:52.70752   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:11:52.70752   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:11:52.70752   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:11:53.59515 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"Puma starting in cluster mode..."}
2020-10-21_15:11:53.59518 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:11:53.59520 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:11:53.59520 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"* Environment: production"}
2020-10-21_15:11:53.59520 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"* Process workers: 2"}
2020-10-21_15:11:53.59542 {"timestamp":"2020-10-21T15:11:53.595Z","pid":24978,"message":"* Preloading application"}
2020-10-21_15:12:07.40383 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:12:08.49634 {"timestamp":"2020-10-21T15:12:08.496Z","pid":24978,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:12:08.49679 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:12:08.49712 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:12:08.49714   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:12:08.49714   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:12:08.49715   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:12:08.49715   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:12:08.49715   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:12:08.49715   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:12:08.49716   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:12:08.49716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:12:08.49716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:12:08.49716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:12:08.49716   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:12:08.49717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:12:08.49718   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:12:08.49718   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:12:08.49718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:12:08.49718   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:12:08.49719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:12:08.49719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:12:08.49719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:12:08.49719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:12:08.49720   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:12:08.49721   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:12:08.49722   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:12:08.49722   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:12:08.49722   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:12:08.49722   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:12:08.49723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:08.49723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:12:08.49723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:12:08.49723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:08.49723   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:12:08.49724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:12:08.49725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:12:08.49725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:12:08.49725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:12:08.49725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:12:08.49726   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:12:08.49726   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:12:08.49726   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:12:08.49727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:12:08.49727   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:12:08.49728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:12:08.49728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:12:08.49728   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:12:08.49728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:12:08.49728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:12:08.49729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:12:08.49729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:12:08.49729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:12:08.49729   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:12:08.49730   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:12:08.49731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:12:08.49731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:12:08.49731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:12:08.49731   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:12:08.49732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:12:08.49732   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:12:08.49732   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:12:08.49732   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:12:08.49732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:12:08.49733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:12:08.49733   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:12:08.49734   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:12:08.49734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:12:08.49734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:12:08.49734   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:12:08.49735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:12:08.49735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:12:08.49735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:12:08.49735   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:12:08.49736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:12:08.49736   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:12:08.49737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:12:08.49737   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:12:08.49737   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:12:09.81055 {"timestamp":"2020-10-21T15:12:09.810Z","pid":25443,"message":"Puma starting in cluster mode..."}
2020-10-21_15:12:09.81082 {"timestamp":"2020-10-21T15:12:09.810Z","pid":25443,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:12:09.81102 {"timestamp":"2020-10-21T15:12:09.810Z","pid":25443,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:12:09.81121 {"timestamp":"2020-10-21T15:12:09.811Z","pid":25443,"message":"* Environment: production"}
2020-10-21_15:12:09.81139 {"timestamp":"2020-10-21T15:12:09.811Z","pid":25443,"message":"* Process workers: 2"}
2020-10-21_15:12:09.81162 {"timestamp":"2020-10-21T15:12:09.811Z","pid":25443,"message":"* Preloading application"}
2020-10-21_15:12:23.93386 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:12:24.77096 {"timestamp":"2020-10-21T15:12:24.770Z","pid":25443,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:12:24.77122 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:12:24.77141 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:12:24.77143   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:12:24.77144   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:12:24.77144   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:12:24.77144   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:12:24.77144   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:12:24.77145   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:12:24.77145   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:12:24.77145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:12:24.77145   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:12:24.77146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:12:24.77146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:12:24.77146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:12:24.77147   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:12:24.77147   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:12:24.77148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:12:24.77148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:12:24.77148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:12:24.77165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:12:24.77165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:12:24.77165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:12:24.77166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:12:24.77166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:12:24.77167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:12:24.77167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:12:24.77168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:12:24.77168   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:12:24.77168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:24.77168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:12:24.77169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:12:24.77169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:24.77181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:12:24.77184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:12:24.77185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:12:24.77185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:12:24.77185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:12:24.77187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:12:24.77187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:12:24.77187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:12:24.77188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:12:24.77189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:12:24.77189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:12:24.77189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:12:24.77190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:12:24.77190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:12:24.77190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:12:24.77190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:12:24.77190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:12:24.77191   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:12:24.77206   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:12:24.77207   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:12:24.77208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:12:24.77208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:12:24.77208   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:12:24.77209   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:12:24.77209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:12:24.77209   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:12:24.77209   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:12:24.77209   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:12:24.77210   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:12:24.77210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:12:24.77210   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:12:24.77210   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:12:24.77225   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:12:24.77226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:12:24.77226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:12:24.77226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:12:24.77227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:12:24.77227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:12:24.77227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:12:24.77227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:12:24.77228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:12:24.77228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:12:24.77229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:12:24.77229   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:12:24.77230   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:12:25.56793 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"Puma starting in cluster mode..."}
2020-10-21_15:12:25.56795 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:12:25.56797 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:12:25.56797 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"* Environment: production"}
2020-10-21_15:12:25.56797 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"* Process workers: 2"}
2020-10-21_15:12:25.56798 {"timestamp":"2020-10-21T15:12:25.567Z","pid":25927,"message":"* Preloading application"}
2020-10-21_15:12:40.15113 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:12:40.89353 {"timestamp":"2020-10-21T15:12:40.893Z","pid":25927,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:12:40.89464 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:12:40.89473 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:12:40.89473   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:12:40.89474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:12:40.89474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:12:40.89474   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:12:40.89482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:12:40.89485   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:12:40.89486   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:12:40.89486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:12:40.89486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:12:40.89487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:12:40.89487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:12:40.89488   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:12:40.89502   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:12:40.89502   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:12:40.89503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:12:40.89503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:12:40.89503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:12:40.89503   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:12:40.89504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:12:40.89504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:12:40.89504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:12:40.89504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:12:40.89511   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:12:40.89515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:12:40.89516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:12:40.89516   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:12:40.89517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:40.89517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:12:40.89517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:12:40.89517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:40.89518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:12:40.89519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:12:40.89519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:12:40.89519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:12:40.89520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:12:40.89520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:12:40.89520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:12:40.89520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:12:40.89534   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:12:40.89536   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:12:40.89548   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:12:40.89549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:12:40.89549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:12:40.89549   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:12:40.89549   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:12:40.89550   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:12:40.89550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:12:40.89550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:12:40.89550   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:12:40.89551   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:12:40.89552   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:12:40.89552   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:12:40.89552   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:12:40.89552   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:12:40.89553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:12:40.89553   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:12:40.89558   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:12:40.89564   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:12:40.89564   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:12:40.89564   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:12:40.89565   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:12:40.89565   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:12:40.89566   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:12:40.89566   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:12:40.89567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:12:40.89567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:12:40.89567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:12:40.89567   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:12:40.89568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:12:40.89568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:12:40.89568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:12:40.89568   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:12:40.89569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:12:40.89584   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:12:40.89584   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:12:41.56228 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"Puma starting in cluster mode..."}
2020-10-21_15:12:41.56233 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:12:41.56235 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:12:41.56235 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"* Environment: production"}
2020-10-21_15:12:41.56235 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"* Process workers: 2"}
2020-10-21_15:12:41.56235 {"timestamp":"2020-10-21T15:12:41.562Z","pid":26383,"message":"* Preloading application"}
2020-10-21_15:12:55.42773 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:12:56.58238 {"timestamp":"2020-10-21T15:12:56.582Z","pid":26383,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:12:56.58272 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:12:56.58292 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:12:56.58293   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:12:56.58294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:12:56.58294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:12:56.58294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:12:56.58294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:12:56.58294   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:12:56.58295   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:12:56.58295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:12:56.58295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:12:56.58295   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:12:56.58296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:12:56.58296   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:12:56.58297   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:12:56.58297   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:12:56.58297   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:12:56.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:12:56.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:12:56.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:12:56.58298   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:12:56.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:12:56.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:12:56.58299   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:12:56.58301   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:12:56.58301   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:12:56.58301   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:12:56.58301   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:12:56.58302   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:56.58302   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:12:56.58302   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:12:56.58302   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:12:56.58303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:12:56.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:12:56.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:12:56.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:12:56.58304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:12:56.58305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:12:56.58305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:12:56.58305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:12:56.58305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:12:56.58306   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:12:56.58307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:12:56.58307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:12:56.58307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:12:56.58307   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:12:56.58307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:12:56.58308   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:12:56.58308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:12:56.58308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:12:56.58308   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:12:56.58309   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:12:56.58310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:12:56.58310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:12:56.58310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:12:56.58310   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:12:56.58311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:12:56.58311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:12:56.58311   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:12:56.58311   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:12:56.58312   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:12:56.58312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:12:56.58312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:12:56.58312   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:12:56.58313   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:12:56.58313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:12:56.58314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:12:56.58314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:12:56.58314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:12:56.58314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:12:56.58315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:12:56.58315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:12:56.58315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:12:56.58315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:12:56.58316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:12:56.58317   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:12:56.58317   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:12:57.40022 {"timestamp":"2020-10-21T15:12:57.400Z","pid":26848,"message":"Puma starting in cluster mode..."}
2020-10-21_15:12:57.40054 {"timestamp":"2020-10-21T15:12:57.400Z","pid":26848,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:12:57.40081 {"timestamp":"2020-10-21T15:12:57.400Z","pid":26848,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:12:57.40110 {"timestamp":"2020-10-21T15:12:57.400Z","pid":26848,"message":"* Environment: production"}
2020-10-21_15:12:57.40135 {"timestamp":"2020-10-21T15:12:57.401Z","pid":26848,"message":"* Process workers: 2"}
2020-10-21_15:12:57.40161 {"timestamp":"2020-10-21T15:12:57.401Z","pid":26848,"message":"* Preloading application"}
2020-10-21_15:13:10.95331 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:13:11.69831 {"timestamp":"2020-10-21T15:13:11.698Z","pid":26848,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:13:11.69861 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:13:11.69878 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:13:11.69879   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:13:11.69879   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:13:11.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:13:11.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:13:11.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:13:11.69880   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:13:11.69881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:13:11.69881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:13:11.69881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:13:11.69881   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:13:11.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:13:11.69882   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:13:11.69883   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:13:11.69883   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:13:11.69883   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:13:11.69884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:13:11.69884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:13:11.69884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:13:11.69884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:13:11.69885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:13:11.69885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:13:11.69885   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:13:11.69886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:13:11.69886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:13:11.69887   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:13:11.69887   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:13:11.69887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:11.69887   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:13:11.69888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:13:11.69888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:11.69888   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:13:11.69890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:13:11.69890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:13:11.69890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:13:11.69891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:13:11.69891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:13:11.69891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:13:11.69891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:13:11.69892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:13:11.69893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:13:11.69893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:13:11.69893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:13:11.69893   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:13:11.69894   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:13:11.69894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:13:11.69894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:13:11.69894   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:13:11.69895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:13:11.69895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:13:11.69895   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:13:11.69896   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:13:11.69896   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:13:11.69898   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:13:11.69899   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:13:11.69899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:13:11.69899   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:13:11.69899   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:13:11.69900   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:13:11.69900   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:13:11.69900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:13:11.69900   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:13:11.69901   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:13:11.69902   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:13:11.69902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:13:11.69902   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:13:11.69903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:13:11.69903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:13:11.69903   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:13:11.69904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:13:11.69904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:13:11.69904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:13:11.69904   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:13:11.69905   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:13:11.69906   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:13:11.69906   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:13:12.50934 {"timestamp":"2020-10-21T15:13:12.509Z","pid":27298,"message":"Puma starting in cluster mode..."}
2020-10-21_15:13:12.50961 {"timestamp":"2020-10-21T15:13:12.509Z","pid":27298,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:13:12.50979 {"timestamp":"2020-10-21T15:13:12.509Z","pid":27298,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:13:12.51001 {"timestamp":"2020-10-21T15:13:12.509Z","pid":27298,"message":"* Environment: production"}
2020-10-21_15:13:12.51018 {"timestamp":"2020-10-21T15:13:12.510Z","pid":27298,"message":"* Process workers: 2"}
2020-10-21_15:13:12.51038 {"timestamp":"2020-10-21T15:13:12.510Z","pid":27298,"message":"* Preloading application"}
2020-10-21_15:13:26.19770 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:13:26.90771 {"timestamp":"2020-10-21T15:13:26.907Z","pid":27298,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:13:26.90795 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:13:26.90809 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:13:26.90810   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:13:26.90811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:13:26.90811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:13:26.90811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:13:26.90811   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:13:26.90812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:13:26.90812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:13:26.90812   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:13:26.90813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:13:26.90813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:13:26.90813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:13:26.90813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:13:26.90815   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:13:26.90816   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:13:26.90817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:13:26.90818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:13:26.90818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:13:26.90818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:13:26.90818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:13:26.90819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:13:26.90819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:13:26.90819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:13:26.90820   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:13:26.90821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:13:26.90821   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:13:26.90821   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:13:26.90821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:26.90821   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:13:26.90822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:13:26.90822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:26.90822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:13:26.90823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:13:26.90823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:13:26.90824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:13:26.90824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:13:26.90824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:13:26.90824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:13:26.90825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:13:26.90825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:13:26.90826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:13:26.90826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:13:26.90826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:13:26.90827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:13:26.90827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:13:26.90827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:13:26.90828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:13:26.90828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:13:26.90828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:13:26.90828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:13:26.90829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:13:26.90830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:13:26.90830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:13:26.90830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:13:26.90830   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:13:26.90830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:13:26.90831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:13:26.90831   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:13:26.90831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:13:26.90831   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:13:26.90832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:13:26.90832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:13:26.90832   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:13:26.90833   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:13:26.90833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:13:26.90833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:13:26.90834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:13:26.90834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:13:26.90834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:13:26.90834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:13:26.90835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:13:26.90835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:13:26.90835   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:13:26.90836   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:13:26.90836   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:13:26.90837   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:13:27.71983 {"timestamp":"2020-10-21T15:13:27.719Z","pid":27752,"message":"Puma starting in cluster mode..."}
2020-10-21_15:13:27.71996 {"timestamp":"2020-10-21T15:13:27.719Z","pid":27752,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:13:27.72023 {"timestamp":"2020-10-21T15:13:27.720Z","pid":27752,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:13:27.72042 {"timestamp":"2020-10-21T15:13:27.720Z","pid":27752,"message":"* Environment: production"}
2020-10-21_15:13:27.72058 {"timestamp":"2020-10-21T15:13:27.720Z","pid":27752,"message":"* Process workers: 2"}
2020-10-21_15:13:27.72071 {"timestamp":"2020-10-21T15:13:27.720Z","pid":27752,"message":"* Preloading application"}
2020-10-21_15:13:41.92809 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:13:42.49439 {"timestamp":"2020-10-21T15:13:42.494Z","pid":27752,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:13:42.49478 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:13:42.49499 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:13:42.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:13:42.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:13:42.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:13:42.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:13:42.49501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:13:42.49501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:13:42.49501   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:13:42.49501   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:13:42.49501   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:13:42.49502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:13:42.49502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:13:42.49502   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:13:42.49503   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:13:42.49504   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:13:42.49504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:13:42.49504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:13:42.49504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:13:42.49504   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:13:42.49505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:13:42.49505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:13:42.49505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:13:42.49505   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:13:42.49506   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:13:42.49507   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:13:42.49508   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:13:42.49508   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:13:42.49508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:42.49508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:13:42.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:13:42.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:42.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:13:42.49510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:13:42.49510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:13:42.49511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:13:42.49511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:13:42.49511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:13:42.49511   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:13:42.49512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:13:42.49512   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:13:42.49513   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:13:42.49513   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:13:42.49513   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:13:42.49514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:13:42.49514   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:13:42.49514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:13:42.49514   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:13:42.49515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:13:42.49515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:13:42.49515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:13:42.49515   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:13:42.49516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:13:42.49516   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:13:42.49517   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:13:42.49517   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:13:42.49517   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:13:42.49518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:13:42.49518   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:13:42.49518   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:13:42.49518   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:13:42.49519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:13:42.49519   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:13:42.49519   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:13:42.49520   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:13:42.49520   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:13:42.49521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:13:42.49521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:13:42.49521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:13:42.49521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:13:42.49521   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:13:42.49522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:13:42.49522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:13:42.49522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:13:42.49523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:13:42.49524   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:13:42.49524   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:13:43.16799 {"timestamp":"2020-10-21T15:13:43.167Z","pid":28214,"message":"Puma starting in cluster mode..."}
2020-10-21_15:13:43.16809 {"timestamp":"2020-10-21T15:13:43.168Z","pid":28214,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:13:43.16818 {"timestamp":"2020-10-21T15:13:43.168Z","pid":28214,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:13:43.16830 {"timestamp":"2020-10-21T15:13:43.168Z","pid":28214,"message":"* Environment: production"}
2020-10-21_15:13:43.16851 {"timestamp":"2020-10-21T15:13:43.168Z","pid":28214,"message":"* Process workers: 2"}
2020-10-21_15:13:43.16859 {"timestamp":"2020-10-21T15:13:43.168Z","pid":28214,"message":"* Preloading application"}
2020-10-21_15:13:58.47752 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:13:59.34550 {"timestamp":"2020-10-21T15:13:59.345Z","pid":28214,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:13:59.34630 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:13:59.34809 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:13:59.34815   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:13:59.34816   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:13:59.34816   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:13:59.34817   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:13:59.34817   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:13:59.34818   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:13:59.34818   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:13:59.34818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:13:59.34818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:13:59.34819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:13:59.34819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:13:59.34819   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:13:59.34821   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:13:59.34821   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:13:59.34822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:13:59.34822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:13:59.34822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:13:59.34822   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:13:59.34823   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:13:59.34823   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:13:59.34823   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:13:59.34824   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:13:59.34825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:13:59.34825   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:13:59.34826   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:13:59.34826   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:13:59.34826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:59.34826   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:13:59.34827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:13:59.34827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:13:59.34827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:13:59.34829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:13:59.34829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:13:59.34830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:13:59.34830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:13:59.34830   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:13:59.34831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:13:59.34831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:13:59.34831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:13:59.34833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:13:59.34833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:13:59.34833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:13:59.34834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:13:59.34834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:13:59.34834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:13:59.34834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:13:59.34835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:13:59.34835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:13:59.34835   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:13:59.34836   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:13:59.34837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:13:59.34837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:13:59.34838   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:13:59.34838   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:13:59.34838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:13:59.34839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:13:59.34839   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:13:59.34839   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:13:59.34840   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:13:59.34840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:13:59.34840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:13:59.34841   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:13:59.34842   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:13:59.34842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:13:59.34842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:13:59.34843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:13:59.34843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:13:59.34844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:13:59.34844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:13:59.34845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:13:59.34845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:13:59.34845   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:13:59.34847   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:13:59.34847   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:13:59.34847   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:14:01.37637 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"Puma starting in cluster mode..."}
2020-10-21_15:14:01.37641 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:14:01.37642 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:14:01.37642 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"* Environment: production"}
2020-10-21_15:14:01.37643 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"* Process workers: 2"}
2020-10-21_15:14:01.37645 {"timestamp":"2020-10-21T15:14:01.376Z","pid":28712,"message":"* Preloading application"}
2020-10-21_15:14:17.77331 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:14:18.66544 {"timestamp":"2020-10-21T15:14:18.665Z","pid":28712,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:14:18.66582 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:14:18.66601 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:14:18.66606   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:14:18.66606   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:14:18.66607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:14:18.66621   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:14:18.66622   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:14:18.66622   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:14:18.66635   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:14:18.66637   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:14:18.66638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:14:18.66638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:14:18.66638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:14:18.66639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:14:18.66640   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:14:18.66640   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:14:18.66656   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:14:18.66657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:14:18.66657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:14:18.66670   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:14:18.66671   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:14:18.66671   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:14:18.66681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:14:18.66700   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:14:18.66704   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:14:18.66704   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:14:18.66704   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:14:18.66705   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:14:18.66705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:18.66705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:14:18.66705   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:14:18.66706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:18.66706   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:14:18.66707   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:14:18.66724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:14:18.66725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:14:18.66726   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:14:18.66739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:14:18.66741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:14:18.66741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:14:18.66742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:14:18.66743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:14:18.66743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:14:18.66743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:14:18.66744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:14:18.66744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:14:18.66759   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:14:18.66760   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:14:18.66760   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:14:18.66775   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:14:18.66775   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:14:18.66776   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:14:18.66790   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:14:18.66791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:14:18.66791   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:14:18.66804   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:14:18.66805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:14:18.66805   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:14:18.66818   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:14:18.66819   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:14:18.66819   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:14:18.66832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:14:18.66833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:14:18.66833   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:14:18.66848   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:14:18.66849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:14:18.66849   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:14:18.66862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:14:18.66923   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:14:18.66928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:14:18.66928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:14:18.66929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:14:18.66943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:14:18.66945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:14:18.66946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:14:18.66947   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:14:18.66947   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:14:19.65176 {"timestamp":"2020-10-21T15:14:19.651Z","pid":29261,"message":"Puma starting in cluster mode..."}
2020-10-21_15:14:19.65186 {"timestamp":"2020-10-21T15:14:19.651Z","pid":29261,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:14:19.65220 {"timestamp":"2020-10-21T15:14:19.652Z","pid":29261,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:14:19.65238 {"timestamp":"2020-10-21T15:14:19.652Z","pid":29261,"message":"* Environment: production"}
2020-10-21_15:14:19.65256 {"timestamp":"2020-10-21T15:14:19.652Z","pid":29261,"message":"* Process workers: 2"}
2020-10-21_15:14:19.65292 {"timestamp":"2020-10-21T15:14:19.652Z","pid":29261,"message":"* Preloading application"}
2020-10-21_15:14:35.15911 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:14:35.97084 {"timestamp":"2020-10-21T15:14:35.970Z","pid":29261,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:14:35.97110 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:14:35.97111 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:14:35.97112   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:14:35.97112   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:14:35.97112   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:14:35.97113   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:14:35.97113   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:14:35.97113   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:14:35.97113   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:14:35.97114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:14:35.97114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:14:35.97114   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:14:35.97115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:14:35.97115   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:14:35.97116   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:14:35.97116   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:14:35.97117   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:14:35.97117   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:14:35.97117   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:14:35.97117   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:14:35.97118   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:14:35.97118   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:14:35.97118   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:14:35.97119   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:14:35.97120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:14:35.97120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:14:35.97120   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:14:35.97121   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:14:35.97122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:35.97122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:14:35.97122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:14:35.97122   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:35.97123   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:14:35.97124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:14:35.97124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:14:35.97124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:14:35.97124   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:14:35.97125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:14:35.97125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:14:35.97125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:14:35.97125   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:14:35.97126   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:14:35.97127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:14:35.97127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:14:35.97127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:14:35.97127   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:14:35.97128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:14:35.97128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:14:35.97128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:14:35.97128   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:14:35.97129   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:14:35.97130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:14:35.97130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:14:35.97130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:14:35.97130   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:14:35.97131   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:14:35.97131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:14:35.97131   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:14:35.97132   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:14:35.97132   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:14:35.97132   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:14:35.97132   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:14:35.97133   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:14:35.97134   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:14:35.97134   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:14:35.97134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:14:35.97134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:14:35.97134   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:14:35.97135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:14:35.97135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:14:35.97135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:14:35.97135   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:14:35.97136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:14:35.97136   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:14:35.97137   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:14:35.97137   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:14:35.97138   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:14:36.85066 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"Puma starting in cluster mode..."}
2020-10-21_15:14:36.85069 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:14:36.85071 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:14:36.85071 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"* Environment: production"}
2020-10-21_15:14:36.85072 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"* Process workers: 2"}
2020-10-21_15:14:36.85095 {"timestamp":"2020-10-21T15:14:36.850Z","pid":29765,"message":"* Preloading application"}
2020-10-21_15:14:52.07665 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:14:54.24350 {"timestamp":"2020-10-21T15:14:54.243Z","pid":29765,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:14:54.24586 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:14:54.24614 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:14:54.24615   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:14:54.24616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:14:54.24616   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:14:54.24617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:14:54.24617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:14:54.24617   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:14:54.24618   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:14:54.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:14:54.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:14:54.24618   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:14:54.24619   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:14:54.24619   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:14:54.24620   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:14:54.24620   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:14:54.24620   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:14:54.24621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:14:54.24621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:14:54.24621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:14:54.24621   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:14:54.24622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:14:54.24622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:14:54.24622   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:14:54.24623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:14:54.24623   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:14:54.24624   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:14:54.24624   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:14:54.24624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:54.24624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:14:54.24625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:14:54.24625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:14:54.24625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:14:54.24626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:14:54.24626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:14:54.24627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:14:54.24627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:14:54.24627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:14:54.24628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:14:54.24628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:14:54.24628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:14:54.24629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:14:54.24629   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:14:54.24630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:14:54.24630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:14:54.24630   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:14:54.24630   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:14:54.24631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:14:54.24631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:14:54.24631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:14:54.24631   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:14:54.24632   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:14:54.24633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:14:54.24633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:14:54.24633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:14:54.24633   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:14:54.24634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:14:54.24634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:14:54.24634   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:14:54.24634   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:14:54.24634   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:14:54.24635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:14:54.24635   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:14:54.24635   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:14:54.24636   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:14:54.24636   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:14:54.24637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:14:54.24637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:14:54.24637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:14:54.24637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:14:54.24638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:14:54.24638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:14:54.24638   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:14:54.24639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:14:54.24640   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:14:54.24640   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:14:54.24640   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:14:55.99220 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"Puma starting in cluster mode..."}
2020-10-21_15:14:55.99224 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:14:55.99226 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:14:55.99226 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"* Environment: production"}
2020-10-21_15:14:55.99226 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"* Process workers: 2"}
2020-10-21_15:14:55.99248 {"timestamp":"2020-10-21T15:14:55.992Z","pid":30306,"message":"* Preloading application"}
2020-10-21_15:15:25.19289 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:15:26.91869 {"timestamp":"2020-10-21T15:15:26.918Z","pid":30306,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:15:26.92517 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:15:26.92556 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:15:26.92557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:15:26.92557   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:15:26.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:15:26.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:15:26.92558   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:15:26.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:15:26.92559   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:15:26.92559   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:15:26.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:15:26.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:15:26.92560   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:15:26.92561   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:15:26.92562   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:15:26.92563   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:15:26.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:15:26.92563   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:15:26.92565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:15:26.92565   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:15:26.92566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:15:26.92566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:15:26.92566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:15:26.92566   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:15:26.92568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:15:26.92568   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:15:26.92569   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:15:26.92569   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:15:26.92569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:15:26.92569   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:15:26.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:15:26.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:15:26.92570   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:15:26.92572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:15:26.92572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:15:26.92572   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:15:26.92573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:15:26.92573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:15:26.92573   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:15:26.92574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:15:26.92574   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:15:26.92575   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:15:26.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:15:26.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:15:26.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:15:26.92576   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:15:26.92577   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:15:26.92578   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:15:26.92578   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:15:26.92579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:15:26.92579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:15:26.92579   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:15:26.92581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:15:26.92581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:15:26.92581   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:15:26.92582   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:15:26.92582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:15:26.92582   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:15:26.92582   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:15:26.92583   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:15:26.92583   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:15:26.92583   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:15:26.92584   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:15:26.92584   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:15:26.92585   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:15:26.92586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:15:26.92586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:15:26.92586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:15:26.92586   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:15:26.92587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:15:26.92587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:15:26.92587   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:15:26.92588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:15:26.92588   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:15:26.92590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:15:26.92590   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:15:26.92590   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:15:28.73293 {"timestamp":"2020-10-21T15:15:28.732Z","pid":31156,"message":"Puma starting in cluster mode..."}
2020-10-21_15:15:28.73321 {"timestamp":"2020-10-21T15:15:28.733Z","pid":31156,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:15:28.73336 {"timestamp":"2020-10-21T15:15:28.733Z","pid":31156,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:15:28.73350 {"timestamp":"2020-10-21T15:15:28.733Z","pid":31156,"message":"* Environment: production"}
2020-10-21_15:15:28.73366 {"timestamp":"2020-10-21T15:15:28.733Z","pid":31156,"message":"* Process workers: 2"}
2020-10-21_15:15:28.73381 {"timestamp":"2020-10-21T15:15:28.733Z","pid":31156,"message":"* Preloading application"}
2020-10-21_15:15:48.61954 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:15:49.24976 {"timestamp":"2020-10-21T15:15:49.249Z","pid":31156,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:15:49.25004 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:15:49.25019 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:15:49.25020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:15:49.25020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:15:49.25020   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:15:49.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:15:49.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:15:49.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:15:49.25021   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:15:49.25022   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:15:49.25023   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:15:49.25024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:15:49.25024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:15:49.25024   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:15:49.25025   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:15:49.25025   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:15:49.25026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:15:49.25026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:15:49.25026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:15:49.25026   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:15:49.25027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:15:49.25027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:15:49.25027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:15:49.25027   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:15:49.25028   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:15:49.25029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:15:49.25029   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:15:49.25029   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:15:49.25030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:15:49.25030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:15:49.25030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:15:49.25031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:15:49.25031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:15:49.25032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:15:49.25032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:15:49.25032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:15:49.25032   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:15:49.25033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:15:49.25033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:15:49.25033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:15:49.25033   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:15:49.25034   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:15:49.25035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:15:49.25035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:15:49.25035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:15:49.25035   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:15:49.25035   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:15:49.25036   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:15:49.25036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:15:49.25036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:15:49.25036   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:15:49.25037   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:15:49.25038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:15:49.25038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:15:49.25038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:15:49.25038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:15:49.25038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:15:49.25039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:15:49.25039   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:15:49.25039   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:15:49.25039   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:15:49.25040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:15:49.25040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:15:49.25040   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:15:49.25041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:15:49.25041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:15:49.25042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:15:49.25042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:15:49.25042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:15:49.25042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:15:49.25042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:15:49.25043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:15:49.25043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:15:49.25043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:15:49.25044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:15:49.25044   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:15:49.25045   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:15:49.95896 {"timestamp":"2020-10-21T15:15:49.958Z","pid":31789,"message":"Puma starting in cluster mode..."}
2020-10-21_15:15:49.95906 {"timestamp":"2020-10-21T15:15:49.959Z","pid":31789,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:15:49.95921 {"timestamp":"2020-10-21T15:15:49.959Z","pid":31789,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:15:49.95929 {"timestamp":"2020-10-21T15:15:49.959Z","pid":31789,"message":"* Environment: production"}
2020-10-21_15:15:49.95942 {"timestamp":"2020-10-21T15:15:49.959Z","pid":31789,"message":"* Process workers: 2"}
2020-10-21_15:15:49.95958 {"timestamp":"2020-10-21T15:15:49.959Z","pid":31789,"message":"* Preloading application"}
2020-10-21_15:16:08.03597 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:16:09.11059 {"timestamp":"2020-10-21T15:16:09.109Z","pid":31789,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:16:09.11114 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:16:09.11135 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:16:09.11136   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:16:09.11136   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:16:09.11136   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:16:09.11137   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:16:09.11137   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:16:09.11138   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:16:09.11138   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:16:09.11138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:16:09.11138   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:16:09.11139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:16:09.11139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:16:09.11139   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:16:09.11147   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:16:09.11172   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:16:09.11173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:16:09.11173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:16:09.11173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:16:09.11173   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:16:09.11174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:16:09.11174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:16:09.11174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:16:09.11174   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:16:09.11176   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:16:09.11176   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:16:09.11176   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:16:09.11176   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:16:09.11177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:09.11177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:16:09.11177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:16:09.11177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:09.11178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:16:09.11179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:16:09.11179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:16:09.11179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:16:09.11179   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:16:09.11180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:16:09.11180   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:16:09.11181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:16:09.11181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:16:09.11182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:16:09.11182   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:16:09.11183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:16:09.11183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:16:09.11183   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:16:09.11183   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:16:09.11184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:16:09.11184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:16:09.11184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:16:09.11184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:16:09.11184   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:16:09.11185   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:16:09.11186   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:16:09.11186   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:16:09.11186   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:16:09.11186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:16:09.11187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:16:09.11187   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:16:09.11187   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:16:09.11187   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:16:09.11188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:16:09.11188   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:16:09.11188   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:16:09.11189   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:16:09.11189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:16:09.11189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:16:09.11190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:16:09.11190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:16:09.11190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:16:09.11190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:16:09.11191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:16:09.11191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:16:09.11191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:16:09.11193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:16:09.11193   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:16:09.11193   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:16:10.53881 {"timestamp":"2020-10-21T15:16:10.538Z","pid":32343,"message":"Puma starting in cluster mode..."}
2020-10-21_15:16:10.53891 {"timestamp":"2020-10-21T15:16:10.538Z","pid":32343,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:16:10.53917 {"timestamp":"2020-10-21T15:16:10.539Z","pid":32343,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:16:10.53935 {"timestamp":"2020-10-21T15:16:10.539Z","pid":32343,"message":"* Environment: production"}
2020-10-21_15:16:10.53944 {"timestamp":"2020-10-21T15:16:10.539Z","pid":32343,"message":"* Process workers: 2"}
2020-10-21_15:16:10.53950 {"timestamp":"2020-10-21T15:16:10.539Z","pid":32343,"message":"* Preloading application"}
2020-10-21_15:16:26.79967 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:16:27.54844 {"timestamp":"2020-10-21T15:16:27.548Z","pid":32343,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:16:27.54870 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:16:27.54871 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:16:27.54871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:16:27.54871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:16:27.54871   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:16:27.54872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:16:27.54872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:16:27.54872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:16:27.54872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:16:27.54872   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:16:27.54873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:16:27.54873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:16:27.54873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:16:27.54873   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:16:27.54875   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:16:27.54875   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:16:27.54875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:16:27.54875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:16:27.54876   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:16:27.54877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:16:27.54877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:16:27.54877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:16:27.54877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:16:27.54878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:16:27.54879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:16:27.54879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:16:27.54879   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:16:27.54879   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:16:27.54880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:27.54880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:16:27.54880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:16:27.54880   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:27.54881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:16:27.54882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:16:27.54882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:16:27.54882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:16:27.54882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:16:27.54883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:16:27.54883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:16:27.54883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:16:27.54883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:16:27.54884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:16:27.54885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:16:27.54885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:16:27.54885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:16:27.54885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:16:27.54886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:16:27.54886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:16:27.54886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:16:27.54887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:16:27.54887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:16:27.54888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:16:27.54888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:16:27.54888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:16:27.54889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:16:27.54889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:16:27.54889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:16:27.54889   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:16:27.54890   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:16:27.54890   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:16:27.54890   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:16:27.54890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:16:27.54891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:16:27.54892   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:16:27.54892   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:16:27.54892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:16:27.54892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:16:27.54892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:16:27.54893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:16:27.54893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:16:27.54893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:16:27.54893   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:16:27.54894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:16:27.54894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:16:27.54895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:16:27.54895   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:16:27.54896   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:16:28.34308 {"timestamp":"2020-10-21T15:16:28.343Z","pid":32888,"message":"Puma starting in cluster mode..."}
2020-10-21_15:16:28.34336 {"timestamp":"2020-10-21T15:16:28.343Z","pid":32888,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:16:28.34365 {"timestamp":"2020-10-21T15:16:28.343Z","pid":32888,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:16:28.34384 {"timestamp":"2020-10-21T15:16:28.343Z","pid":32888,"message":"* Environment: production"}
2020-10-21_15:16:28.34402 {"timestamp":"2020-10-21T15:16:28.343Z","pid":32888,"message":"* Process workers: 2"}
2020-10-21_15:16:28.34421 {"timestamp":"2020-10-21T15:16:28.344Z","pid":32888,"message":"* Preloading application"}
2020-10-21_15:16:41.61106 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:16:42.26116 {"timestamp":"2020-10-21T15:16:42.261Z","pid":32888,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:16:42.26182 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:16:42.26306 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:16:42.26309   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:16:42.26310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:16:42.26310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:16:42.26310   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:16:42.26311   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:16:42.26311   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:16:42.26311   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:16:42.26311   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:16:42.26312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:16:42.26312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:16:42.26312   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:16:42.26313   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:16:42.26335   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:16:42.26336   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:16:42.26336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:16:42.26336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:16:42.26336   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:16:42.26337   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:16:42.26337   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:16:42.26337   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:16:42.26338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:16:42.26338   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:16:42.26360   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:16:42.26361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:16:42.26361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:16:42.26361   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:16:42.26362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:42.26362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:16:42.26363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:16:42.26363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:42.26363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:16:42.26364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:16:42.26365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:16:42.26381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:16:42.26382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:16:42.26382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:16:42.26383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:16:42.26383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:16:42.26383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:16:42.26399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:16:42.26399   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:16:42.26400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:16:42.26400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:16:42.26400   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:16:42.26400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:16:42.26401   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:16:42.26401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:16:42.26401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:16:42.26401   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:16:42.26417   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:16:42.26418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:16:42.26419   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:16:42.26419   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:16:42.26419   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:16:42.26419   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:16:42.26433   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:16:42.26433   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:16:42.26434   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:16:42.26434   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:16:42.26434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:16:42.26455   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:16:42.26455   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:16:42.26457   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:16:42.26457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:16:42.26457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:16:42.26457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:16:42.26457   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:16:42.26458   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:16:42.26460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:16:42.26476   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:16:42.26477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:16:42.26477   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:16:42.26478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:16:42.26478   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:16:42.26479   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:16:43.22939 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"Puma starting in cluster mode..."}
2020-10-21_15:16:43.22941 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:16:43.22943 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:16:43.22943 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"* Environment: production"}
2020-10-21_15:16:43.22943 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"* Process workers: 2"}
2020-10-21_15:16:43.22943 {"timestamp":"2020-10-21T15:16:43.229Z","pid":33334,"message":"* Preloading application"}
2020-10-21_15:16:56.55678 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:16:57.28824 {"timestamp":"2020-10-21T15:16:57.288Z","pid":33334,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:16:57.28865 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:16:57.28871 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:16:57.28872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:16:57.28872   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:16:57.28873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:16:57.28873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:16:57.28873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:16:57.28873   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:16:57.28874   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:16:57.28874   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:16:57.28890   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:16:57.28891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:16:57.28891   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:16:57.28904   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:16:57.28915   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:16:57.28915   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:16:57.28915   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:16:57.28916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:16:57.28916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:16:57.28916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:16:57.28916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:16:57.28917   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:16:57.28917   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:16:57.28918   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:16:57.28935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:16:57.28937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:16:57.28938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:16:57.28938   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:16:57.28938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:57.28939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:16:57.28939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:16:57.28939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:16:57.28940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:16:57.28952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:16:57.28956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:16:57.28957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:16:57.28957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:16:57.28957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:16:57.28958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:16:57.28958   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:16:57.28959   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:16:57.28960   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:16:57.28960   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:16:57.28960   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:16:57.28961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:16:57.28961   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:16:57.28961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:16:57.28961   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:16:57.28962   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:16:57.28962   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:16:57.28996   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:16:57.29001   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:16:57.29002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:16:57.29002   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:16:57.29015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:16:57.29015   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:16:57.29016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:16:57.29028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:16:57.29028   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:16:57.29029   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:16:57.29041   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:16:57.29042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:16:57.29042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:16:57.29056   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:16:57.29056   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:16:57.29057   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:16:57.29070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:16:57.29073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:16:57.29074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:16:57.29074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:16:57.29074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:16:57.29074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:16:57.29075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:16:57.29075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:16:57.29092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:16:57.29103   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:16:57.29104   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:16:58.12488 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"Puma starting in cluster mode..."}
2020-10-21_15:16:58.12490 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:16:58.12491 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:16:58.12491 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"* Environment: production"}
2020-10-21_15:16:58.12492 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"* Process workers: 2"}
2020-10-21_15:16:58.12492 {"timestamp":"2020-10-21T15:16:58.124Z","pid":33782,"message":"* Preloading application"}
2020-10-21_15:17:12.45033 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:17:13.06141 {"timestamp":"2020-10-21T15:17:13.061Z","pid":33782,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:17:13.06171 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:17:13.06176 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:17:13.06177   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:17:13.06188   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:17:13.06192   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:17:13.06195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:17:13.06195   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:17:13.06207   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:17:13.06208   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:17:13.06208   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:17:13.06221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:17:13.06221   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:17:13.06222   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:17:13.06234   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:17:13.06244   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:17:13.06245   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:17:13.06245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:17:13.06245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:17:13.06245   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:17:13.06246   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:17:13.06246   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:17:13.06247   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:17:13.06247   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:17:13.06264   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:17:13.06265   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:17:13.06265   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:17:13.06278   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:17:13.06281   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:17:13.06282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:13.06282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:17:13.06282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:17:13.06282   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:13.06297   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:17:13.06298   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:17:13.06298   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:17:13.06311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:17:13.06311   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:17:13.06312   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:17:13.06324   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:17:13.06326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:17:13.06327   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:17:13.06328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:17:13.06328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:17:13.06328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:17:13.06328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:17:13.06329   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:17:13.06329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:17:13.06329   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:17:13.06344   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:17:13.06345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:17:13.06345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:17:13.06366   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:17:13.06367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:17:13.06367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:17:13.06367   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:17:13.06368   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:17:13.06368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:17:13.06368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:17:13.06368   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:17:13.06368   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:17:13.06369   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:17:13.06369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:17:13.06369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:17:13.06387   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:17:13.06387   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:17:13.06387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:17:13.06388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:17:13.06388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:17:13.06388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:17:13.06388   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:17:13.06389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:17:13.06389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:17:13.06389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:17:13.06389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:17:13.06406   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:17:13.06406   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:17:13.06407   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:17:13.73824 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"Puma starting in cluster mode..."}
2020-10-21_15:17:13.73834 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:17:13.73839 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:17:13.73862 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"* Environment: production"}
2020-10-21_15:17:13.73869 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"* Process workers: 2"}
2020-10-21_15:17:13.73882 {"timestamp":"2020-10-21T15:17:13.738Z","pid":34235,"message":"* Preloading application"}
2020-10-21_15:17:27.50154 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:17:28.43740 {"timestamp":"2020-10-21T15:17:28.437Z","pid":34235,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:17:28.43774 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:17:28.43798 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:17:28.43801   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:17:28.43802   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:17:28.43802   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:17:28.43803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:17:28.43803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:17:28.43803   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:17:28.43804   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:17:28.43804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:17:28.43805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:17:28.43809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:17:28.43809   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:17:28.43810   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:17:28.43811   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:17:28.43812   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:17:28.43812   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:17:28.43812   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:17:28.43813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:17:28.43813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:17:28.43814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:17:28.43814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:17:28.43814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:17:28.43815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:17:28.43816   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:17:28.43817   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:17:28.43818   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:17:28.43818   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:17:28.43818   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:28.43819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:17:28.43819   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:17:28.43820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:28.43820   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:17:28.43822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:17:28.43822   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:17:28.43823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:17:28.43823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:17:28.43823   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:17:28.43824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:17:28.43824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:17:28.43824   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:17:28.43826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:17:28.43826   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:17:28.43827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:17:28.43827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:17:28.43827   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:17:28.43828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:17:28.43828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:17:28.43828   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:17:28.43829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:17:28.43829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:17:28.43829   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:17:28.43831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:17:28.43831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:17:28.43831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:17:28.43832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:17:28.43832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:17:28.43832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:17:28.43833   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:17:28.43833   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:17:28.43834   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:17:28.43834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:17:28.43834   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:17:28.43835   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:17:28.43837   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:17:28.43837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:17:28.43837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:17:28.43838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:17:28.43838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:17:28.43838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:17:28.43839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:17:28.43839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:17:28.43839   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:17:28.43840   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:17:28.43841   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:17:28.43842   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:17:28.43842   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:17:29.22001 {"timestamp":"2020-10-21T15:17:29.219Z","pid":34711,"message":"Puma starting in cluster mode..."}
2020-10-21_15:17:29.22004 {"timestamp":"2020-10-21T15:17:29.219Z","pid":34711,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:17:29.22006 {"timestamp":"2020-10-21T15:17:29.220Z","pid":34711,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:17:29.22006 {"timestamp":"2020-10-21T15:17:29.220Z","pid":34711,"message":"* Environment: production"}
2020-10-21_15:17:29.22032 {"timestamp":"2020-10-21T15:17:29.220Z","pid":34711,"message":"* Process workers: 2"}
2020-10-21_15:17:29.22051 {"timestamp":"2020-10-21T15:17:29.220Z","pid":34711,"message":"* Preloading application"}
2020-10-21_15:17:42.43215 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:17:43.10626 {"timestamp":"2020-10-21T15:17:43.106Z","pid":34711,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:17:43.10937 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:17:43.10939 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:17:43.10940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:17:43.10940   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:17:43.10941   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:17:43.10941   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:17:43.10941   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:17:43.10941   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:17:43.10942   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:17:43.10942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:17:43.10942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:17:43.10944   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:17:43.10945   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:17:43.10945   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:17:43.10946   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:17:43.10947   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:17:43.10947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:17:43.10947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:17:43.10947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:17:43.10947   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:17:43.10948   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:17:43.10948   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:17:43.10948   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:17:43.10972   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:17:43.10973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:17:43.10973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:17:43.10973   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:17:43.10974   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:17:43.10974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:43.10974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:17:43.10974   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:17:43.10975   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:43.10993   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:17:43.10994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:17:43.10994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:17:43.10994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:17:43.10995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:17:43.10995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:17:43.10995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:17:43.10995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:17:43.10995   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:17:43.10997   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:17:43.10997   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:17:43.10998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:17:43.10998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:17:43.10998   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:17:43.10998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:17:43.10998   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:17:43.10999   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:17:43.10999   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:17:43.10999   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:17:43.11000   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:17:43.11038   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:17:43.11039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:17:43.11039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:17:43.11039   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:17:43.11039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:17:43.11039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:17:43.11040   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:17:43.11040   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:17:43.11040   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:17:43.11040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:17:43.11041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:17:43.11042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:17:43.11042   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:17:43.11042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:17:43.11042   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:17:43.11043   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:17:43.11060   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:17:43.11061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:17:43.11061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:17:43.11061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:17:43.11061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:17:43.11062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:17:43.11063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:17:43.11064   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:17:43.11064   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:17:43.98659 {"timestamp":"2020-10-21T15:17:43.986Z","pid":35165,"message":"Puma starting in cluster mode..."}
2020-10-21_15:17:43.98686 {"timestamp":"2020-10-21T15:17:43.986Z","pid":35165,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:17:43.98704 {"timestamp":"2020-10-21T15:17:43.987Z","pid":35165,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:17:43.98723 {"timestamp":"2020-10-21T15:17:43.987Z","pid":35165,"message":"* Environment: production"}
2020-10-21_15:17:43.98742 {"timestamp":"2020-10-21T15:17:43.987Z","pid":35165,"message":"* Process workers: 2"}
2020-10-21_15:17:43.98760 {"timestamp":"2020-10-21T15:17:43.987Z","pid":35165,"message":"* Preloading application"}
2020-10-21_15:17:57.56106 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:17:58.50723 {"timestamp":"2020-10-21T15:17:58.507Z","pid":35165,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:17:58.50764 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:17:58.50767 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:17:58.50770   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:17:58.50771   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:17:58.50771   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:17:58.50771   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:17:58.50772   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:17:58.50772   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:17:58.50772   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:17:58.50773   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:17:58.50795   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:17:58.50796   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:17:58.50813   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:17:58.50835   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:17:58.50837   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:17:58.50837   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:17:58.50855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:17:58.50857   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:17:58.50858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:17:58.50859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:17:58.50859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:17:58.50860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:17:58.50875   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:17:58.50877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:17:58.50877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:17:58.50877   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:17:58.50878   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:17:58.50878   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:17:58.50878   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:58.50879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:17:58.50879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:17:58.50879   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:17:58.50881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:17:58.50881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:17:58.50881   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:17:58.50882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:17:58.50882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:17:58.50882   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:17:58.50883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:17:58.50883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:17:58.50883   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:17:58.50884   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:17:58.50885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:17:58.50885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:17:58.50885   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:17:58.50886   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:17:58.50886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:17:58.50886   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:17:58.50887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:17:58.50887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:17:58.50887   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:17:58.50888   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:17:58.50889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:17:58.50889   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:17:58.50890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:17:58.50890   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:17:58.50890   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:17:58.50891   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:17:58.50891   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:17:58.50891   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:17:58.50892   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:17:58.50892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:17:58.50892   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:17:58.50893   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:17:58.50894   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:17:58.50894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:17:58.50894   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:17:58.50895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:17:58.50895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:17:58.50895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:17:58.50895   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:17:58.50896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:17:58.50896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:17:58.50896   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:17:58.50898   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:17:58.50899   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:17:58.50899   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:17:59.37349 {"timestamp":"2020-10-21T15:17:59.373Z","pid":35624,"message":"Puma starting in cluster mode..."}
2020-10-21_15:17:59.37375 {"timestamp":"2020-10-21T15:17:59.373Z","pid":35624,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:17:59.37396 {"timestamp":"2020-10-21T15:17:59.373Z","pid":35624,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:17:59.37414 {"timestamp":"2020-10-21T15:17:59.374Z","pid":35624,"message":"* Environment: production"}
2020-10-21_15:17:59.37434 {"timestamp":"2020-10-21T15:17:59.374Z","pid":35624,"message":"* Process workers: 2"}
2020-10-21_15:17:59.37453 {"timestamp":"2020-10-21T15:17:59.374Z","pid":35624,"message":"* Preloading application"}
2020-10-21_15:18:13.98524 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:18:14.57283 {"timestamp":"2020-10-21T15:18:14.572Z","pid":35624,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:18:14.57331 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:18:14.57341 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:18:14.57342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:18:14.57342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:18:14.57342   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:18:14.57343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:18:14.57343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:18:14.57343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:18:14.57343   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:18:14.57344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:18:14.57344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:18:14.57344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:18:14.57344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:18:14.57344   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:18:14.57346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:18:14.57346   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:18:14.57346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:18:14.57346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:18:14.57346   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:18:14.57347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:18:14.57347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:18:14.57347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:18:14.57347   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:18:14.57348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:18:14.57349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:18:14.57349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:18:14.57349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:18:14.57349   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:18:14.57350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:14.57350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:18:14.57350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:18:14.57350   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:14.57351   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:18:14.57352   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:18:14.57353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:18:14.57353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:18:14.57353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:18:14.57353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:18:14.57353   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:18:14.57354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:18:14.57354   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:18:14.57355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:18:14.57355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:18:14.57355   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:18:14.57356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:18:14.57356   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:18:14.57356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:18:14.57356   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:18:14.57357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:18:14.57357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:18:14.57357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:18:14.57357   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:18:14.57358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:18:14.57358   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:18:14.57359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:18:14.57359   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:18:14.57359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:18:14.57359   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:18:14.57359   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:18:14.57360   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:18:14.57360   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:18:14.57360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:18:14.57360   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:18:14.57361   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:18:14.57362   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:18:14.57362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:18:14.57362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:18:14.57362   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:18:14.57363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:18:14.57363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:18:14.57363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:18:14.57363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:18:14.57364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:18:14.57364   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:18:14.57365   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:18:14.57365   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:18:14.57365   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:18:15.25404 {"timestamp":"2020-10-21T15:18:15.253Z","pid":36095,"message":"Puma starting in cluster mode..."}
2020-10-21_15:18:15.25416 {"timestamp":"2020-10-21T15:18:15.254Z","pid":36095,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:18:15.25425 {"timestamp":"2020-10-21T15:18:15.254Z","pid":36095,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:18:15.25443 {"timestamp":"2020-10-21T15:18:15.254Z","pid":36095,"message":"* Environment: production"}
2020-10-21_15:18:15.25451 {"timestamp":"2020-10-21T15:18:15.254Z","pid":36095,"message":"* Process workers: 2"}
2020-10-21_15:18:15.25464 {"timestamp":"2020-10-21T15:18:15.254Z","pid":36095,"message":"* Preloading application"}
2020-10-21_15:18:31.27068 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:18:32.00850 {"timestamp":"2020-10-21T15:18:32.008Z","pid":36095,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:18:32.00895 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:18:32.00913 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:18:32.00918   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:18:32.00919   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:18:32.00920   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:18:32.00920   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:18:32.00920   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:18:32.00920   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:18:32.00930   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:18:32.00930   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:18:32.00942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:18:32.00942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:18:32.00943   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:18:32.00944   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:18:32.00945   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:18:32.00945   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:18:32.00946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:18:32.00946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:18:32.00946   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:18:32.00963   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:18:32.00968   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:18:32.00975   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:18:32.00976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:18:32.00976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:18:32.00977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:18:32.00988   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:18:32.00989   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:18:32.00989   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:18:32.00990   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:32.00990   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:18:32.00990   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:18:32.00991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:32.00991   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:18:32.01006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:18:32.01006   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:18:32.01007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:18:32.01007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:18:32.01007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:18:32.01007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:18:32.01007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:18:32.01008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:18:32.01009   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:18:32.01009   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:18:32.01024   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:18:32.01025   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:18:32.01025   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:18:32.01025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:18:32.01025   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:18:32.01026   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:18:32.01026   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:18:32.01026   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:18:32.01026   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:18:32.01027   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:18:32.01028   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:18:32.01028   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:18:32.01028   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:18:32.01028   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:18:32.01029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:18:32.01029   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:18:32.01029   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:18:32.01029   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:18:32.01029   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:18:32.01030   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:18:32.01030   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:18:32.01049   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:18:32.01050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:18:32.01050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:18:32.01051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:18:32.01051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:18:32.01063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:18:32.01064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:18:32.01064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:18:32.01065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:18:32.01065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:18:32.01094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:18:32.01095   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:18:32.01095   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:18:32.99899 {"timestamp":"2020-10-21T15:18:32.998Z","pid":36602,"message":"Puma starting in cluster mode..."}
2020-10-21_15:18:32.99902 {"timestamp":"2020-10-21T15:18:32.998Z","pid":36602,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:18:32.99904 {"timestamp":"2020-10-21T15:18:32.998Z","pid":36602,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:18:32.99904 {"timestamp":"2020-10-21T15:18:32.999Z","pid":36602,"message":"* Environment: production"}
2020-10-21_15:18:32.99904 {"timestamp":"2020-10-21T15:18:32.999Z","pid":36602,"message":"* Process workers: 2"}
2020-10-21_15:18:32.99905 {"timestamp":"2020-10-21T15:18:32.999Z","pid":36602,"message":"* Preloading application"}
2020-10-21_15:18:50.13159 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:18:50.99919 {"timestamp":"2020-10-21T15:18:50.999Z","pid":36602,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:18:50.99952 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:18:50.99971 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:18:50.99973   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:18:50.99973   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:18:50.99974   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:18:50.99974   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:18:50.99974   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:18:50.99976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:18:50.99976   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:18:50.99976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:18:50.99983   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:18:50.99984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:18:50.99984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:18:50.99984   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:18:50.99985   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:18:50.99986   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:18:50.99986   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:18:50.99991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:18:50.99991   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:18:50.99992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:18:50.99992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:18:50.99992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:18:50.99993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:18:50.99993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:18:51.00011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:18:51.00011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:18:51.00011   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:18:51.00012   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:18:51.00012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:51.00012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:18:51.00012   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:18:51.00013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:18:51.00013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:18:51.00014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:18:51.00014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:18:51.00015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:18:51.00015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:18:51.00021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:18:51.00022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:18:51.00022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:18:51.00022   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:18:51.00030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:18:51.00030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:18:51.00030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:18:51.00030   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:18:51.00031   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:18:51.00031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:18:51.00031   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:18:51.00031   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:18:51.00032   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:18:51.00032   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:18:51.00032   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:18:51.00033   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:18:51.00050   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:18:51.00051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:18:51.00051   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:18:51.00052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:18:51.00052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:18:51.00052   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:18:51.00052   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:18:51.00052   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:18:51.00053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:18:51.00056   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:18:51.00057   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:18:51.00073   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:18:51.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:18:51.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:18:51.00074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:18:51.00075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:18:51.00075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:18:51.00075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:18:51.00075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:18:51.00075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:18:51.00076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:18:51.00077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:18:51.00077   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:18:51.00077   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:18:51.87017 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"Puma starting in cluster mode..."}
2020-10-21_15:18:51.87022 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:18:51.87022 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:18:51.87023 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"* Environment: production"}
2020-10-21_15:18:51.87044 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"* Process workers: 2"}
2020-10-21_15:18:51.87046 {"timestamp":"2020-10-21T15:18:51.870Z","pid":37163,"message":"* Preloading application"}
2020-10-21_15:19:06.22425 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:19:07.11108 {"timestamp":"2020-10-21T15:19:07.110Z","pid":37163,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:19:07.11145 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:19:07.11162 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:19:07.11163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:19:07.11163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:19:07.11163   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:19:07.11164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:19:07.11164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:19:07.11164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:19:07.11164   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:19:07.11164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:19:07.11165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:19:07.11165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:19:07.11165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:19:07.11165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:19:07.11167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:19:07.11167   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:19:07.11167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:19:07.11167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:19:07.11168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:19:07.11168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:19:07.11168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:19:07.11168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:19:07.11169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:19:07.11169   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:19:07.11170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:19:07.11170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:19:07.11170   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:19:07.11171   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:19:07.11171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:07.11171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:19:07.11171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:19:07.11172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:07.11172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:19:07.11173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:19:07.11174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:19:07.11174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:19:07.11174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:19:07.11175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:19:07.11175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:19:07.11175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:19:07.11175   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:19:07.11176   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:19:07.11177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:19:07.11177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:19:07.11177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:19:07.11177   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:19:07.11178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:19:07.11178   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:19:07.11178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:19:07.11178   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:19:07.11179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:19:07.11179   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:19:07.11180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:19:07.11180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:19:07.11180   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:19:07.11181   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:19:07.11181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:19:07.11181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:19:07.11181   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:19:07.11182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:19:07.11182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:19:07.11182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:19:07.11182   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:19:07.11182   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:19:07.11183   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:19:07.11184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:19:07.11184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:19:07.11184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:19:07.11185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:19:07.11185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:19:07.11185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:19:07.11185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:19:07.11186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:19:07.11186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:19:07.11187   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:19:07.11187   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:19:07.11188   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:19:07.95432 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"Puma starting in cluster mode..."}
2020-10-21_15:19:07.95448 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:19:07.95461 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:19:07.95473 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"* Environment: production"}
2020-10-21_15:19:07.95484 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"* Process workers: 2"}
2020-10-21_15:19:07.95498 {"timestamp":"2020-10-21T15:19:07.954Z","pid":37635,"message":"* Preloading application"}
2020-10-21_15:19:23.13607 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:19:24.18226 {"timestamp":"2020-10-21T15:19:24.182Z","pid":37635,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:19:24.18261 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:19:24.18283 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:19:24.18284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:19:24.18284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:19:24.18284   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:19:24.18285   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:19:24.18285   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:19:24.18285   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:19:24.18285   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:19:24.18286   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:19:24.18286   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:19:24.18286   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:19:24.18287   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:19:24.18287   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:19:24.18288   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:19:24.18289   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:19:24.18289   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:19:24.18290   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:19:24.18290   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:19:24.18290   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:19:24.18290   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:19:24.18291   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:19:24.18291   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:19:24.18291   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:19:24.18292   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:19:24.18292   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:19:24.18293   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:19:24.18293   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:19:24.18293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:24.18293   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:19:24.18294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:19:24.18294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:24.18294   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:19:24.18295   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:19:24.18295   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:19:24.18296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:19:24.18296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:19:24.18296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:19:24.18296   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:19:24.18297   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:19:24.18297   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:19:24.18298   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:19:24.18298   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:19:24.18299   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:19:24.18299   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:19:24.18299   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:19:24.18300   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:19:24.18300   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:19:24.18300   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:19:24.18300   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:19:24.18300   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:19:24.18301   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:19:24.18302   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:19:24.18302   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:19:24.18302   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:19:24.18302   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:19:24.18303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:19:24.18303   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:19:24.18303   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:19:24.18303   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:19:24.18304   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:19:24.18304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:19:24.18304   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:19:24.18304   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:19:24.18305   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:19:24.18305   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:19:24.18306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:19:24.18306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:19:24.18306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:19:24.18306   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:19:24.18307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:19:24.18307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:19:24.18307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:19:24.18307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:19:24.18308   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:19:24.18309   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:19:24.18309   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:19:25.07646 {"timestamp":"2020-10-21T15:19:25.076Z","pid":38130,"message":"Puma starting in cluster mode..."}
2020-10-21_15:19:25.07672 {"timestamp":"2020-10-21T15:19:25.076Z","pid":38130,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:19:25.07691 {"timestamp":"2020-10-21T15:19:25.076Z","pid":38130,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:19:25.07707 {"timestamp":"2020-10-21T15:19:25.077Z","pid":38130,"message":"* Environment: production"}
2020-10-21_15:19:25.07724 {"timestamp":"2020-10-21T15:19:25.077Z","pid":38130,"message":"* Process workers: 2"}
2020-10-21_15:19:25.07746 {"timestamp":"2020-10-21T15:19:25.077Z","pid":38130,"message":"* Preloading application"}
2020-10-21_15:19:40.48424 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:19:41.60338 {"timestamp":"2020-10-21T15:19:41.603Z","pid":38130,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:19:41.60377 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:19:41.60390 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:19:41.60397   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:19:41.60400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:19:41.60400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:19:41.60400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:19:41.60400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:19:41.60401   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:19:41.60401   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:19:41.60401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:19:41.60401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:19:41.60402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:19:41.60402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:19:41.60402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:19:41.60414   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:19:41.60415   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:19:41.60415   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:19:41.60416   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:19:41.60416   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:19:41.60416   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:19:41.60416   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:19:41.60417   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:19:41.60417   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:19:41.60417   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:19:41.60437   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:19:41.60437   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:19:41.60438   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:19:41.60438   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:19:41.60439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:41.60439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:19:41.60439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:19:41.60439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:19:41.60440   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:19:41.60441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:19:41.60441   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:19:41.60448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:19:41.60448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:19:41.60449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:19:41.60449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:19:41.60449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:19:41.60449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:19:41.60459   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:19:41.60459   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:19:41.60460   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:19:41.60460   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:19:41.60460   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:19:41.60460   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:19:41.60461   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:19:41.60461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:19:41.60461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:19:41.60461   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:19:41.60462   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:19:41.60479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:19:41.60479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:19:41.60479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:19:41.60479   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:19:41.60480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:19:41.60480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:19:41.60481   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:19:41.60481   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:19:41.60481   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:19:41.60481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:19:41.60482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:19:41.60482   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:19:41.60483   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:19:41.60483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:19:41.60483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:19:41.60484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:19:41.60484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:19:41.60484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:19:41.60484   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:19:41.60485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:19:41.60485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:19:41.60485   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:19:41.60495   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:19:41.60495   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:19:41.60495   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:19:42.81453 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"Puma starting in cluster mode..."}
2020-10-21_15:19:42.81459 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:19:42.81459 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:19:42.81491 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"* Environment: production"}
2020-10-21_15:19:42.81493 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"* Process workers: 2"}
2020-10-21_15:19:42.81495 {"timestamp":"2020-10-21T15:19:42.814Z","pid":38643,"message":"* Preloading application"}
2020-10-21_15:20:00.55755 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:20:01.28371 {"timestamp":"2020-10-21T15:20:01.283Z","pid":38643,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:20:01.28373 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:20:01.28374 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:20:01.28374   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:20:01.28375   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:20:01.28376   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:20:01.28376   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:20:01.28376   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:20:01.28376   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:20:01.28377   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:20:01.28377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:20:01.28377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:20:01.28377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:20:01.28377   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:20:01.28378   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:20:01.28379   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:20:01.28379   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:20:01.28379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:20:01.28379   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:20:01.28380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:20:01.28380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:20:01.28380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:20:01.28380   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:20:01.28381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:20:01.28381   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:20:01.28382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:20:01.28382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:20:01.28382   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:20:01.28382   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:20:01.28383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:01.28383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:20:01.28383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:20:01.28383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:01.28384   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:20:01.28385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:20:01.28385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:20:01.28385   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:20:01.28386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:20:01.28386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:20:01.28386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:20:01.28386   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:20:01.28387   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:20:01.28388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:20:01.28388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:20:01.28388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:20:01.28388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:20:01.28388   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:20:01.28389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:20:01.28389   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:20:01.28389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:20:01.28389   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:20:01.28390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:20:01.28390   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:20:01.28391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:20:01.28391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:20:01.28391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:20:01.28391   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:20:01.28392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:20:01.28392   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:20:01.28392   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:20:01.28392   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:20:01.28393   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:20:01.28393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:20:01.28393   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:20:01.28393   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:20:01.28394   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:20:01.28394   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:20:01.28395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:20:01.28395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:20:01.28395   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:20:01.28396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:20:01.28396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:20:01.28396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:20:01.28396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:20:01.28396   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:20:01.28400   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:20:01.28400   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:20:01.28401   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:20:02.41518 {"timestamp":"2020-10-21T15:20:02.415Z","pid":39213,"message":"Puma starting in cluster mode..."}
2020-10-21_15:20:02.41549 {"timestamp":"2020-10-21T15:20:02.415Z","pid":39213,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:20:02.41570 {"timestamp":"2020-10-21T15:20:02.415Z","pid":39213,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:20:02.41589 {"timestamp":"2020-10-21T15:20:02.415Z","pid":39213,"message":"* Environment: production"}
2020-10-21_15:20:02.41610 {"timestamp":"2020-10-21T15:20:02.416Z","pid":39213,"message":"* Process workers: 2"}
2020-10-21_15:20:02.41640 {"timestamp":"2020-10-21T15:20:02.416Z","pid":39213,"message":"* Preloading application"}
2020-10-21_15:20:21.44959 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:20:22.53976 {"timestamp":"2020-10-21T15:20:22.539Z","pid":39213,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:20:22.54041 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:20:22.54072 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:20:22.54073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:20:22.54073   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:20:22.54074   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:20:22.54074   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:20:22.54074   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:20:22.54075   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:20:22.54075   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:20:22.54075   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:20:22.54076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:20:22.54076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:20:22.54076   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:20:22.54077   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:20:22.54078   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:20:22.54079   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:20:22.54080   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:20:22.54080   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:20:22.54081   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:20:22.54081   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:20:22.54081   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:20:22.54082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:20:22.54082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:20:22.54082   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:20:22.54084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:20:22.54084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:20:22.54084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:20:22.54085   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:20:22.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:22.54085   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:20:22.54086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:20:22.54086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:22.54086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:20:22.54088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:20:22.54088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:20:22.54089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:20:22.54089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:20:22.54089   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:20:22.54090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:20:22.54090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:20:22.54090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:20:22.54092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:20:22.54092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:20:22.54092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:20:22.54093   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:20:22.54093   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:20:22.54094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:20:22.54094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:20:22.54094   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:20:22.54095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:20:22.54095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:20:22.54095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:20:22.54097   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:20:22.54097   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:20:22.54097   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:20:22.54098   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:20:22.54098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:20:22.54098   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:20:22.54099   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:20:22.54099   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:20:22.54099   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:20:22.54100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:20:22.54100   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:20:22.54100   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:20:22.54102   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:20:22.54102   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:20:22.54102   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:20:22.54103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:20:22.54103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:20:22.54103   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:20:22.54104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:20:22.54104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:20:22.54104   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:20:22.54105   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:20:22.54106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:20:22.54106   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:20:22.54107   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:20:23.77542 {"timestamp":"2020-10-21T15:20:23.775Z","pid":39812,"message":"Puma starting in cluster mode..."}
2020-10-21_15:20:23.77555 {"timestamp":"2020-10-21T15:20:23.775Z","pid":39812,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:20:23.77587 {"timestamp":"2020-10-21T15:20:23.775Z","pid":39812,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:20:23.77606 {"timestamp":"2020-10-21T15:20:23.775Z","pid":39812,"message":"* Environment: production"}
2020-10-21_15:20:23.77628 {"timestamp":"2020-10-21T15:20:23.776Z","pid":39812,"message":"* Process workers: 2"}
2020-10-21_15:20:23.77645 {"timestamp":"2020-10-21T15:20:23.776Z","pid":39812,"message":"* Preloading application"}
2020-10-21_15:20:41.66281 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:20:42.56076 {"timestamp":"2020-10-21T15:20:42.560Z","pid":39812,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:20:42.56112 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:20:42.56138 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:20:42.56140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:20:42.56140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:20:42.56140   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:20:42.56141   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:20:42.56141   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:20:42.56142   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:20:42.56142   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:20:42.56142   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:20:42.56143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:20:42.56143   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:20:42.56144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:20:42.56144   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:20:42.56145   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:20:42.56146   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:20:42.56146   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:20:42.56147   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:20:42.56147   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:20:42.56147   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:20:42.56148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:20:42.56148   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:20:42.56149   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:20:42.56149   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:20:42.56150   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:20:42.56151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:20:42.56151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:20:42.56153   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:20:42.56153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:42.56153   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:20:42.56154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:20:42.56154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:42.56155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:20:42.56156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:20:42.56156   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:20:42.56157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:20:42.56157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:20:42.56157   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:20:42.56158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:20:42.56158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:20:42.56158   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:20:42.56160   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:20:42.56160   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:20:42.56160   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:20:42.56161   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:20:42.56161   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:20:42.56161   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:20:42.56162   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:20:42.56162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:20:42.56162   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:20:42.56163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:20:42.56163   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:20:42.56164   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:20:42.56165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:20:42.56165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:20:42.56165   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:20:42.56166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:20:42.56166   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:20:42.56166   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:20:42.56167   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:20:42.56168   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:20:42.56168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:20:42.56168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:20:42.56169   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:20:42.56170   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:20:42.56170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:20:42.56171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:20:42.56171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:20:42.56171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:20:42.56172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:20:42.56172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:20:42.56172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:20:42.56173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:20:42.56173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:20:42.56174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:20:42.56175   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:20:42.56175   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:20:43.49377 {"timestamp":"2020-10-21T15:20:43.493Z","pid":40390,"message":"Puma starting in cluster mode..."}
2020-10-21_15:20:43.49395 {"timestamp":"2020-10-21T15:20:43.493Z","pid":40390,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:20:43.49433 {"timestamp":"2020-10-21T15:20:43.494Z","pid":40390,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:20:43.49456 {"timestamp":"2020-10-21T15:20:43.494Z","pid":40390,"message":"* Environment: production"}
2020-10-21_15:20:43.49477 {"timestamp":"2020-10-21T15:20:43.494Z","pid":40390,"message":"* Process workers: 2"}
2020-10-21_15:20:43.49507 {"timestamp":"2020-10-21T15:20:43.495Z","pid":40390,"message":"* Preloading application"}
2020-10-21_15:20:59.12992 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:20:59.92671 {"timestamp":"2020-10-21T15:20:59.926Z","pid":40390,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:20:59.92707 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:20:59.92729 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:20:59.92729   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:20:59.92730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:20:59.92730   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:20:59.92731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:20:59.92731   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:20:59.92732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:20:59.92732   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:20:59.92732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:20:59.92732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:20:59.92732   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:20:59.92733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:20:59.92733   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:20:59.92734   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:20:59.92734   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:20:59.92735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:20:59.92735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:20:59.92735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:20:59.92735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:20:59.92735   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:20:59.92736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:20:59.92736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:20:59.92736   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:20:59.92737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:20:59.92737   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:20:59.92738   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:20:59.92738   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:20:59.92738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:59.92738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:20:59.92739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:20:59.92739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:20:59.92739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:20:59.92740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:20:59.92740   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:20:59.92741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:20:59.92741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:20:59.92741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:20:59.92742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:20:59.92742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:20:59.92742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:20:59.92743   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:20:59.92744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:20:59.92744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:20:59.92744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:20:59.92744   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:20:59.92744   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:20:59.92745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:20:59.92745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:20:59.92745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:20:59.92745   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:20:59.92746   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:20:59.92747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:20:59.92747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:20:59.92747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:20:59.92747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:20:59.92748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:20:59.92748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:20:59.92748   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:20:59.92748   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:20:59.92748   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:20:59.92749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:20:59.92749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:20:59.92749   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:20:59.92750   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:20:59.92750   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:20:59.92751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:20:59.92751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:20:59.92751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:20:59.92751   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:20:59.92752   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:20:59.92752   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:20:59.92752   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:20:59.92753   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:20:59.92754   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:20:59.92754   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:20:59.92754   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:21:00.89305 {"timestamp":"2020-10-21T15:21:00.892Z","pid":40899,"message":"Puma starting in cluster mode..."}
2020-10-21_15:21:00.89319 {"timestamp":"2020-10-21T15:21:00.893Z","pid":40899,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:21:00.89327 {"timestamp":"2020-10-21T15:21:00.893Z","pid":40899,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:21:00.89334 {"timestamp":"2020-10-21T15:21:00.893Z","pid":40899,"message":"* Environment: production"}
2020-10-21_15:21:00.89357 {"timestamp":"2020-10-21T15:21:00.893Z","pid":40899,"message":"* Process workers: 2"}
2020-10-21_15:21:00.89374 {"timestamp":"2020-10-21T15:21:00.893Z","pid":40899,"message":"* Preloading application"}
2020-10-21_15:21:15.43269 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:21:16.43128 {"timestamp":"2020-10-21T15:21:16.431Z","pid":40899,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:21:16.43160 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:21:16.43179 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:21:16.43180   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:21:16.43180   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:21:16.43180   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:21:16.43181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:21:16.43181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:21:16.43181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:21:16.43181   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:21:16.43182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:21:16.43182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:21:16.43182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:21:16.43182   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:21:16.43183   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:21:16.43184   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:21:16.43184   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:21:16.43184   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:21:16.43185   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:21:16.43186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:21:16.43186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:21:16.43186   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:21:16.43187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:21:16.43187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:21:16.43187   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:21:16.43188   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:21:16.43188   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:21:16.43189   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:21:16.43189   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:21:16.43189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:16.43189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:21:16.43190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:21:16.43190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:16.43190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:21:16.43191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:21:16.43191   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:21:16.43192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:21:16.43192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:21:16.43192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:21:16.43192   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:21:16.43193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:21:16.43193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:21:16.43194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:21:16.43194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:21:16.43194   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:21:16.43195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:21:16.43195   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:21:16.43195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:21:16.43195   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:21:16.43196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:21:16.43196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:21:16.43196   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:21:16.43197   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:21:16.43198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:21:16.43198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:21:16.43198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:21:16.43198   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:21:16.43199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:21:16.43199   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:21:16.43199   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:21:16.43199   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:21:16.43200   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:21:16.43200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:21:16.43200   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:21:16.43200   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:21:16.43201   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:21:16.43202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:21:16.43202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:21:16.43202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:21:16.43202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:21:16.43202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:21:16.43203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:21:16.43203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:21:16.43203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:21:16.43203   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:21:16.43205   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:21:16.43205   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:21:16.43205   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:21:17.31923 {"timestamp":"2020-10-21T15:21:17.319Z","pid":41387,"message":"Puma starting in cluster mode..."}
2020-10-21_15:21:17.31989 {"timestamp":"2020-10-21T15:21:17.319Z","pid":41387,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:21:17.31998 {"timestamp":"2020-10-21T15:21:17.319Z","pid":41387,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:21:17.32006 {"timestamp":"2020-10-21T15:21:17.320Z","pid":41387,"message":"* Environment: production"}
2020-10-21_15:21:17.32028 {"timestamp":"2020-10-21T15:21:17.320Z","pid":41387,"message":"* Process workers: 2"}
2020-10-21_15:21:17.32093 {"timestamp":"2020-10-21T15:21:17.320Z","pid":41387,"message":"* Preloading application"}
2020-10-21_15:21:31.34602 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:21:32.04251 {"timestamp":"2020-10-21T15:21:32.042Z","pid":41387,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:21:32.04285 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:21:32.04302 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:21:32.04306   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:21:32.04307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:21:32.04307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:21:32.04307   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:21:32.04308   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:21:32.04308   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:21:32.04308   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:21:32.04316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:21:32.04316   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:21:32.04321   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:21:32.04322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:21:32.04322   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:21:32.04324   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:21:32.04324   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:21:32.04324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:21:32.04324   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:21:32.04325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:21:32.04325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:21:32.04325   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:21:32.04343   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:21:32.04348   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:21:32.04349   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:21:32.04361   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:21:32.04362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:21:32.04362   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:21:32.04362   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:21:32.04363   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:32.04368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:21:32.04368   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:21:32.04369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:32.04369   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:21:32.04381   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:21:32.04382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:21:32.04382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:21:32.04382   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:21:32.04383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:21:32.04383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:21:32.04383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:21:32.04383   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:21:32.04385   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:21:32.04385   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:21:32.04404   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:21:32.04405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:21:32.04405   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:21:32.04405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:21:32.04405   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:21:32.04406   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:21:32.04406   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:21:32.04418   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:21:32.04419   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:21:32.04421   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:21:32.04421   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:21:32.04421   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:21:32.04421   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:21:32.04435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:21:32.04436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:21:32.04436   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:21:32.04436   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:21:32.04436   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:21:32.04437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:21:32.04437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:21:32.04437   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:21:32.04445   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:21:32.04452   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:21:32.04453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:21:32.04453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:21:32.04453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:21:32.04453   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:21:32.04454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:21:32.04454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:21:32.04454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:21:32.04454   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:21:32.04475   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:21:32.04475   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:21:32.04476   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:21:32.88248 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"Puma starting in cluster mode..."}
2020-10-21_15:21:32.88253 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:21:32.88253 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:21:32.88254 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"* Environment: production"}
2020-10-21_15:21:32.88274 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"* Process workers: 2"}
2020-10-21_15:21:32.88278 {"timestamp":"2020-10-21T15:21:32.882Z","pid":41850,"message":"* Preloading application"}
2020-10-21_15:21:47.42791 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:21:48.34887 {"timestamp":"2020-10-21T15:21:48.348Z","pid":41850,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:21:48.34980 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:21:48.34992 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:21:48.34993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:21:48.34993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:21:48.34993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:21:48.34993   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:21:48.34994   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:21:48.34994   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:21:48.34995   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:21:48.34995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:21:48.34995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:21:48.34995   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:21:48.34996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:21:48.34996   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:21:48.34997   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:21:48.34997   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:21:48.34997   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:21:48.34998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:21:48.34998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:21:48.34998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:21:48.34998   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:21:48.34999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:21:48.34999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:21:48.34999   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:21:48.35000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:21:48.35000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:21:48.35000   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:21:48.35001   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:21:48.35001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:48.35001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:21:48.35001   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:21:48.35002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:21:48.35002   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:21:48.35003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:21:48.35003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:21:48.35003   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:21:48.35004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:21:48.35004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:21:48.35004   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:21:48.35005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:21:48.35005   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:21:48.35006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:21:48.35006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:21:48.35006   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:21:48.35007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:21:48.35007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:21:48.35007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:21:48.35007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:21:48.35007   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:21:48.35008   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:21:48.35008   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:21:48.35008   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:21:48.35009   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:21:48.35009   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:21:48.35010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:21:48.35010   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:21:48.35010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:21:48.35010   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:21:48.35010   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:21:48.35011   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:21:48.35011   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:21:48.35011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:21:48.35011   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:21:48.35012   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:21:48.35012   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:21:48.35013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:21:48.35013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:21:48.35013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:21:48.35013   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:21:48.35014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:21:48.35014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:21:48.35014   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:21:48.35015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:21:48.35015   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:21:48.35016   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:21:48.35016   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:21:48.35016   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:21:49.01605 {"timestamp":"2020-10-21T15:21:49.015Z","pid":42342,"message":"Puma starting in cluster mode..."}
2020-10-21_15:21:49.01608 {"timestamp":"2020-10-21T15:21:49.015Z","pid":42342,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:21:49.01609 {"timestamp":"2020-10-21T15:21:49.015Z","pid":42342,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:21:49.01609 {"timestamp":"2020-10-21T15:21:49.016Z","pid":42342,"message":"* Environment: production"}
2020-10-21_15:21:49.01609 {"timestamp":"2020-10-21T15:21:49.016Z","pid":42342,"message":"* Process workers: 2"}
2020-10-21_15:21:49.01610 {"timestamp":"2020-10-21T15:21:49.016Z","pid":42342,"message":"* Preloading application"}
2020-10-21_15:22:03.78590 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:22:04.53879 {"timestamp":"2020-10-21T15:22:04.538Z","pid":42342,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:22:04.53914 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:22:04.53929 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:22:04.53930   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:22:04.53930   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:22:04.53931   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:22:04.53931   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:22:04.53931   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:22:04.53931   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:22:04.53932   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:22:04.53932   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:22:04.53932   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:22:04.53933   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:22:04.53933   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:22:04.53933   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:22:04.53934   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:22:04.53934   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:22:04.53935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:22:04.53935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:22:04.53935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:22:04.53936   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:22:04.53937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:22:04.53937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:22:04.53937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:22:04.53937   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:22:04.53938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:22:04.53939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:22:04.53939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:22:04.53939   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:22:04.53939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:04.53940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:22:04.53940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:22:04.53940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:04.53940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:22:04.53941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:22:04.53942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:22:04.53942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:22:04.53942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:22:04.53942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:22:04.53943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:22:04.53943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:22:04.53943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:22:04.53944   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:22:04.53944   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:22:04.53945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:22:04.53945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:22:04.53945   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:22:04.53945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:22:04.53946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:22:04.53946   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:22:04.53946   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:22:04.53947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:22:04.53947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:22:04.53948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:22:04.53948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:22:04.53948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:22:04.53949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:22:04.53949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:22:04.53949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:22:04.53949   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:22:04.53949   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:22:04.53950   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:22:04.53950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:22:04.53950   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:22:04.53950   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:22:04.53951   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:22:04.53952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:22:04.53952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:22:04.53952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:22:04.53952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:22:04.53953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:22:04.53953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:22:04.53953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:22:04.53953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:22:04.53953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:22:04.53955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:22:04.53955   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:22:04.53955   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:22:05.53272 {"timestamp":"2020-10-21T15:22:05.532Z","pid":42823,"message":"Puma starting in cluster mode..."}
2020-10-21_15:22:05.53302 {"timestamp":"2020-10-21T15:22:05.532Z","pid":42823,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:22:05.53316 {"timestamp":"2020-10-21T15:22:05.533Z","pid":42823,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:22:05.53330 {"timestamp":"2020-10-21T15:22:05.533Z","pid":42823,"message":"* Environment: production"}
2020-10-21_15:22:05.53346 {"timestamp":"2020-10-21T15:22:05.533Z","pid":42823,"message":"* Process workers: 2"}
2020-10-21_15:22:05.53362 {"timestamp":"2020-10-21T15:22:05.533Z","pid":42823,"message":"* Preloading application"}
2020-10-21_15:22:19.05274 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:22:19.76293 {"timestamp":"2020-10-21T15:22:19.762Z","pid":42823,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:22:19.76549 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:22:19.76900 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:22:19.76903   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:22:19.76903   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:22:19.76904   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:22:19.76904   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:22:19.76904   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:22:19.76905   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:22:19.76905   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:22:19.76905   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:22:19.76906   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:22:19.76906   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:22:19.76906   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:22:19.76907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:22:19.76908   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:22:19.76909   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:22:19.76909   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:22:19.76909   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:22:19.76910   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:22:19.76910   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:22:19.76911   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:22:19.76911   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:22:19.76911   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:22:19.76912   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:22:19.76913   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:22:19.76913   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:22:19.76914   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:22:19.76914   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:22:19.76915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:19.76915   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:22:19.76916   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:22:19.76917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:19.76917   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:22:19.76918   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:22:19.76919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:22:19.76919   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:22:19.76920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:22:19.76920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:22:19.76920   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:22:19.76921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:22:19.76921   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:22:19.76922   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:22:19.76923   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:22:19.76923   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:22:19.76923   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:22:19.76924   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:22:19.76924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:22:19.76924   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:22:19.76925   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:22:19.76925   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:22:19.76925   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:22:19.76926   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:22:19.76927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:22:19.76927   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:22:19.76928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:22:19.76928   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:22:19.76928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:22:19.76929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:22:19.76929   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:22:19.76929   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:22:19.76930   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:22:19.76930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:22:19.76930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:22:19.76931   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:22:19.76932   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:22:19.76933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:22:19.76933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:22:19.76933   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:22:19.76934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:22:19.76934   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:22:19.76935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:22:19.76935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:22:19.76935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:22:19.76936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:22:19.76937   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:22:19.76937   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:22:19.76938   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:22:20.61758 {"timestamp":"2020-10-21T15:22:20.617Z","pid":43269,"message":"Puma starting in cluster mode..."}
2020-10-21_15:22:20.61772 {"timestamp":"2020-10-21T15:22:20.617Z","pid":43269,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:22:20.61796 {"timestamp":"2020-10-21T15:22:20.617Z","pid":43269,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:22:20.61806 {"timestamp":"2020-10-21T15:22:20.618Z","pid":43269,"message":"* Environment: production"}
2020-10-21_15:22:20.61819 {"timestamp":"2020-10-21T15:22:20.618Z","pid":43269,"message":"* Process workers: 2"}
2020-10-21_15:22:20.61830 {"timestamp":"2020-10-21T15:22:20.618Z","pid":43269,"message":"* Preloading application"}
2020-10-21_15:22:37.91191 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:22:38.77181 {"timestamp":"2020-10-21T15:22:38.771Z","pid":43269,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:22:38.77199 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:22:38.77208 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:22:38.77209   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:22:38.77209   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:22:38.77209   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:22:38.77209   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:22:38.77210   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:22:38.77210   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:22:38.77210   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:22:38.77210   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:22:38.77211   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:22:38.77211   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:22:38.77212   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:22:38.77212   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:22:38.77213   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:22:38.77213   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:22:38.77214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:22:38.77214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:22:38.77214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:22:38.77214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:22:38.77214   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:22:38.77215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:22:38.77215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:22:38.77215   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:22:38.77216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:22:38.77216   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:22:38.77217   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:22:38.77217   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:22:38.77217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:38.77217   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:22:38.77218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:22:38.77218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:38.77218   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:22:38.77219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:22:38.77219   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:22:38.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:22:38.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:22:38.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:22:38.77220   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:22:38.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:22:38.77221   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:22:38.77222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:22:38.77222   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:22:38.77223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:22:38.77223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:22:38.77223   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:22:38.77223   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:22:38.77224   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:22:38.77224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:22:38.77224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:22:38.77224   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:22:38.77225   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:22:38.77226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:22:38.77226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:22:38.77226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:22:38.77226   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:22:38.77226   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:22:38.77227   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:22:38.77227   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:22:38.77227   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:22:38.77227   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:22:38.77228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:22:38.77228   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:22:38.77228   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:22:38.77229   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:22:38.77229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:22:38.77229   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:22:38.77230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:22:38.77230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:22:38.77230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:22:38.77230   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:22:38.77231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:22:38.77231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:22:38.77231   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:22:38.77233   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:22:38.77233   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:22:38.77234   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:22:39.68914 {"timestamp":"2020-10-21T15:22:39.689Z","pid":43823,"message":"Puma starting in cluster mode..."}
2020-10-21_15:22:39.68939 {"timestamp":"2020-10-21T15:22:39.689Z","pid":43823,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:22:39.68970 {"timestamp":"2020-10-21T15:22:39.689Z","pid":43823,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:22:39.68988 {"timestamp":"2020-10-21T15:22:39.689Z","pid":43823,"message":"* Environment: production"}
2020-10-21_15:22:39.69006 {"timestamp":"2020-10-21T15:22:39.689Z","pid":43823,"message":"* Process workers: 2"}
2020-10-21_15:22:39.69027 {"timestamp":"2020-10-21T15:22:39.690Z","pid":43823,"message":"* Preloading application"}
2020-10-21_15:22:53.20808 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:22:54.16437 {"timestamp":"2020-10-21T15:22:54.164Z","pid":43823,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:22:54.16474 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:22:54.16512 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:22:54.16513   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:22:54.16513   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:22:54.16513   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:22:54.16513   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:22:54.16514   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:22:54.16514   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:22:54.16514   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:22:54.16515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:22:54.16515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:22:54.16515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:22:54.16515   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:22:54.16516   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:22:54.16517   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:22:54.16517   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:22:54.16517   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:22:54.16518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:22:54.16518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:22:54.16518   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:22:54.16519   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:22:54.16520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:22:54.16520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:22:54.16520   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:22:54.16521   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:22:54.16522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:22:54.16522   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:22:54.16522   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:22:54.16522   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:54.16523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:22:54.16523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:22:54.16523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:22:54.16523   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:22:54.16524   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:22:54.16525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:22:54.16525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:22:54.16525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:22:54.16525   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:22:54.16526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:22:54.16526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:22:54.16526   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:22:54.16527   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:22:54.16528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:22:54.16528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:22:54.16528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:22:54.16528   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:22:54.16529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:22:54.16529   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:22:54.16529   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:22:54.16529   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:22:54.16529   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:22:54.16530   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:22:54.16531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:22:54.16531   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:22:54.16532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:22:54.16532   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:22:54.16532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:22:54.16532   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:22:54.16532   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:22:54.16533   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:22:54.16533   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:22:54.16533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:22:54.16533   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:22:54.16534   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:22:54.16535   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:22:54.16535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:22:54.16535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:22:54.16535   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:22:54.16536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:22:54.16536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:22:54.16536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:22:54.16536   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:22:54.16537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:22:54.16537   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:22:54.16538   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:22:54.16538   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:22:54.16539   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:22:55.00691 {"timestamp":"2020-10-21T15:22:55.006Z","pid":44288,"message":"Puma starting in cluster mode..."}
2020-10-21_15:22:55.00704 {"timestamp":"2020-10-21T15:22:55.007Z","pid":44288,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:22:55.00738 {"timestamp":"2020-10-21T15:22:55.007Z","pid":44288,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:22:55.00754 {"timestamp":"2020-10-21T15:22:55.007Z","pid":44288,"message":"* Environment: production"}
2020-10-21_15:22:55.00771 {"timestamp":"2020-10-21T15:22:55.007Z","pid":44288,"message":"* Process workers: 2"}
2020-10-21_15:22:55.00787 {"timestamp":"2020-10-21T15:22:55.007Z","pid":44288,"message":"* Preloading application"}
2020-10-21_15:23:09.18511 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:23:09.98564 {"timestamp":"2020-10-21T15:23:09.985Z","pid":44288,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:23:09.98581 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:23:09.98593 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:23:09.98594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:23:09.98594   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:23:09.98595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:23:09.98595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:23:09.98595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:23:09.98595   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:23:09.98596   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:23:09.98596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:23:09.98596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:23:09.98596   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:23:09.98597   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:23:09.98597   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:23:09.98598   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:23:09.98598   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:23:09.98609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:23:09.98609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:23:09.98609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:23:09.98610   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:23:09.98613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:23:09.98613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:23:09.98613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:23:09.98614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:23:09.98615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:23:09.98615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:23:09.98615   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:23:09.98616   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:23:09.98616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:09.98616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:23:09.98616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:23:09.98617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:09.98617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:23:09.98632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:23:09.98633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:23:09.98633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:23:09.98633   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:23:09.98634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:23:09.98634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:23:09.98634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:23:09.98634   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:23:09.98635   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:23:09.98636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:23:09.98636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:23:09.98636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:23:09.98636   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:23:09.98637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:23:09.98637   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:23:09.98637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:23:09.98637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:23:09.98637   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:23:09.98638   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:23:09.98639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:23:09.98639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:23:09.98639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:23:09.98639   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:23:09.98639   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:23:09.98642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:23:09.98643   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:23:09.98643   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:23:09.98643   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:23:09.98644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:23:09.98644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:23:09.98644   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:23:09.98645   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:23:09.98646   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:23:09.98646   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:23:09.98646   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:23:09.98647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:23:09.98647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:23:09.98647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:23:09.98647   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:23:09.98648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:23:09.98648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:23:09.98666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:23:09.98667   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:23:09.98667   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:23:10.66306 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"Puma starting in cluster mode..."}
2020-10-21_15:23:10.66315 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:23:10.66320 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:23:10.66326 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"* Environment: production"}
2020-10-21_15:23:10.66335 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"* Process workers: 2"}
2020-10-21_15:23:10.66353 {"timestamp":"2020-10-21T15:23:10.663Z","pid":44744,"message":"* Preloading application"}
2020-10-21_15:23:24.80222 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:23:25.77522 {"timestamp":"2020-10-21T15:23:25.775Z","pid":44744,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:23:25.77561 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:23:25.77580 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:23:25.77580   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:23:25.77581   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:23:25.77581   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:23:25.77581   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:23:25.77581   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:23:25.77582   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:23:25.77582   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:23:25.77582   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:23:25.77582   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:23:25.77583   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:23:25.77583   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:23:25.77584   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:23:25.77585   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:23:25.77585   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:23:25.77585   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:23:25.77585   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:23:25.77586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:23:25.77586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:23:25.77586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:23:25.77586   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:23:25.77587   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:23:25.77587   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:23:25.77588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:23:25.77588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:23:25.77588   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:23:25.77589   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:23:25.77589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:25.77589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:23:25.77589   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:23:25.77590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:25.77590   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:23:25.77591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:23:25.77591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:23:25.77591   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:23:25.77592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:23:25.77592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:23:25.77592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:23:25.77592   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:23:25.77593   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:23:25.77594   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:23:25.77594   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:23:25.77594   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:23:25.77595   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:23:25.77595   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:23:25.77595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:23:25.77595   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:23:25.77596   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:23:25.77596   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:23:25.77596   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:23:25.77596   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:23:25.77597   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:23:25.77598   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:23:25.77598   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:23:25.77598   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:23:25.77598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:23:25.77598   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:23:25.77599   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:23:25.77599   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:23:25.77599   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:23:25.77599   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:23:25.77601   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:23:25.77601   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:23:25.77602   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:23:25.77602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:23:25.77602   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:23:25.77603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:23:25.77603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:23:25.77603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:23:25.77603   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:23:25.77604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:23:25.77604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:23:25.77604   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:23:25.77605   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:23:25.77605   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:23:25.77606   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:23:26.63018 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"Puma starting in cluster mode..."}
2020-10-21_15:23:26.63020 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:23:26.63021 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:23:26.63022 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"* Environment: production"}
2020-10-21_15:23:26.63022 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"* Process workers: 2"}
2020-10-21_15:23:26.63022 {"timestamp":"2020-10-21T15:23:26.630Z","pid":45216,"message":"* Preloading application"}
2020-10-21_15:23:40.15180 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:23:40.95575 {"timestamp":"2020-10-21T15:23:40.955Z","pid":45216,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:23:40.95615 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:23:40.95633 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:23:40.95635   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:23:40.95635   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:23:40.95636   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:23:40.95636   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:23:40.95636   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:23:40.95637   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:23:40.95637   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:23:40.95637   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:23:40.95638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:23:40.95638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:23:40.95639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:23:40.95639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:23:40.95641   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:23:40.95641   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:23:40.95641   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:23:40.95642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:23:40.95642   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:23:40.95643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:23:40.95643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:23:40.95643   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:23:40.95644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:23:40.95645   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:23:40.95647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:23:40.95647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:23:40.95647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:23:40.95648   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:23:40.95648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:40.95648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:23:40.95649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:23:40.95649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:40.95649   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:23:40.95651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:23:40.95651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:23:40.95651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:23:40.95652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:23:40.95652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:23:40.95652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:23:40.95653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:23:40.95653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:23:40.95654   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:23:40.95655   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:23:40.95655   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:23:40.95655   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:23:40.95656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:23:40.95656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:23:40.95656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:23:40.95657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:23:40.95657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:23:40.95657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:23:40.95658   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:23:40.95659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:23:40.95659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:23:40.95660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:23:40.95661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:23:40.95661   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:23:40.95661   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:23:40.95662   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:23:40.95662   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:23:40.95662   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:23:40.95663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:23:40.95663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:23:40.95663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:23:40.95665   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:23:40.95665   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:23:40.95665   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:23:40.95666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:23:40.95666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:23:40.95666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:23:40.95667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:23:40.95667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:23:40.95667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:23:40.95668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:23:40.95669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:23:40.95670   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:23:40.95670   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:23:41.76403 {"timestamp":"2020-10-21T15:23:41.763Z","pid":45670,"message":"Puma starting in cluster mode..."}
2020-10-21_15:23:41.76426 {"timestamp":"2020-10-21T15:23:41.764Z","pid":45670,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:23:41.76439 {"timestamp":"2020-10-21T15:23:41.764Z","pid":45670,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:23:41.76452 {"timestamp":"2020-10-21T15:23:41.764Z","pid":45670,"message":"* Environment: production"}
2020-10-21_15:23:41.76469 {"timestamp":"2020-10-21T15:23:41.764Z","pid":45670,"message":"* Process workers: 2"}
2020-10-21_15:23:41.76482 {"timestamp":"2020-10-21T15:23:41.764Z","pid":45670,"message":"* Preloading application"}
2020-10-21_15:23:55.21573 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:23:56.01587 {"timestamp":"2020-10-21T15:23:56.015Z","pid":45670,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:23:56.01617 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:23:56.01633 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:23:56.01633   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:23:56.01634   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:23:56.01634   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:23:56.01634   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:23:56.01634   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:23:56.01635   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:23:56.01635   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:23:56.01635   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:23:56.01635   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:23:56.01636   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:23:56.01636   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:23:56.01636   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:23:56.01637   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:23:56.01638   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:23:56.01638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:23:56.01638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:23:56.01638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:23:56.01638   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:23:56.01639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:23:56.01639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:23:56.01639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:23:56.01639   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:23:56.01640   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:23:56.01641   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:23:56.01641   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:23:56.01641   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:23:56.01641   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:56.01642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:23:56.01642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:23:56.01642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:23:56.01642   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:23:56.01644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:23:56.01644   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:23:56.01645   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:23:56.01645   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:23:56.01645   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:23:56.01645   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:23:56.01645   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:23:56.01646   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:23:56.01647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:23:56.01647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:23:56.01647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:23:56.01647   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:23:56.01648   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:23:56.01648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:23:56.01648   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:23:56.01648   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:23:56.01649   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:23:56.01649   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:23:56.01649   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:23:56.01650   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:23:56.01650   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:23:56.01651   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:23:56.01651   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:23:56.01651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:23:56.01651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:23:56.01651   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:23:56.01652   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:23:56.01652   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:23:56.01652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:23:56.01652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:23:56.01653   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:23:56.01654   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:23:56.01654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:23:56.01654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:23:56.01655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:23:56.01655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:23:56.01655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:23:56.01655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:23:56.01655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:23:56.01656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:23:56.01656   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:23:56.01657   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:23:56.01657   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:23:56.01658   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:23:56.83496 {"timestamp":"2020-10-21T15:23:56.834Z","pid":46130,"message":"Puma starting in cluster mode..."}
2020-10-21_15:23:56.83518 {"timestamp":"2020-10-21T15:23:56.835Z","pid":46130,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:23:56.83532 {"timestamp":"2020-10-21T15:23:56.835Z","pid":46130,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:23:56.83546 {"timestamp":"2020-10-21T15:23:56.835Z","pid":46130,"message":"* Environment: production"}
2020-10-21_15:23:56.83562 {"timestamp":"2020-10-21T15:23:56.835Z","pid":46130,"message":"* Process workers: 2"}
2020-10-21_15:23:56.83576 {"timestamp":"2020-10-21T15:23:56.835Z","pid":46130,"message":"* Preloading application"}
2020-10-21_15:24:10.87292 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:24:11.65888 {"timestamp":"2020-10-21T15:24:11.658Z","pid":46130,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:24:11.65916 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:24:11.65932 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:24:11.65933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:24:11.65933   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:24:11.65934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:24:11.65934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:24:11.65934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:24:11.65934   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:24:11.65935   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:24:11.65935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:24:11.65935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:24:11.65935   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:24:11.65936   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:24:11.65936   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:24:11.65938   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:24:11.65938   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:24:11.65938   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:24:11.65939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:24:11.65939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:24:11.65939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:24:11.65939   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:24:11.65940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:24:11.65940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:24:11.65940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:24:11.65941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:24:11.65941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:24:11.65942   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:24:11.65942   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:24:11.65942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:11.65942   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:24:11.65943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:24:11.65943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:11.65943   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:24:11.65944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:24:11.65944   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:24:11.65945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:24:11.65945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:24:11.65945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:24:11.65945   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:24:11.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:24:11.65946   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:24:11.65947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:24:11.65947   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:24:11.65948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:24:11.65948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:24:11.65948   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:24:11.65948   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:24:11.65949   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:24:11.65949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:24:11.65949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:24:11.65949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:24:11.65949   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:24:11.65950   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:24:11.65951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:24:11.65951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:24:11.65951   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:24:11.65951   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:24:11.65952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:24:11.65952   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:24:11.65952   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:24:11.65952   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:24:11.65952   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:24:11.65953   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:24:11.65953   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:24:11.65954   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:24:11.65954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:24:11.65954   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:24:11.65955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:24:11.65955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:24:11.65955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:24:11.65955   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:24:11.65956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:24:11.65956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:24:11.65956   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:24:11.65957   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:24:11.65957   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:24:11.65958   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:24:12.34862 {"timestamp":"2020-10-21T15:24:12.348Z","pid":46591,"message":"Puma starting in cluster mode..."}
2020-10-21_15:24:12.34923 {"timestamp":"2020-10-21T15:24:12.349Z","pid":46591,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:24:12.34932 {"timestamp":"2020-10-21T15:24:12.349Z","pid":46591,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:24:12.34939 {"timestamp":"2020-10-21T15:24:12.349Z","pid":46591,"message":"* Environment: production"}
2020-10-21_15:24:12.34964 {"timestamp":"2020-10-21T15:24:12.349Z","pid":46591,"message":"* Process workers: 2"}
2020-10-21_15:24:12.34983 {"timestamp":"2020-10-21T15:24:12.349Z","pid":46591,"message":"* Preloading application"}
2020-10-21_15:24:26.93920 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:24:27.70336 {"timestamp":"2020-10-21T15:24:27.703Z","pid":46591,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:24:27.70375 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:24:27.70397 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:24:27.70398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:24:27.70398   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:24:27.70399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:24:27.70399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:24:27.70399   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:24:27.70400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:24:27.70400   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:24:27.70401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:24:27.70401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:24:27.70401   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:24:27.70402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:24:27.70402   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:24:27.70404   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:24:27.70404   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:24:27.70405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:24:27.70405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:24:27.70405   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:24:27.70406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:24:27.70406   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:24:27.70407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:24:27.70407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:24:27.70407   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:24:27.70409   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:24:27.70410   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:24:27.70410   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:24:27.70411   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:24:27.70411   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:27.70412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:24:27.70412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:24:27.70412   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:27.70413   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:24:27.70414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:24:27.70414   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:24:27.70415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:24:27.70415   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:24:27.70434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:24:27.70435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:24:27.70435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:24:27.70436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:24:27.70437   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:24:27.70438   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:24:27.70438   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:24:27.70438   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:24:27.70439   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:24:27.70439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:24:27.70439   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:24:27.70440   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:24:27.70440   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:24:27.70440   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:24:27.70441   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:24:27.70442   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:24:27.70442   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:24:27.70443   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:24:27.70443   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:24:27.70444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:24:27.70444   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:24:27.70445   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:24:27.70445   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:24:27.70446   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:24:27.70446   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:24:27.70446   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:24:27.70447   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:24:27.70448   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:24:27.70448   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:24:27.70449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:24:27.70449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:24:27.70449   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:24:27.70478   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:24:27.70479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:24:27.70479   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:24:27.70480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:24:27.70480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:24:27.70500   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:24:27.70501   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:24:27.70501   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:24:28.47972 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"Puma starting in cluster mode..."}
2020-10-21_15:24:28.47976 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:24:28.47976 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:24:28.47977 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"* Environment: production"}
2020-10-21_15:24:28.47977 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"* Process workers: 2"}
2020-10-21_15:24:28.47978 {"timestamp":"2020-10-21T15:24:28.479Z","pid":47050,"message":"* Preloading application"}
2020-10-21_15:24:41.85578 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:24:42.89627 {"timestamp":"2020-10-21T15:24:42.896Z","pid":47050,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:24:42.89660 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:24:42.89780 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:24:42.89783   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:24:42.89784   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:24:42.89785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:24:42.89785   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:24:42.89786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:24:42.89786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:24:42.89786   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:24:42.89786   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:24:42.89787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:24:42.89787   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:24:42.89799   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:24:42.89801   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:24:42.89802   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:24:42.89802   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:24:42.89803   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:24:42.89803   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:24:42.89803   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:24:42.89804   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:24:42.89805   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:24:42.89806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:24:42.89806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:24:42.89806   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:24:42.89808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:24:42.89808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:24:42.89808   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:24:42.89809   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:24:42.89809   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:42.89810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:24:42.89810   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:24:42.89811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:42.89811   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:24:42.89825   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:24:42.89827   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:24:42.89828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:24:42.89828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:24:42.89828   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:24:42.89829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:24:42.89829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:24:42.89829   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:24:42.89831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:24:42.89831   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:24:42.89832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:24:42.89832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:24:42.89832   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:24:42.89833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:24:42.89833   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:24:42.89833   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:24:42.89834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:24:42.89834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:24:42.89834   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:24:42.89836   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:24:42.89836   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:24:42.89836   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:24:42.89837   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:24:42.89837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:24:42.89838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:24:42.89838   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:24:42.89846   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:24:42.89847   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:24:42.89848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:24:42.89848   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:24:42.89852   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:24:42.89853   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:24:42.89854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:24:42.89854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:24:42.89854   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:24:42.89855   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:24:42.89856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:24:42.89856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:24:42.89856   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:24:42.89857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:24:42.89857   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:24:42.89859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:24:42.89859   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:24:42.89859   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:24:43.84753 {"timestamp":"2020-10-21T15:24:43.847Z","pid":47506,"message":"Puma starting in cluster mode..."}
2020-10-21_15:24:43.84842 {"timestamp":"2020-10-21T15:24:43.847Z","pid":47506,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:24:43.84856 {"timestamp":"2020-10-21T15:24:43.848Z","pid":47506,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:24:43.84892 {"timestamp":"2020-10-21T15:24:43.848Z","pid":47506,"message":"* Environment: production"}
2020-10-21_15:24:43.84908 {"timestamp":"2020-10-21T15:24:43.849Z","pid":47506,"message":"* Process workers: 2"}
2020-10-21_15:24:43.84923 {"timestamp":"2020-10-21T15:24:43.849Z","pid":47506,"message":"* Preloading application"}
2020-10-21_15:24:57.17765 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:24:57.96596 {"timestamp":"2020-10-21T15:24:57.965Z","pid":47506,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:24:57.96625 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:24:57.96641 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:24:57.96642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:24:57.96642   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:24:57.96643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:24:57.96643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:24:57.96643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:24:57.96643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:24:57.96643   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:24:57.96644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:24:57.96644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:24:57.96644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:24:57.96644   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:24:57.96645   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:24:57.96646   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:24:57.96647   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:24:57.96647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:24:57.96647   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:24:57.96648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:24:57.96648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:24:57.96648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:24:57.96648   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:24:57.96649   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:24:57.96649   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:24:57.96650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:24:57.96650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:24:57.96650   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:24:57.96651   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:24:57.96651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:57.96651   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:24:57.96652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:24:57.96652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:24:57.96652   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:24:57.96653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:24:57.96653   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:24:57.96654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:24:57.96654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:24:57.96654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:24:57.96654   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:24:57.96655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:24:57.96655   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:24:57.96656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:24:57.96656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:24:57.96656   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:24:57.96657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:24:57.96657   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:24:57.96658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:24:57.96658   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:24:57.96658   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:24:57.96658   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:24:57.96659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:24:57.96659   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:24:57.96660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:24:57.96660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:24:57.96660   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:24:57.96661   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:24:57.96661   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:24:57.96662   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:24:57.96662   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:24:57.96662   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:24:57.96663   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:24:57.96663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:24:57.96663   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:24:57.96664   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:24:57.96666   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:24:57.96666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:24:57.96666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:24:57.96666   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:24:57.96667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:24:57.96667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:24:57.96667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:24:57.96667   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:24:57.96668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:24:57.96668   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:24:57.96669   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:24:57.96669   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:24:57.96670   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:24:58.82512 {"timestamp":"2020-10-21T15:24:58.825Z","pid":47980,"message":"Puma starting in cluster mode..."}
2020-10-21_15:24:58.82607 {"timestamp":"2020-10-21T15:24:58.825Z","pid":47980,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:24:58.82627 {"timestamp":"2020-10-21T15:24:58.826Z","pid":47980,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:24:58.82646 {"timestamp":"2020-10-21T15:24:58.826Z","pid":47980,"message":"* Environment: production"}
2020-10-21_15:24:58.82664 {"timestamp":"2020-10-21T15:24:58.826Z","pid":47980,"message":"* Process workers: 2"}
2020-10-21_15:24:58.82683 {"timestamp":"2020-10-21T15:24:58.826Z","pid":47980,"message":"* Preloading application"}
2020-10-21_15:25:14.68770 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:25:15.49478 {"timestamp":"2020-10-21T15:25:15.493Z","pid":47980,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:25:15.49481 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:25:15.49481 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:25:15.49482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:25:15.49482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:25:15.49482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:25:15.49482   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:25:15.49483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:25:15.49483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:25:15.49483   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:25:15.49483   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:25:15.49484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:25:15.49484   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:25:15.49485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:25:15.49485   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:25:15.49486   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:25:15.49486   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:25:15.49486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:25:15.49486   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:25:15.49487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:25:15.49487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:25:15.49487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:25:15.49487   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:25:15.49488   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:25:15.49488   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:25:15.49489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:25:15.49489   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:25:15.49490   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:25:15.49490   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:25:15.49490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:15.49490   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:25:15.49492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:25:15.49492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:15.49492   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:25:15.49496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:25:15.49496   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:25:15.49497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:25:15.49497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:25:15.49497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:25:15.49497   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:25:15.49499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:25:15.49499   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:25:15.49499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:25:15.49499   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:25:15.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:25:15.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:25:15.49500   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:25:15.49500   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:25:15.49501   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:25:15.49501   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:25:15.49502   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:25:15.49502   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:25:15.49503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:25:15.49503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:25:15.49503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:25:15.49503   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:25:15.49504   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:25:15.49504   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:25:15.49504   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:25:15.49505   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:25:15.49506   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:25:15.49506   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:25:15.49507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:25:15.49507   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:25:15.49508   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:25:15.49508   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:25:15.49508   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:25:15.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:25:15.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:25:15.49509   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:25:15.49510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:25:15.49510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:25:15.49510   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:25:15.49518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:25:15.49518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:25:15.49518   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:25:15.49519   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:25:15.49519   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:25:16.71312 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"Puma starting in cluster mode..."}
2020-10-21_15:25:16.71339 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:25:16.71348 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:25:16.71354 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"* Environment: production"}
2020-10-21_15:25:16.71360 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"* Process workers: 2"}
2020-10-21_15:25:16.71366 {"timestamp":"2020-10-21T15:25:16.713Z","pid":48500,"message":"* Preloading application"}
2020-10-21_15:25:31.84614 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:25:32.52848 {"timestamp":"2020-10-21T15:25:32.528Z","pid":48500,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:25:32.52866 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:25:32.52911 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:25:32.52913   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:25:32.52914   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:25:32.52915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:25:32.52915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:25:32.52915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:25:32.52915   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:25:32.52916   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:25:32.52916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:25:32.52916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:25:32.52916   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:25:32.52917   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:25:32.52917   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:25:32.52918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:25:32.52918   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:25:32.52918   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:25:32.52919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:25:32.52919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:25:32.52919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:25:32.52919   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:25:32.52920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:25:32.52920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:25:32.52920   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:25:32.52924   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:25:32.52925   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:25:32.52925   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:25:32.52925   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:25:32.52925   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:32.52926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:25:32.52926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:25:32.52926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:32.52926   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:25:32.52927   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:25:32.52928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:25:32.52928   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:25:32.52929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:25:32.52929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:25:32.52929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:25:32.52929   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:25:32.52930   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:25:32.52931   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:25:32.52931   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:25:32.52931   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:25:32.52931   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:25:32.52932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:25:32.52932   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:25:32.52932   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:25:32.52932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:25:32.52932   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:25:32.52933   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:25:32.52933   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:25:32.52934   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:25:32.52934   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:25:32.52934   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:25:32.52935   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:25:32.52935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:25:32.52935   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:25:32.52935   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:25:32.52936   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:25:32.52936   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:25:32.52936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:25:32.52936   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:25:32.52936   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:25:32.52937   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:25:32.52938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:25:32.52938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:25:32.52938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:25:32.52938   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:25:32.52939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:25:32.52939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:25:32.52939   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:25:32.52940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:25:32.52940   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:25:32.52941   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:25:32.52941   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:25:32.52941   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:25:33.24603 {"timestamp":"2020-10-21T15:25:33.245Z","pid":48986,"message":"Puma starting in cluster mode..."}
2020-10-21_15:25:33.24606 {"timestamp":"2020-10-21T15:25:33.246Z","pid":48986,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:25:33.24606 {"timestamp":"2020-10-21T15:25:33.246Z","pid":48986,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:25:33.24607 {"timestamp":"2020-10-21T15:25:33.246Z","pid":48986,"message":"* Environment: production"}
2020-10-21_15:25:33.24608 {"timestamp":"2020-10-21T15:25:33.246Z","pid":48986,"message":"* Process workers: 2"}
2020-10-21_15:25:33.24609 {"timestamp":"2020-10-21T15:25:33.246Z","pid":48986,"message":"* Preloading application"}
2020-10-21_15:25:48.22488 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:25:49.31976 {"timestamp":"2020-10-21T15:25:49.319Z","pid":48986,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:25:49.32012 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:25:49.32028 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:25:49.32029   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:25:49.32029   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:25:49.32029   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:25:49.32029   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:25:49.32030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:25:49.32030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:25:49.32030   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:25:49.32030   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:25:49.32031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:25:49.32031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:25:49.32031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:25:49.32031   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:25:49.32032   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:25:49.32033   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:25:49.32033   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:25:49.32034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:25:49.32034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:25:49.32034   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:25:49.32035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:25:49.32035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:25:49.32035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:25:49.32035   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:25:49.32037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:25:49.32037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:25:49.32037   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:25:49.32037   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:25:49.32038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:49.32038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:25:49.32038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:25:49.32038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:25:49.32039   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:25:49.32040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:25:49.32040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:25:49.32040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:25:49.32040   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:25:49.32041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:25:49.32041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:25:49.32041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:25:49.32041   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:25:49.32043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:25:49.32043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:25:49.32043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:25:49.32043   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:25:49.32044   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:25:49.32044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:25:49.32044   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:25:49.32045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:25:49.32045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:25:49.32045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:25:49.32045   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:25:49.32046   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:25:49.32047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:25:49.32047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:25:49.32047   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:25:49.32047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:25:49.32047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:25:49.32048   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:25:49.32048   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:25:49.32048   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:25:49.32048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:25:49.32049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:25:49.32049   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:25:49.32050   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:25:49.32050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:25:49.32050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:25:49.32051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:25:49.32051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:25:49.32051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:25:49.32051   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:25:49.32052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:25:49.32052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:25:49.32052   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:25:49.32053   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:25:49.32054   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:25:49.32054   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:25:50.00867 {"timestamp":"2020-10-21T15:25:50.008Z","pid":49482,"message":"Puma starting in cluster mode..."}
2020-10-21_15:25:50.00878 {"timestamp":"2020-10-21T15:25:50.008Z","pid":49482,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:25:50.00902 {"timestamp":"2020-10-21T15:25:50.008Z","pid":49482,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:25:50.00921 {"timestamp":"2020-10-21T15:25:50.009Z","pid":49482,"message":"* Environment: production"}
2020-10-21_15:25:50.00930 {"timestamp":"2020-10-21T15:25:50.009Z","pid":49482,"message":"* Process workers: 2"}
2020-10-21_15:25:50.00945 {"timestamp":"2020-10-21T15:25:50.009Z","pid":49482,"message":"* Preloading application"}
2020-10-21_15:26:03.81164 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:26:04.56797 {"timestamp":"2020-10-21T15:26:04.567Z","pid":49482,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:26:04.56841 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:26:04.56870 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:26:04.56881   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:26:04.56882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:26:04.56882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:26:04.56882   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:26:04.56883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:26:04.56883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:26:04.56883   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:26:04.56883   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:26:04.56884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:26:04.56884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:26:04.56884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:26:04.56884   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:26:04.56886   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:26:04.56886   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:26:04.56886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:26:04.56886   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:26:04.56906   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:26:04.56907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:26:04.56907   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:26:04.56908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:26:04.56908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:26:04.56908   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:26:04.56927   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:26:04.56940   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:26:04.56941   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:26:04.56954   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:26:04.56967   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:04.56977   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:26:04.56981   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:26:04.56982   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:04.56994   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:26:04.57007   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:26:04.57008   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:26:04.57021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:26:04.57021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:26:04.57037   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:26:04.57038   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:26:04.57050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:26:04.57050   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:26:04.57060   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:26:04.57061   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:26:04.57061   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:26:04.57061   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:26:04.57061   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:26:04.57065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:26:04.57066   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:26:04.57077   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:26:04.57081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:26:04.57082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:26:04.57089   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:26:04.57094   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:26:04.57094   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:26:04.57094   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:26:04.57095   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:26:04.57095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:26:04.57095   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:26:04.57095   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:26:04.57112   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:26:04.57113   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:26:04.57127   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:26:04.57128   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:26:04.57128   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:26:04.57142   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:26:04.57142   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:26:04.57154   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:26:04.57155   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:26:04.57167   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:26:04.57181   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:26:04.57184   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:26:04.57185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:26:04.57185   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:26:04.57186   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:26:04.57207   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:26:04.57214   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:26:04.57215   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:26:05.37623 {"timestamp":"2020-10-21T15:26:05.376Z","pid":49947,"message":"Puma starting in cluster mode..."}
2020-10-21_15:26:05.37649 {"timestamp":"2020-10-21T15:26:05.376Z","pid":49947,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:26:05.37669 {"timestamp":"2020-10-21T15:26:05.376Z","pid":49947,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:26:05.37705 {"timestamp":"2020-10-21T15:26:05.377Z","pid":49947,"message":"* Environment: production"}
2020-10-21_15:26:05.37725 {"timestamp":"2020-10-21T15:26:05.377Z","pid":49947,"message":"* Process workers: 2"}
2020-10-21_15:26:05.37744 {"timestamp":"2020-10-21T15:26:05.377Z","pid":49947,"message":"* Preloading application"}
2020-10-21_15:26:18.60665 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:26:19.33066 {"timestamp":"2020-10-21T15:26:19.330Z","pid":49947,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:26:19.33124 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:26:19.33146 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:26:19.33148   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:26:19.33149   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:26:19.33149   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:26:19.33149   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:26:19.33150   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:26:19.33151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:26:19.33151   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:26:19.33151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:26:19.33151   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:26:19.33152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:26:19.33152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:26:19.33152   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:26:19.33153   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:26:19.33154   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:26:19.33154   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:26:19.33154   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:26:19.33164   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:26:19.33165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:26:19.33165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:26:19.33165   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:26:19.33166   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:26:19.33167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:26:19.33167   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:26:19.33168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:26:19.33168   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:26:19.33168   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:26:19.33168   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:19.33169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:26:19.33169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:26:19.33169   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:19.33170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:26:19.33170   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:26:19.33171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:26:19.33171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:26:19.33171   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:26:19.33176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:26:19.33176   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:26:19.33177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:26:19.33177   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:26:19.33188   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:26:19.33188   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:26:19.33189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:26:19.33189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:26:19.33189   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:26:19.33189   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:26:19.33190   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:26:19.33190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:26:19.33190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:26:19.33190   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:26:19.33192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:26:19.33192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:26:19.33192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:26:19.33192   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:26:19.33193   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:26:19.33193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:26:19.33193   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:26:19.33193   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:26:19.33194   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:26:19.33194   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:26:19.33194   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:26:19.33194   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:26:19.33195   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:26:19.33196   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:26:19.33196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:26:19.33196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:26:19.33196   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:26:19.33197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:26:19.33197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:26:19.33197   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:26:19.33201   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:26:19.33202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:26:19.33202   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:26:19.33213   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:26:19.33214   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:26:19.33214   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:26:20.17461 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"Puma starting in cluster mode..."}
2020-10-21_15:26:20.17465 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:26:20.17466 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:26:20.17467 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"* Environment: production"}
2020-10-21_15:26:20.17480 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"* Process workers: 2"}
2020-10-21_15:26:20.17483 {"timestamp":"2020-10-21T15:26:20.174Z","pid":50401,"message":"* Preloading application"}
2020-10-21_15:26:33.45104 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:26:34.16389 {"timestamp":"2020-10-21T15:26:34.163Z","pid":50401,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:26:34.16635 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:26:34.16653 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:26:34.16655   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:26:34.16656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:26:34.16656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:26:34.16656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:26:34.16656   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:26:34.16657   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:26:34.16657   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:26:34.16657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:26:34.16657   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:26:34.16658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:26:34.16658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:26:34.16658   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:26:34.16677   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:26:34.16678   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:26:34.16678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:26:34.16678   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:26:34.16679   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:26:34.16681   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:26:34.16682   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:26:34.16682   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:26:34.16682   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:26:34.16682   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:26:34.16684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:26:34.16684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:26:34.16684   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:26:34.16684   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:26:34.16684   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:34.16685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:26:34.16685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:26:34.16685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:34.16685   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:26:34.16686   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:26:34.16687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:26:34.16687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:26:34.16687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:26:34.16687   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:26:34.16688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:26:34.16688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:26:34.16688   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:26:34.16689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:26:34.16689   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:26:34.16690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:26:34.16690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:26:34.16690   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:26:34.16690   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:26:34.16691   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:26:34.16691   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:26:34.16691   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:26:34.16692   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:26:34.16692   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:26:34.16733   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:26:34.16734   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:26:34.16747   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:26:34.16748   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:26:34.16748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:26:34.16748   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:26:34.16749   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:26:34.16749   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:26:34.16749   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:26:34.16749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:26:34.16749   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:26:34.16750   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:26:34.16768   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:26:34.16769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:26:34.16769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:26:34.16769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:26:34.16769   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:26:34.16770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:26:34.16770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:26:34.16770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:26:34.16770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:26:34.16770   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:26:34.16772   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:26:34.16772   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:26:34.16772   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:26:35.04332 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"Puma starting in cluster mode..."}
2020-10-21_15:26:35.04338 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:26:35.04339 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:26:35.04355 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"* Environment: production"}
2020-10-21_15:26:35.04394 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"* Process workers: 2"}
2020-10-21_15:26:35.04400 {"timestamp":"2020-10-21T15:26:35.043Z","pid":50859,"message":"* Preloading application"}
2020-10-21_15:26:49.12261 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:26:49.90918 {"timestamp":"2020-10-21T15:26:49.908Z","pid":50859,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:26:49.90927 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:26:49.90951 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:26:49.90951   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:26:49.90952   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:26:49.90963   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:26:49.90964   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:26:49.90964   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:26:49.90964   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:26:49.90964   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:26:49.90965   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:26:49.90965   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:26:49.90976   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:26:49.90977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:26:49.90977   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:26:49.90978   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:26:49.90991   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:26:49.90992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:26:49.90992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:26:49.90992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:26:49.90992   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:26:49.90993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:26:49.90993   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:26:49.91004   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:26:49.91005   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:26:49.91006   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:26:49.91020   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:26:49.91020   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:26:49.91020   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:26:49.91021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:49.91021   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:26:49.91034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:26:49.91034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:26:49.91034   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:26:49.91047   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:26:49.91048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:26:49.91048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:26:49.91048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:26:49.91048   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:26:49.91049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:26:49.91049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:26:49.91049   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:26:49.91063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:26:49.91063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:26:49.91063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:26:49.91063   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:26:49.91079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:26:49.91091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:26:49.91091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:26:49.91092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:26:49.91092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:26:49.91092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:26:49.91092   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:26:49.91105   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:26:49.91105   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:26:49.91105   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:26:49.91105   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:26:49.91106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:26:49.91106   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:26:49.91121   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:26:49.91121   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:26:49.91135   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:26:49.91146   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:26:49.91147   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:26:49.91147   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:26:49.91159   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:26:49.91159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:26:49.91159   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:26:49.91160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:26:49.91160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:26:49.91160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:26:49.91160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:26:49.91160   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:26:49.91172   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:26:49.91173   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:26:49.91174   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:26:49.91189   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:26:49.91199   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:26:50.58376 {"timestamp":"2020-10-21T15:26:50.583Z","pid":51302,"message":"Puma starting in cluster mode..."}
2020-10-21_15:26:50.58385 {"timestamp":"2020-10-21T15:26:50.583Z","pid":51302,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:26:50.58391 {"timestamp":"2020-10-21T15:26:50.583Z","pid":51302,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:26:50.58412 {"timestamp":"2020-10-21T15:26:50.584Z","pid":51302,"message":"* Environment: production"}
2020-10-21_15:26:50.58419 {"timestamp":"2020-10-21T15:26:50.584Z","pid":51302,"message":"* Process workers: 2"}
2020-10-21_15:26:50.58429 {"timestamp":"2020-10-21T15:26:50.584Z","pid":51302,"message":"* Preloading application"}
2020-10-21_15:27:04.22375 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:27:04.96995 {"timestamp":"2020-10-21T15:27:04.969Z","pid":51302,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:27:04.97031 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:27:04.97051 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:27:04.97051   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:27:04.97052   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:27:04.97052   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:27:04.97052   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:27:04.97053   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:27:04.97053   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:27:04.97053   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:27:04.97054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:27:04.97054   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:27:04.97055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:27:04.97055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:27:04.97055   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:27:04.97056   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:27:04.97057   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:27:04.97057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:27:04.97057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:27:04.97057   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:27:04.97058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:27:04.97058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:27:04.97058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:27:04.97058   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:27:04.97059   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:27:04.97060   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:27:04.97060   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:27:04.97060   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:27:04.97060   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:27:04.97061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:04.97061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:27:04.97061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:27:04.97061   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:04.97062   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:27:04.97063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:27:04.97063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:27:04.97063   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:27:04.97064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:27:04.97064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:27:04.97064   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:27:04.97065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:27:04.97065   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:27:04.97066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:27:04.97066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:27:04.97066   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:27:04.97067   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:27:04.97067   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:27:04.97067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:27:04.97067   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:27:04.97068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:27:04.97068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:27:04.97068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:27:04.97068   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:27:04.97069   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:27:04.97070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:27:04.97070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:27:04.97070   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:27:04.97070   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:27:04.97071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:27:04.97071   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:27:04.97071   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:27:04.97071   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:27:04.97071   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:27:04.97072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:27:04.97072   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:27:04.97073   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:27:04.97073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:27:04.97073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:27:04.97074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:27:04.97074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:27:04.97074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:27:04.97074   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:27:04.97075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:27:04.97075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:27:04.97075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:27:04.97077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:27:04.97077   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:27:04.97077   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:27:05.86126 {"timestamp":"2020-10-21T15:27:05.861Z","pid":51769,"message":"Puma starting in cluster mode..."}
2020-10-21_15:27:05.86151 {"timestamp":"2020-10-21T15:27:05.861Z","pid":51769,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:27:05.86170 {"timestamp":"2020-10-21T15:27:05.861Z","pid":51769,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:27:05.86190 {"timestamp":"2020-10-21T15:27:05.861Z","pid":51769,"message":"* Environment: production"}
2020-10-21_15:27:05.86203 {"timestamp":"2020-10-21T15:27:05.861Z","pid":51769,"message":"* Process workers: 2"}
2020-10-21_15:27:05.86222 {"timestamp":"2020-10-21T15:27:05.862Z","pid":51769,"message":"* Preloading application"}
2020-10-21_15:27:21.15446 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:27:22.02761 {"timestamp":"2020-10-21T15:27:22.027Z","pid":51769,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:27:22.02792 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:27:22.02810 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:27:22.02812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:27:22.02812   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:27:22.02813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:27:22.02813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:27:22.02813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:27:22.02813   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:27:22.02814   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:27:22.02814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:27:22.02814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:27:22.02814   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:27:22.02815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:27:22.02815   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:27:22.02822   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:27:22.02825   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:27:22.02826   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:27:22.02827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:27:22.02827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:27:22.02827   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:27:22.02828   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:27:22.02829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:27:22.02829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:27:22.02829   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:27:22.02830   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:27:22.02831   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:27:22.02831   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:27:22.02831   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:27:22.02831   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:22.02832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:27:22.02832   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:27:22.02837   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:22.02838   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:27:22.02842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:27:22.02842   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:27:22.02843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:27:22.02843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:27:22.02843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:27:22.02843   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:27:22.02844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:27:22.02844   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:27:22.02845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:27:22.02845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:27:22.02845   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:27:22.02846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:27:22.02846   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:27:22.02846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:27:22.02846   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:27:22.02847   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:27:22.02847   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:27:22.02853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:27:22.02853   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:27:22.02854   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:27:22.02855   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:27:22.02858   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:27:22.02858   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:27:22.02858   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:27:22.02859   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:27:22.02859   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:27:22.02859   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:27:22.02859   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:27:22.02860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:27:22.02860   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:27:22.02860   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:27:22.02861   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:27:22.02862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:27:22.02862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:27:22.02862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:27:22.02862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:27:22.02863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:27:22.02863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:27:22.02863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:27:22.02866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:27:22.02866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:27:22.02868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:27:22.02868   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:27:22.02868   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:27:22.75941 {"timestamp":"2020-10-21T15:27:22.759Z","pid":52275,"message":"Puma starting in cluster mode..."}
2020-10-21_15:27:22.76020 {"timestamp":"2020-10-21T15:27:22.759Z","pid":52275,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:27:22.76030 {"timestamp":"2020-10-21T15:27:22.760Z","pid":52275,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:27:22.76050 {"timestamp":"2020-10-21T15:27:22.760Z","pid":52275,"message":"* Environment: production"}
2020-10-21_15:27:22.76087 {"timestamp":"2020-10-21T15:27:22.760Z","pid":52275,"message":"* Process workers: 2"}
2020-10-21_15:27:22.76101 {"timestamp":"2020-10-21T15:27:22.760Z","pid":52275,"message":"* Preloading application"}
2020-10-21_15:27:36.06662 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:27:36.91548 {"timestamp":"2020-10-21T15:27:36.915Z","pid":52275,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:27:36.91584 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:27:36.91606 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:27:36.91607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:27:36.91607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:27:36.91607   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:27:36.91608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:27:36.91608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:27:36.91608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:27:36.91608   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:27:36.91608   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:27:36.91609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:27:36.91609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:27:36.91609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:27:36.91609   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:27:36.91611   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:27:36.91611   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:27:36.91611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:27:36.91611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:27:36.91611   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:27:36.91612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:27:36.91612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:27:36.91612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:27:36.91612   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:27:36.91613   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:27:36.91614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:27:36.91614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:27:36.91614   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:27:36.91614   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:27:36.91615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:36.91615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:27:36.91615   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:27:36.91616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:36.91616   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:27:36.91617   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:27:36.91618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:27:36.91618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:27:36.91618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:27:36.91618   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:27:36.91619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:27:36.91619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:27:36.91619   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:27:36.91620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:27:36.91620   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:27:36.91621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:27:36.91621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:27:36.91621   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:27:36.91621   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:27:36.91622   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:27:36.91622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:27:36.91622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:27:36.91622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:27:36.91622   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:27:36.91623   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:27:36.91624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:27:36.91624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:27:36.91624   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:27:36.91624   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:27:36.91625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:27:36.91625   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:27:36.91625   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:27:36.91625   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:27:36.91625   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:27:36.91626   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:27:36.91626   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:27:36.91627   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:27:36.91627   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:27:36.91628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:27:36.91628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:27:36.91628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:27:36.91628   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:27:36.91629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:27:36.91629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:27:36.91629   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:27:36.91631   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:27:36.91632   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:27:36.91632   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:27:36.91632   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:27:37.89421 {"timestamp":"2020-10-21T15:27:37.894Z","pid":52722,"message":"Puma starting in cluster mode..."}
2020-10-21_15:27:37.89449 {"timestamp":"2020-10-21T15:27:37.894Z","pid":52722,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:27:37.89462 {"timestamp":"2020-10-21T15:27:37.894Z","pid":52722,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:27:37.89486 {"timestamp":"2020-10-21T15:27:37.894Z","pid":52722,"message":"* Environment: production"}
2020-10-21_15:27:37.89499 {"timestamp":"2020-10-21T15:27:37.894Z","pid":52722,"message":"* Process workers: 2"}
2020-10-21_15:27:37.89522 {"timestamp":"2020-10-21T15:27:37.895Z","pid":52722,"message":"* Preloading application"}
2020-10-21_15:27:54.25575 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:27:55.01377 {"timestamp":"2020-10-21T15:27:55.013Z","pid":52722,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:27:55.01400 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:27:55.01411 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:27:55.01412   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:27:55.01412   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:27:55.01412   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:27:55.01413   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:27:55.01413   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:27:55.01413   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:27:55.01414   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:27:55.01414   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:27:55.01414   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:27:55.01415   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:27:55.01415   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:27:55.01415   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:27:55.01417   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:27:55.01417   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:27:55.01417   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:27:55.01417   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:27:55.01418   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:27:55.01418   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:27:55.01418   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:27:55.01418   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:27:55.01419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:27:55.01419   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:27:55.01420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:27:55.01420   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:27:55.01421   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:27:55.01421   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:27:55.01421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:55.01421   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:27:55.01422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:27:55.01422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:27:55.01422   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:27:55.01423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:27:55.01423   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:27:55.01424   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:27:55.01424   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:27:55.01424   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:27:55.01424   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:27:55.01425   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:27:55.01425   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:27:55.01426   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:27:55.01427   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:27:55.01427   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:27:55.01427   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:27:55.01427   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:27:55.01428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:27:55.01428   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:27:55.01428   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:27:55.01428   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:27:55.01429   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:27:55.01429   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:27:55.01430   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:27:55.01430   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:27:55.01430   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:27:55.01431   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:27:55.01431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:27:55.01431   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:27:55.01431   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:27:55.01432   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:27:55.01432   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:27:55.01432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:27:55.01432   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:27:55.01433   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:27:55.01434   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:27:55.01434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:27:55.01434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:27:55.01434   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:27:55.01435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:27:55.01435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:27:55.01435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:27:55.01435   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:27:55.01436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:27:55.01436   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:27:55.01437   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:27:55.01438   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:27:55.01438   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:27:55.94978 {"timestamp":"2020-10-21T15:27:55.949Z","pid":53255,"message":"Puma starting in cluster mode..."}
2020-10-21_15:27:55.94990 {"timestamp":"2020-10-21T15:27:55.949Z","pid":53255,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:27:55.94998 {"timestamp":"2020-10-21T15:27:55.949Z","pid":53255,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:27:55.95007 {"timestamp":"2020-10-21T15:27:55.950Z","pid":53255,"message":"* Environment: production"}
2020-10-21_15:27:55.95014 {"timestamp":"2020-10-21T15:27:55.950Z","pid":53255,"message":"* Process workers: 2"}
2020-10-21_15:27:55.95023 {"timestamp":"2020-10-21T15:27:55.950Z","pid":53255,"message":"* Preloading application"}
2020-10-21_15:28:11.21862 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:28:12.07023 {"timestamp":"2020-10-21T15:28:12.070Z","pid":53255,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:28:12.07044 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:28:12.07060 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:28:12.07061   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:28:12.07061   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:28:12.07062   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:28:12.07062   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:28:12.07062   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:28:12.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:28:12.07063   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:28:12.07063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:28:12.07063   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:28:12.07064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:28:12.07064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:28:12.07064   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:28:12.07066   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:28:12.07066   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:28:12.07066   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:28:12.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:28:12.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:28:12.07067   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:28:12.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:28:12.07068   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:28:12.07069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:28:12.07069   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:28:12.07071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:28:12.07071   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:28:12.07072   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:28:12.07072   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:28:12.07072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:12.07072   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:28:12.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:28:12.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:12.07073   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:28:12.07075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:28:12.07075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:28:12.07075   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:28:12.07076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:28:12.07076   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:28:12.07077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:28:12.07077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:28:12.07077   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:28:12.07079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:28:12.07079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:28:12.07079   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:28:12.07080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:28:12.07080   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:28:12.07080   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:28:12.07081   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:28:12.07081   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:28:12.07082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:28:12.07082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:28:12.07082   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:28:12.07084   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:28:12.07085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:28:12.07085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:28:12.07085   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:28:12.07086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:28:12.07086   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:28:12.07086   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:28:12.07087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:28:12.07087   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:28:12.07087   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:28:12.07088   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:28:12.07088   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:28:12.07090   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:28:12.07090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:28:12.07090   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:28:12.07091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:28:12.07091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:28:12.07091   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:28:12.07092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:28:12.07092   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:28:12.07093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:28:12.07093   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:28:12.07094   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:28:12.07095   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:28:12.07095   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:28:12.85073 {"timestamp":"2020-10-21T15:28:12.850Z","pid":53735,"message":"Puma starting in cluster mode..."}
2020-10-21_15:28:12.85085 {"timestamp":"2020-10-21T15:28:12.850Z","pid":53735,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:28:12.85092 {"timestamp":"2020-10-21T15:28:12.850Z","pid":53735,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:28:12.85101 {"timestamp":"2020-10-21T15:28:12.850Z","pid":53735,"message":"* Environment: production"}
2020-10-21_15:28:12.85109 {"timestamp":"2020-10-21T15:28:12.851Z","pid":53735,"message":"* Process workers: 2"}
2020-10-21_15:28:12.85118 {"timestamp":"2020-10-21T15:28:12.851Z","pid":53735,"message":"* Preloading application"}
2020-10-21_15:28:28.70159 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:28:29.46711 {"timestamp":"2020-10-21T15:28:29.466Z","pid":53735,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:28:29.46833 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:28:29.46852 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:28:29.46853   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:28:29.46854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:28:29.46854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:28:29.46854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:28:29.46854   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:28:29.46855   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:28:29.46855   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:28:29.46855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:28:29.46855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:28:29.46855   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:28:29.46856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:28:29.46856   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:28:29.46857   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:28:29.46857   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:28:29.46858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:28:29.46858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:28:29.46858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:28:29.46858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:28:29.46858   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:28:29.46859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:28:29.46859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:28:29.46859   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:28:29.46860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:28:29.46860   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:28:29.46861   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:28:29.46861   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:28:29.46861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:29.46861   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:28:29.46862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:28:29.46862   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:29.46863   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:28:29.46864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:28:29.46864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:28:29.46864   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:28:29.46865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:28:29.46865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:28:29.46865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:28:29.46865   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:28:29.46866   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:28:29.46867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:28:29.46867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:28:29.46867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:28:29.46867   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:28:29.46868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:28:29.46868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:28:29.46868   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:28:29.46868   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:28:29.46869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:28:29.46869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:28:29.46869   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:28:29.46870   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:28:29.46870   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:28:29.46870   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:28:29.46871   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:28:29.46871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:28:29.46871   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:28:29.46871   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:28:29.46872   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:28:29.46872   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:28:29.46872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:28:29.46872   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:28:29.46872   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:28:29.46873   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:28:29.46874   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:28:29.46874   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:28:29.46874   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:28:29.46875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:28:29.46875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:28:29.46875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:28:29.46875   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:28:29.46876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:28:29.46876   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:28:29.46877   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:28:29.46877   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:28:29.46877   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:28:30.34142 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"Puma starting in cluster mode..."}
2020-10-21_15:28:30.34150 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:28:30.34157 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:28:30.34163 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"* Environment: production"}
2020-10-21_15:28:30.34170 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"* Process workers: 2"}
2020-10-21_15:28:30.34179 {"timestamp":"2020-10-21T15:28:30.341Z","pid":54252,"message":"* Preloading application"}
2020-10-21_15:28:44.60448 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:28:45.45664 {"timestamp":"2020-10-21T15:28:45.456Z","pid":54252,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:28:45.45696 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:28:45.45710 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:28:45.45711   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:28:45.45711   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:28:45.45711   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:28:45.45712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:28:45.45712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:28:45.45712   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:28:45.45713   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:28:45.45713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:28:45.45713   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:28:45.45714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:28:45.45714   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:28:45.45717   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:28:45.45718   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:28:45.45719   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:28:45.45719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:28:45.45719   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:28:45.45720   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:28:45.45720   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:28:45.45720   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:28:45.45721   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:28:45.45721   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:28:45.45721   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:28:45.45723   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:28:45.45723   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:28:45.45723   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:28:45.45724   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:28:45.45724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:45.45724   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:28:45.45725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:28:45.45725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:28:45.45725   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:28:45.45727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:28:45.45727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:28:45.45727   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:28:45.45728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:28:45.45728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:28:45.45728   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:28:45.45729   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:28:45.45729   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:28:45.45730   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:28:45.45731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:28:45.45731   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:28:45.45732   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:28:45.45732   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:28:45.45732   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:28:45.45733   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:28:45.45733   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:28:45.45733   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:28:45.45734   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:28:45.45734   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:28:45.45735   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:28:45.45736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:28:45.45736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:28:45.45736   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:28:45.45737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:28:45.45737   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:28:45.45737   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:28:45.45738   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:28:45.45738   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:28:45.45738   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:28:45.45739   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:28:45.45739   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:28:45.45740   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:28:45.45741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:28:45.45741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:28:45.45741   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:28:45.45742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:28:45.45742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:28:45.45742   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:28:45.45743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:28:45.45743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:28:45.45743   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:28:45.45745   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:28:45.45745   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:28:45.45745   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:28:46.42342 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"Puma starting in cluster mode..."}
2020-10-21_15:28:46.42355 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:28:46.42364 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:28:46.42373 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"* Environment: production"}
2020-10-21_15:28:46.42382 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"* Process workers: 2"}
2020-10-21_15:28:46.42391 {"timestamp":"2020-10-21T15:28:46.423Z","pid":54724,"message":"* Preloading application"}
2020-10-21_15:29:01.74888 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (ie, make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2020-10-21_15:29:02.77989 {"timestamp":"2020-10-21T15:29:02.779Z","pid":54724,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log"}
2020-10-21_15:29:02.78042 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2020-10-21_15:29:02.78078 Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application.log
2020-10-21_15:29:02.78080   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `initialize'
2020-10-21_15:29:02.78080   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open'
2020-10-21_15:29:02.78081   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:744:in `open_logfile'
2020-10-21_15:29:02.78081   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:736:in `set_dev'
2020-10-21_15:29:02.78082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:671:in `initialize'
2020-10-21_15:29:02.78082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `new'
2020-10-21_15:29:02.78082   /opt/gitlab/embedded/lib/ruby/2.6.0/logger.rb:387:in `initialize'
2020-10-21_15:29:02.78083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `new'
2020-10-21_15:29:02.78083   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/logger.rb:36:in `build'
2020-10-21_15:29:02.78084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2020-10-21_15:29:02.78084   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2020-10-21_15:29:02.78085   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2020-10-21_15:29:02.78086   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2020-10-21_15:29:02.78087   /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2020-10-21_15:29:02.78087   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:48:in `uncached_application_settings'
2020-10-21_15:29:02.78088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:30:in `ensure_application_settings!'
2020-10-21_15:29:02.78088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `block in current_application_settings'
2020-10-21_15:29:02.78088   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/null_request_store.rb:34:in `fetch'
2020-10-21_15:29:02.78089   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/safe_request_store.rb:12:in `fetch'
2020-10-21_15:29:02.78089   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:7:in `current_application_settings'
2020-10-21_15:29:02.78089   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:20:in `method_missing'
2020-10-21_15:29:02.78090   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:100:in `prometheus_metrics_enabled_unmemoized'
2020-10-21_15:29:02.78303   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:26:in `block in prometheus_metrics_enabled?'
2020-10-21_15:29:02.78305   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'
2020-10-21_15:29:02.78306   /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:25:in `prometheus_metrics_enabled?'
2020-10-21_15:29:02.78306   /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:41:in `<top (required)>'
2020-10-21_15:29:02.78307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:29:02.78307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `block in load'
2020-10-21_15:29:02.78307   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:291:in `load_dependency'
2020-10-21_15:29:02.78308   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/dependencies.rb:318:in `load'
2020-10-21_15:29:02.78309   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:666:in `block in load_config_initializer'
2020-10-21_15:29:02.78313   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/activesupport-6.0.3.1/lib/active_support/notifications.rb:182:in `instrument'
2020-10-21_15:29:02.78314   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:665:in `load_config_initializer'
2020-10-21_15:29:02.78315   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:625:in `block (2 levels) in <class:Engine>'
2020-10-21_15:29:02.78316   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `each'
2020-10-21_15:29:02.78317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/engine.rb:624:in `block in <class:Engine>'
2020-10-21_15:29:02.78317   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `instance_exec'
2020-10-21_15:29:02.78318   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:32:in `run'
2020-10-21_15:29:02.78318   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:61:in `block in run_initializers'
2020-10-21_15:29:02.78321   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:228:in `block in tsort_each'
2020-10-21_15:29:02.78322   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2020-10-21_15:29:02.78323   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2020-10-21_15:29:02.78324   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:431:in `each_strongly_connected_component_from'
2020-10-21_15:29:02.78325   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2020-10-21_15:29:02.78326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `each'
2020-10-21_15:29:02.78326   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:50:in `tsort_each_child'
2020-10-21_15:29:02.78328   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `call'
2020-10-21_15:29:02.78329   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:415:in `each_strongly_connected_component_from'
2020-10-21_15:29:02.78331   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:349:in `block in each_strongly_connected_component'
2020-10-21_15:29:02.78332   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each'
2020-10-21_15:29:02.78337   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `call'
2020-10-21_15:29:02.78338   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:347:in `each_strongly_connected_component'
2020-10-21_15:29:02.78343   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:226:in `tsort_each'
2020-10-21_15:29:02.78345   /opt/gitlab/embedded/lib/ruby/2.6.0/tsort.rb:205:in `tsort_each'
2020-10-21_15:29:02.78345   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/initializable.rb:60:in `run_initializers'
2020-10-21_15:29:02.78346   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/railties-6.0.3.1/lib/rails/application.rb:363:in `initialize!'
2020-10-21_15:29:02.78347   /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:5:in `<top (required)>'
2020-10-21_15:29:02.78347   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `require'
2020-10-21_15:29:02.78348   /opt/gitlab/embedded/service/gitlab-rails/config.ru:18:in `block in <main>'
2020-10-21_15:29:02.78349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `instance_eval'
2020-10-21_15:29:02.78349   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:55:in `initialize'
2020-10-21_15:29:02.78350   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `new'
2020-10-21_15:29:02.78479   /opt/gitlab/embedded/service/gitlab-rails/config.ru:in `<main>'
2020-10-21_15:29:02.78480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `eval'
2020-10-21_15:29:02.78480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:49:in `new_from_string'
2020-10-21_15:29:02.78480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/rack-2.0.9/lib/rack/builder.rb:40:in `parse_file'
2020-10-21_15:29:02.78480   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:321:in `load_rackup'
2020-10-21_15:29:02.78481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/configuration.rb:246:in `app'
2020-10-21_15:29:02.78481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/runner.rb:155:in `load_and_bind'
2020-10-21_15:29:02.78481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cluster.rb:413:in `run'
2020-10-21_15:29:02.78481   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/launcher.rb:172:in `run'
2020-10-21_15:29:02.78482   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/lib/puma/cli.rb:80:in `run'
2020-10-21_15:29:02.78483   /opt/gitlab/embedded/lib/ruby/gems/2.6.0/gems/gitlab-puma-4.3.5.gitlab.3/bin/puma:10:in `<top (required)>'
2020-10-21_15:29:02.78483   /opt/gitlab/embedded/bin/puma:23:in `load'
2020-10-21_15:29:02.78483   /opt/gitlab/embedded/bin/puma:23:in `<top (required)>'
2020-10-21_15:29:03.62834 {"timestamp":"2020-10-21T15:29:03.628Z","pid":55239,"message":"Puma starting in cluster mode..."}
2020-10-21_15:29:03.62852 {"timestamp":"2020-10-21T15:29:03.628Z","pid":55239,"message":"* Version 4.3.5.gitlab.3 (ruby 2.6.6-p146), codename: Mysterious Traveller"}
2020-10-21_15:29:03.62880 {"timestamp":"2020-10-21T15:29:03.628Z","pid":55239,"message":"* Min threads: 4, max threads: 4"}
2020-10-21_15:29:03.62900 {"timestamp":"2020-10-21T15:29:03.628Z","pid":55239,"message":"* Environment: production"}
2020-10-21_15:29:03.62918 {"timestamp":"2020-10-21T15:29:03.629Z","pid":55239,"message":"* Process workers: 2"}
2020-10-21_15:29:03.62940 {"timestamp":"2020-10-21T15:29:03.629Z","pid":55239,"message":"* Preloading application"}
